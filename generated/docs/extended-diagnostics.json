{"id":"extended-diagnostics","title":"擴充套件診斷","contents":"<div class=\"content\">\n  <h1 id=\"extended-diagnostics\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5zie6428ckc1avtsii8jo1bwo\">擴充套件診斷<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#extended-diagnostics\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cue84r1644tpfz29058ck10cf\">有許多編碼模式在技術上對編譯器或執行時來說都同樣是有效的，但卻可能有複雜的細微差別或警告。這些模式可能不會具有開發人員預期的效果，而這通常會導致錯誤。Angular 編譯器包含『擴充套件診斷』，可以識別其中的許多模式，以警告開發人員潛在的問題並在程式碼庫中強制執行通用的最佳實踐。</p>\n<h2 id=\"diagnostics\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"38luuz7k85eawc9hh9dz7uzk9\">診斷<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#diagnostics\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9l1zg89gd9k81a3vbn6lswl1d\">目前，Angular 支援以下擴充套件診斷：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bhn95w3mr3u0xmjih6ppex4q8\"><a href=\"extended-diagnostics/NG8101\">NG8101 - <code>invalidBananaInBox</code></a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7e17lsui6eigsoc7yslrby8q5\"><a href=\"extended-diagnostics/NG8102\">NG8102 - <code>nullishCoalescingNotNullable</code></a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5ocllkavxnqibguhequh00kqh\"><a href=\"extended-diagnostics/NG8103\">NG8103 - <code>missingControlFlowDirective</code></a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7ifevzbvdjwj4ml0lfylntanf\"><a href=\"extended-diagnostics/NG8104\">NG8104 - <code>textAttributeNotBinding</code></a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4il77r0iend2ft433kbcqwlcc\"><a href=\"extended-diagnostics/NG8105\">NG8105 - <code>missingNgForOfLet</code></a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d6tkrtqdn3rdkcjtqi7dijcn5\"><a href=\"extended-diagnostics/NG8106\">NG8106 - <code>suffixNotSupported</code></a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7v8ek2dks6wu5a9cy9k1voeox\"><a href=\"extended-diagnostics/NG8107\">NG8107 - <code>optionalChainNotNullable</code></a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"86flsnlvzwto5d4o9d1d7i85y\"><a href=\"extended-diagnostics/NG8108\">NG8108 - <code>skipHydrationNotStatic</code></a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"59p6zd03gm67ewzxmg4tpr6q3\"><a href=\"extended-diagnostics/NG8109\">NG8109 - <code>interpolatedSignalNotInvoked</code></a></li>\n</ul>\n<h2 id=\"configuration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"27io2zcn0syxgd4dfu8paj1a1\">設定<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#configuration\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aioz62uegejpsellcf8bvi7oo\">預設情況下，擴充套件診斷是警告，並且不會阻止編譯。每個診斷都可以設定為：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21qjp8k69nvm8gtp51tqr1vb4\"><code>warning</code>（預設）-編譯器將診斷作為警告發出，但不會阻止編譯。即使發出了警告，編譯器仍然會以狀態程式碼 0 退出。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2g6wgwm2j380cv48d82ctukr7\"><code>error</code> - 編譯器將診斷作為錯誤發出並且編譯失敗。如果發出一個或多個錯誤，編譯器將使用非零狀態程式碼退出。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"51krn1ar4jcz0vq6n7pihk5r9\"><code>suppress</code> - 編譯器根本<em>不會</em>發出診斷訊息。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7yh3d95zbxicbt801z75sfhra\">這種檢查的嚴重性可以在專案的 <code>tsconfig.json</code> 檔案中設定：</p>\n<code-example format=\"jsonc\" language=\"jsonc\">\n\n{\n  \"angularCompilerOptions\": {\n    \"extendedDiagnostics\": {\n      // The categories to use for specific diagnostics.\n      \"checks\": {\n        // Maps check name to its category.\n        \"invalidBananaInBox\": \"suppress\"\n      },\n\n      // The category to use for any diagnostics not listed in `checks` above.\n      \"defaultCategory\": \"error\"\n    }\n  }\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2udvzu1im63urodnw64cyxfco\"><code>checks</code> 欄位將單個診斷的名稱對映到它們的關聯類別。有關擴充套件診斷的完整清單以及用於設定它們的名稱，請參閱<a href=\"extended-diagnostics#diagnostics\">診斷</a>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d7qqbgc9gqtoygx8evyybf5u5\"><code>defaultCategory</code> 欄位用於 <code>checks</code> 下未顯式列出的任何診斷。如果未設定，則此類診斷將被視為 <code>warning</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"31l2yfmaarxfiv7we5h6lzc4t\">啟用 <a href=\"guide/template-typecheck#strict-mode\"><code>strictTemplates</code></a> 時，將發出擴充套件診斷。這是為了讓編譯器更好地瞭解 Angular 樣板型別並提供準確和有意義的診斷。</p>\n<h2 id=\"semantic-versioning\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c7a223nhbuejy7bcyfggowhih\">語義化版本控制<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#semantic-versioning\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"j5blfqjslt54zjrtefk4svv0\">Angular 團隊打算在 Angular 的<strong>次要</strong>版本中新增或啟用新的擴充套件診斷（請參閱<a href=\"https://docs.npmjs.com/about-semantic-versioning\">semver</a>）。這意味著升級 Angular 可能會在你現有的程式碼庫中顯示新的警告。這使團隊能夠更快地交付屬性，並讓開發人員更容易訪問擴充套件診斷。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cfzz31z6jz8vx12c3c6tggiyp\">但是，設定 <code>\"defaultCategory\": \"error\"</code> 會將此類警告升級為硬錯誤。這可能會導致次要版本升級引入編譯錯誤，這可能被視為不符合 semver 的重大更改。任何新診斷都可以透過上述<a href=\"extended-diagnostics#configuration\">設定</a>被抑制或降級為警告，因此新診斷的影響對於預設將擴充套件診斷視為錯誤的專案應該是最小的。預設為錯誤是一個非常強大的工具；在確定 <code>error</code> 是否是你專案的正確預設值時，請注意這個 semver 警告。</p>\n<h2 id=\"new-diagnostics\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7k2s8zssud1vmfcrvkg55qh8j\">新的診斷<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics#new-diagnostics\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"37r96int53t35ezxi4vo1ni8b\">Angular 團隊始終樂於接受有關可以新增的新診斷器的建議。擴充套件診斷通常應該：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1np0q4x9ltuout8pnoszmd4p4\">使用 Angular 樣板檢測常見的、不夠明顯的開發人員失誤</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"di84v74b82o9xaiplwnc9uy0r\">清楚地闡明為什麼這種模式會導致錯誤或意外行為</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d5tpbskamf3qv76pap51k823\">建議一個或多個明確的解決方案</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1mufo3tztxg1da2e6tvm4vez6\">假陽性率低（最好是零）</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"64kzlxfl8zmzqi18ny0wsw096\">適用於絕大多數 Angular 應用程式（不專屬於非官方函式庫）</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7cocxfqyge22van5zwslmrf8q\">提高程式的正確性或效能（而不是風格，風格由 linter 負責）</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6q1su5ympxirunj75hi3yfvbr\">如果你對符合這些標準的編譯器檢查有一個想法，請考慮送出<a href=\"https://github.com/angular/angular/issues/new?template=2-feature-request.yaml\">屬性請求</a>。</p>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最後複查時間：Mon Feb 28 2022</div>\n</div>\n\n\n<!-- links to this doc:\n - extended-diagnostics/NG8101\n - extended-diagnostics/NG8102\n - extended-diagnostics/NG8104\n - extended-diagnostics/NG8106\n - extended-diagnostics/NG8107\n - extended-diagnostics/NG8108\n-->\n<!-- links from this doc:\n - extended-diagnostics#configuration\n - extended-diagnostics#diagnostics\n - extended-diagnostics#extended-diagnostics\n - extended-diagnostics#new-diagnostics\n - extended-diagnostics#semantic-versioning\n - extended-diagnostics/NG8101\n - extended-diagnostics/NG8102\n - extended-diagnostics/NG8103\n - extended-diagnostics/NG8104\n - extended-diagnostics/NG8105\n - extended-diagnostics/NG8106\n - extended-diagnostics/NG8107\n - extended-diagnostics/NG8108\n - extended-diagnostics/NG8109\n - guide/template-typecheck#strict-mode\n - https://docs.npmjs.com/about-semantic-versioning\n - https://github.com/angular/angular/issues/new?template=2-feature-request.yaml\n-->"}