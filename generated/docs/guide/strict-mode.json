{"id":"guide/strict-mode","title":"严格模式","contents":"<div class=\"content\">\n  <h1 id=\"strict-mode\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ueri0caon87o1dinr48blf5\">严格模式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/strict-mode#strict-mode\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cz5m7g0r0pa2ivmidn7pfd90y\">Angular CLI 创建所有新工作区和项目时会弃用<strong>严格模式</strong>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9asvq23bnovq4e8aefe1zsz7g\">严格模式会增强可维护性，并且帮助你捕获各种 AOT 的 BUG。另外，严格模式的应用还易于进行静态分析，并且当你未来要升级到 Angular 的未来版本时，能帮助 <code>ng update</code> 命令的重构代码更加安全和精确。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4317dciu2qfsr0tjhbej2wxnd\">具体来说，<code>strict</code> 标志会在以下几方面影响新生成的应用：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7j7ie6yoie9dblo27plvs7ru3\"><a href=\"https://www.typescriptlang.org/tsconfig#strict\">在 TypeScript 中启用 <code>strict</code> 模式</a>，以及 TypeScript 团队建议的其他严格性标志。具体而言，包括 <code>forceConsistentCasingInFileNames</code>、<code>noImplicitReturns</code>、<code>noFallthroughCasesInSwitch</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2gd8g3u3hbjbk0e756s9qb4qr\">打开 Angular 编译器的严格性标志 <a href=\"guide/angular-compiler-options#stricttemplates\"><code>strictTemplates</code></a>、<a href=\"guide/angular-compiler-options#strictinjectionparameters\"><code>strictInjectionParameters</code></a> 和 <a href=\"guide/template-typecheck#troubleshooting-template-errors\"><code>strictInputAccessModifiers</code></a>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6ewvaojgnhrklh8h0pmjq019q\">相对于以前的默认值，把 <code>initial</code> 和 <code>anyComponentStyle</code> 的<a href=\"guide/build#configuring-size-budgets\">打包尺寸预算</a>缩小了约 75％。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"df5nqgc8xnq47urhj0yazxbw0\">你可以在工作区一级和项目一级应用这些设置。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8mpdhmab5qmprphxehe6oek27\">使用基本的 <code>ng new</code> 命令创建新的工作空间和项目时，会自动使用严格模式，命令如下：</p>\n<code-example format=\"shell\" language=\"shell\">\n\nng new [project-name]\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b7sbjjrbdjr1np4wyeg8pj1r2\">要在现有的非严格工作区内以严格模式创建新应用程序，请运行以下命令：</p>\n<code-example format=\"shell\" language=\"shell\">\n\nng generate application [project-name] --strict\n\n</code-example>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间：Mon Feb 28 2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/file-structure\n-->\n<!-- links from this doc:\n - guide/angular-compiler-options#strictinjectionparameters\n - guide/angular-compiler-options#stricttemplates\n - guide/build#configuring-size-budgets\n - guide/strict-mode#strict-mode\n - guide/template-typecheck#troubleshooting-template-errors\n - https://www.typescriptlang.org/tsconfig#strict\n-->"}