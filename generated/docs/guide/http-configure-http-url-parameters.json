{"id":"guide/http-configure-http-url-parameters","title":"HTTP - 設定 URL 引數","contents":"<div class=\"content\">\n  <h1 id=\"http---configure-url-parameters\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7la56d83g7gk5flqtyq3fzx3p\">HTTP - 設定 URL 引數<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#http---configure-url-parameters\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cxd4i3lx7sd4eabdspnwloa47\">使用 <code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> 類別和 <code>params</code> 選項在你的 <code><a href=\"api/common/http/HttpRequest\" class=\"code-anchor\">HttpRequest</a></code> 中新增 URL 查詢字串。</p>\n<h2 id=\"create-url-parameter-using-the-search-method\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"du7ml1y4dyick4yz8dldmffm4\">使用搜尋方法建立 URL 引數<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#create-url-parameter-using-the-search-method\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5f92xfpsd72uqynsrygijilwo\">下面的例子中，<code>searchHeroes()</code> 方法用於查詢名字中包含搜尋詞的英雄。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dxod5hk6bh2u4rm6j3x00pfkx\">首先匯入 <code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> 類別。</p>\n<code-example hidecopy=\"\" language=\"typescript\">\n\nimport {<a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a>} from \"@angular/common/<a href=\"api/common/http\" class=\"code-anchor\">http</a>\";\n\n</code-example>\n<code-example linenums=\"false\" path=\"http/src/app/heroes/heroes.service.ts\" region=\"searchHeroes\">\n/* GET heroes whose name contains search term */\nsearchHeroes(term: string): Observable&lt;Hero[]&gt; {\n  term = term.trim();\n\n  // Add safe, URL encoded search parameter if there is a search term\n  const options = term ?\n   { params: new <a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a>().set('name', term) } : {};\n\n  return this.http.get&lt;Hero[]&gt;(this.heroesUrl, options)\n    .pipe(\n      catchError(this.handleError&lt;Hero[]&gt;('searchHeroes', []))\n    );\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7onoclxinsaog1febpf3l8wrx\">如果有搜尋詞，程式碼會用進行過 URL 編碼的搜尋引數來構造一個 options 物件。比如，如果搜尋詞是 \"cat\"，那麼 GET 請求的 URL 就是 <code>api/heroes?name=cat</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4uzfa53t1dzjor4l1lvazty68\"><code><a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a></code> 是不可變物件。如果需要更新選項，請保留 <code>.set()</code> 方法的回傳值。</p>\n<h2 id=\"create-url-parameters-from-a-query\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1aey2n5zpc9xdxv61eud4rgpj\">從查詢建立 URL 引數<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/http-configure-http-url-parameters#create-url-parameters-from-a-query\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"elugki3v9wt0ighf56asuuiqy\">你也可以使用 <code>fromString</code> 變數從查詢字串中直接建立 HTTP 引數：</p>\n<code-example hidecopy=\"\" language=\"typescript\">\n\nconst params = new <a href=\"api/common/http/HttpParams\" class=\"code-anchor\">HttpParams</a>({fromString: 'name=foo'});\n\n</code-example>\n<p><a id=\"intercepting-requests-and-responses\"></a></p>\n\n  <div class=\"reviewed\">最後複查時間：Tue Nov 08 2022</div>\n</div>\n\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/common/http\n - api/common/http/HttpParams\n - api/common/http/HttpRequest\n - guide/http-configure-http-url-parameters#create-url-parameter-using-the-search-method\n - guide/http-configure-http-url-parameters#create-url-parameters-from-a-query\n - guide/http-configure-http-url-parameters#http---configure-url-parameters\n-->"}