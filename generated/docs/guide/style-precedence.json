{"id":"guide/style-precedence","title":"樣式的優先級","contents":"<div class=\"content\">\n  <h1 id=\"style-precedence\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"lu05pka3kxkagqqha1ocaozb\">樣式的優先級<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/style-precedence#style-precedence\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7unsw2yu6gg61yk04g18rbqtw\">當存在多個繫結具有相同的類別名稱或樣式屬性名時，Angular 會使用一組優先級規則來確定要應用於此元素的類別或樣式。這些規則指定了與樣式和類別相關的繫結的優先順序。最有特異性的優先級最高，最寬鬆的優先級最低，樣式優先級如下：</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"am0uw03g3clv2iiyr1ivzsqkf\">範本繫結是最具體的，因為它們會直接且排他地應用於元素，因此它們具有最高的優先級。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c2r869jihckj5ihjje5wkdo5p\">繫結型別</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f4iecnoqh39op5dvxqr6b3gip\">例子</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dhtlys4gb8e2hkqb2wclwgnoe\">屬性（Property）繫結</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5pv3il6pqnbldp8pnuij7awlj\"><code-example format=\"html\" hidecopy=\"\" language=\"html\"> &lt;div [class.foo]=\"hasFoo\"&gt; </code-example> <code-example format=\"html\" hidecopy=\"\" language=\"html\">&lt;div [style.color]=\"color\"&gt; </code-example></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7jqwswpidmrefdy0z2hf1cec\">對映繫結</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7gqm6t0sfsc06g4qg7st1jdsu\"><code-example format=\"html\" hidecopy=\"\" language=\"html\"> &lt;div [class]=\"classExpression\"&gt; </code-example> <code-example format=\"html\" hidecopy=\"\" language=\"html\"> &lt;div [<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]=\"styleExpression\"&gt; </code-example></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9nhu1zvhgwdgbwe9aqvqyrhxd\">靜態值</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7hb0vfti0xvj2gkxismochkcm\"><code-example format=\"html\" hidecopy=\"\" language=\"html\"> &lt;div class=\"foo\"&gt; </code-example> <code-example format=\"html\" hidecopy=\"\" language=\"html\"> &lt;div <a href=\"api/animations/style\" class=\"code-anchor\">style</a>=\"color: blue\"&gt; </code-example></td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5g9csha6y1pdrmhmqf6e0k7ym\">指令的宿主繫結不太有特異性，因為你可以在多個位置使用該指令，因此它們的優先級比範本繫結低。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c2r869jihckj5ihjje5wkdo5p\">繫結型別</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f4iecnoqh39op5dvxqr6b3gip\">例子</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dhtlys4gb8e2hkqb2wclwgnoe\">屬性（Property）繫結</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bockrqabhon1robz9gqiywhlj\"><code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'[class.foo]': 'hasFoo'} </code-example> <code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'[style.color]': 'color'} </code-example></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7jqwswpidmrefdy0z2hf1cec\">對映繫結</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6jvmqyfyg5j46x5mw8l6h7qnl\"><code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'[class]': 'classExpr'} </code-example> <code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]': 'styleExpr'} </code-example></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9nhu1zvhgwdgbwe9aqvqyrhxd\">靜態值</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7a10ay5sgxeitkm4nl7h0e4d8\"><code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'class': 'foo'} </code-example> <code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'<a href=\"api/animations/style\" class=\"code-anchor\">style</a>': 'color: blue'} </code-example></td>\n</tr>\n</tbody>\n</table>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ahgynsowikjipmbf7g3v038ig\">元件宿主繫結的優先級最低。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c2r869jihckj5ihjje5wkdo5p\">繫結型別</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f4iecnoqh39op5dvxqr6b3gip\">例子</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dhtlys4gb8e2hkqb2wclwgnoe\">屬性（Property）繫結</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2if99svccubup8wa7lwyknszq\"><code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'[class.foo]': 'hasFoo'} </code-example> <code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\">host: {'[style.color]': 'color'} </code-example></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7jqwswpidmrefdy0z2hf1cec\">對映繫結</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c7ejiyl6tg9431dynu1jouam5\"><code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'[class]': 'classExpression'} </code-example> <code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]': 'styleExpression'} </code-example></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9nhu1zvhgwdgbwe9aqvqyrhxd\">靜態值</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7a10ay5sgxeitkm4nl7h0e4d8\"><code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'class': 'foo'} </code-example> <code-example format=\"typescript\" hidecopy=\"\" language=\"typescript\"> host: {'<a href=\"api/animations/style\" class=\"code-anchor\">style</a>': 'color: blue'} </code-example></td>\n</tr>\n</tbody>\n</table>\n</li>\n</ol>\n<h2 id=\"precedence-and-specificity\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9d33qeilbt0ga26iqt34stxls\">優先級與特異性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/style-precedence#precedence-and-specificity\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d4etrq78hgvk1xmiucwuqhx99\">在下面的範例中，與 <code>[class.special]</code> 對特定類別的繫結優先於一般性的 <code>[class]</code> 繫結。同樣，到特定樣式的繫結（比如 <code>[style.color]</code>）要優先於一般性的 <code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]</code> 繫結。</p>\n<code-example header=\"src/app/app.component.html\" path=\"attribute-binding/src/app/app.component.html\" region=\"basic-specificity\">\n&lt;h3&gt;Basic specificity&lt;/h3&gt;\n\n&lt;!-- The `class.special` binding overrides any value for the `special` class in `classExpression`.  --&gt;\n&lt;div [class.special]=\"isSpecial\" [class]=\"classExpression\"&gt;Some text.&lt;/div&gt;\n\n&lt;!-- The `style.border` binding overrides any value for the `border` property in `styleExpression`.  --&gt;\n&lt;div [style.border]=\"border\" [<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]=\"styleExpression\"&gt;Some text.&lt;/div&gt;\n\n</code-example>\n<h2 id=\"precedence-and-bindings-from-different-sources\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"axxwc4onoh570590w57hb2sv2\">來自不同來源的優先級和繫結<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/style-precedence#precedence-and-bindings-from-different-sources\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9ag1mllfjltg8qyn3t60qm3q7\">特異性規則也作用於繫結，即使它們來自不同的來源。元素可以具有源自針對自身範本的繫結、源自其對應指令的宿主繫結以及源自對應其元件的宿主繫結。</p>\n<code-example header=\"src/app/app.component.html\" path=\"attribute-binding/src/app/app.component.html\" region=\"source-specificity\">\n&lt;h3&gt;Source specificity&lt;/h3&gt;\n\n&lt;!-- The `class.special` template binding overrides any host binding to the `special` class set by `dirWithClassBinding` or `comp-with-host-binding`.--&gt;\n\n&lt;comp-with-host-binding [class.special]=\"isSpecial\" dirWithClassBinding&gt;&lt;/comp-with-host-binding&gt;\n\n\n&lt;!-- The `style.color` template binding overrides any host binding to the `color` property set by `dirWithStyleBinding` or `comp-with-host-binding`. --&gt;\n&lt;div&gt;\n  &lt;comp-with-host-binding [style.color]=\"color\" dirWithStyleBinding&gt;&lt;/comp-with-host-binding&gt;\n&lt;/div&gt;\n\n&lt;h3&gt;Dynamic vs <a href=\"api/upgrade/static\" class=\"code-anchor\">static</a>&lt;/h3&gt;\n\n&lt;!-- If `[class.special]` equals false, this value overrides the `class=\"special\"` below --&gt;\n&lt;div class=\"special\" [class.special]=\"false\"&gt;Some text.&lt;/div&gt;\n\n&lt;!-- If `styleExpression` has a value for the `border` property, this value overrides the `<a href=\"api/animations/style\" class=\"code-anchor\">style</a>=\"border: dotted darkblue 3px\"` below --&gt;\n&lt;div <a href=\"api/animations/style\" class=\"code-anchor\">style</a>=\"border: dotted darkblue 3px\" [<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]=\"styleExpression\"&gt;Some text.&lt;/div&gt;\n\n\n&lt;div class=\"readability\"&gt;\n  &lt;comp-with-host-binding dirWithHostBinding&gt;&lt;/comp-with-host-binding&gt;\n&lt;/div&gt;\n\n&lt;app-my-input-with-attribute-decorator type=\"number\"&gt;&lt;/app-my-input-with-attribute-decorator&gt;\n\n\n</code-example>\n<h2 id=\"precedence-of-bindings-and-static-attributes\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1kt6315eyhmw6el1tyx0cxmcd\">繫結和靜態 Attribute 的優先級<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/style-precedence#precedence-of-bindings-and-static-attributes\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"86536upzr07ef0b1c4dhgjoum\">繫結優先於靜態屬性，因為它們是動態的。在以下情況下，<code>class</code> 和 <code>[class]</code> 具有相似的特異性，但是 <code>[class]</code> 繫結更有優先權。</p>\n<code-example header=\"src/app/app.component.html\" path=\"attribute-binding/src/app/app.component.html\" region=\"dynamic-priority\">\n&lt;h3&gt;Dynamic vs <a href=\"api/upgrade/static\" class=\"code-anchor\">static</a>&lt;/h3&gt;\n\n&lt;!-- If `[class.special]` equals false, this value overrides the `class=\"special\"` below --&gt;\n&lt;div class=\"special\" [class.special]=\"false\"&gt;Some text.&lt;/div&gt;\n\n&lt;!-- If `styleExpression` has a value for the `border` property, this value overrides the `<a href=\"api/animations/style\" class=\"code-anchor\">style</a>=\"border: dotted darkblue 3px\"` below --&gt;\n&lt;div <a href=\"api/animations/style\" class=\"code-anchor\">style</a>=\"border: dotted darkblue 3px\" [<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]=\"styleExpression\"&gt;Some text.&lt;/div&gt;\n\n\n</code-example>\n<p><a id=\"styling-delegation\"></a></p>\n<h2 id=\"delegating-to-styles-with-lower-precedence\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eridto4a3xyeqazt2g80fieas\">委託給優先級較低的樣式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/style-precedence#delegating-to-styles-with-lower-precedence\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8j3k4nd2baxvlgjvqrh1agn8v\">透過使用 <code>undefined</code> 值，較高優先級的樣式也可以讓位於較低優先級的樣式。比如，考慮以下範本：</p>\n<code-example header=\"src/app/app.component.html\" path=\"attribute-binding/src/app/app.component.html\" region=\"style-delegation\">\n&lt;comp-with-host-binding dirWithHostBinding&gt;&lt;/comp-with-host-binding&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9jdaf49hinw66o0hcjx570nax\">假設 <code>dirWithHostBinding</code> 指令和 <code>comp-with-host-binding</code> 元件都具有 <code>[style.width]</code> 宿主繫結。</p>\n<code-example header=\"src/app/comp-with-host-binding.component.ts and dirWithHostBinding.directive.ts\" path=\"attribute-binding/src/app/comp-with-host-binding.component.ts\" region=\"hostbinding\">\n@<a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>('style.width')\nwidth = '200px';\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"covmp3sfl9gpz746ai41dp0m5\">如果 <code>dirWithHostBinding</code> 將其繫結設定為 <code>undefined</code>，則 <code>width</code> 屬性將回退到 <code>comp-with-host-binding</code> 宿主繫結的值。</p>\n<code-example format=\"typescript\" header=\"dirWithHostBinding directive\" language=\"typescript\">\n\n@<a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>('style.width')\nwidth = ''; // undefined\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c2szd1xol9g8ni3x8ucc96pwa\">但如果 <code>dirWithHostBinding</code> 將其繫結設定為 <code>null</code>（只有 undefined 是例外），則 Angular 會完全移除 <code>width</code> 屬性。</p>\n<code-example format=\"typescript\" header=\"dirWithHostBinding\" language=\"typescript\">\n\n@<a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>('style.width')\nwidth = null;\n\n</code-example>\n</div>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最後複查時間：Mon Feb 28 2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/class-binding\n-->\n<!-- links from this doc:\n - api/animations/style\n - api/core/HostBinding\n - api/upgrade/static\n - guide/style-precedence#delegating-to-styles-with-lower-precedence\n - guide/style-precedence#precedence-and-bindings-from-different-sources\n - guide/style-precedence#precedence-and-specificity\n - guide/style-precedence#precedence-of-bindings-and-static-attributes\n - guide/style-precedence#style-precedence\n-->"}