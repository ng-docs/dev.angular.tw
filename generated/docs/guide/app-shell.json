{"id":"guide/app-shell","title":"应用外壳","contents":"<div class=\"content\">\n  <h1 id=\"app-shell\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"862x8fpqlzfz263s1lomn5rg8\">应用外壳<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#app-shell\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"883t25gsq7us6fxkbrzlf2sag\">应用外壳是一种在构建期间借助路由渲染部分应用的方法。它可以通过快速启动一个静态渲染页面（所有页面的公共骨架）来改善用户体验。与此同时，浏览器会下载完整的客户端版本，并在代码加载后自动切换到完整版。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"35ckaqsjs2rfbvu9xelfetvsp\">这能让用户快速看到应用中第一个有意义的画面，因为浏览器可以渲染出 HTML 和 CSS，而无需初始化任何 JavaScript。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5y4biczf947w25y3qfvikdqhd\">欲知详情，参阅<a href=\"https://developers.google.com/web/fundamentals/architecture/app-shell\">应用外壳模型</a>。</p>\n<h2 id=\"step-1-generate-an-application\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eckuf8l9wwlo456n9u9qhlrfv\">步骤1：生成一个应用程序<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-1-generate-an-application\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"auer5a4kulbph4gwg41sda9rg\">可以用下列 Angular CLI 命令来执行本操作：</p>\n<code-example format=\"shell\" language=\"shell\">\n\nng new my-app\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d62f13470mmjb83ez92bbo5oi\">对于现有应用程序，你必须手动添加\n<code><a href=\"api/router/Router\" class=\"code-anchor\">Router</a></code>并在应用程序中定义一个\n<code>&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;</code>。</p>\n<h2 id=\"step-2-create-the-application-shell\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"42ni7tn94pzn30px2179ufwr\">第 2 步：创建应用外壳<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-2-create-the-application-shell\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4jzoqtgb7d0mzv0eznnpyif8\">使用 Angular CLI 自动创建一个应用外壳。</p>\n<code-example format=\"shell\" language=\"shell\">\n\nng generate app-shell\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cdtz33jwkzkn5sgc616f0cn6q\">要了解关于本命令的更多信息，参见 <a href=\"cli/generate#app-shell-command\">app-shell 命令</a>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"665k6fejo7ye637d21ba7nicq\">该命令会更新应用程序代码并向项目结构中添加额外的文件。</p>\n<code-example language=\"text\">\n\n  src\n  ├── app\n  │   ├── app.config.server.ts               # server application configuration\n  │   └── app-shell                          # app-shell component\n  │       ├── app-shell.component.html\n  │       ├── app-shell.component.scss\n  │       ├── app-shell.component.spec.ts\n  │       └── app-shell.component.ts\n  └── main.server.ts                         # main server application bootstrapping\n\n</code-example>\n<h2 id=\"step-3-verify-the-application-is-built-with-the-shell-content\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"93phkmrwbhuim8rifawbwqdqn\">第 3 步：验证该应用是使用应用外壳的内容构建的<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/app-shell#step-3-verify-the-application-is-built-with-the-shell-content\"><i class=\"material-icons\">link</i></a></h2>\n<code-example format=\"shell\" language=\"shell\">\n\nng build --configuration=development\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1lplo14hdcir2spwrvss9orze\">或使用产品环境配置。</p>\n<code-example format=\"shell\" language=\"shell\">\n\nng build\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a777f86wqmcv6oe3wvm3r8njm\">要验证构建输出，请打开 <code class=\"no-auto-link\">dist/my-app/browser/index.html</code>。寻找默认的文本 <code>app-shell works!</code> 就可以验证这个应用外壳路由确实是作为输出的一部分渲染出来的。</p>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间：Fri Oct 20 2023</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/service-worker-getting-started\n - guide/service-worker-intro\n-->\n<!-- links from this doc:\n - api/router/Router\n - api/router/RouterOutlet\n - cli/generate#app-shell-command\n - guide/app-shell#app-shell\n - guide/app-shell#step-1-generate-an-application\n - guide/app-shell#step-2-create-the-application-shell\n - guide/app-shell#step-3-verify-the-application-is-built-with-the-shell-content\n - https://developers.google.com/web/fundamentals/architecture/app-shell\n-->"}