{"id":"guide/workspace-config","title":"Angular 工作区配置","contents":"<div class=\"content\">\n  <h1 id=\"angular-workspace-configuration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"54p2s0r0q4n8ctv61mr5pw99j\">Angular 工作区配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#angular-workspace-configuration\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"kk64claawme18mf0k3mh1i6o\">Angular <a href=\"guide/glossary#workspace\">工作区</a>根目录下的 <code>angular.json</code> 文件提供了全工作区级的配置和具体项目的默认配置，供 Angular CLI 中的构建工具和开发工具使用。此配置中所提供的路径值都是相对于工作区根目录的。</p>\n<h2 id=\"general-json-structure\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ulqnzhbc8crvxgwqluy015e7\">JSON 的总体结构<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#general-json-structure\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eaxackawi871k5whhva4594y0\">在 <code>angular.json</code> 的顶层，一些属性用于配置工作区，其中的 <code>projects</code> 区则包含其余的针对每个项目的配置项。CLI 在工作区级的默认设置可以被项目级的设置所覆盖，而项目级的设置可以被命令行中的设置所覆盖。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3x0qj97c14y9pn7iqhgc2ndyj\">下列属性位于文件的顶层，用于配置工作区。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9ghvm54f9feewnb0zbrlubp2h\">属性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>version</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3mut92uespy8u03jt8yye6195\">配置文件版本。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>newProjectRoot</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6srdtjco8xf9x83a3hkf0jble\">创建新项目的路径。绝对路径或相对于工作空间目录的路径。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>cli</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4y8ybhm0w81i43a0b4l0rw7za\">一组自定义 Angular CLI 的选项。请参阅《Angular CLI 配置选项》部分。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>schematics</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5f31rdgg6sxitldbajolmoaq5\">一组自定义 ng generate 子命令选项默认值的原理图。请参阅《生成原理图》部分。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>projects</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"83zi1y92sbyyje44c40icpsai\">包含工作空间中每个库或应用程序的每个项目配置选项的子部分。</td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"75o437dplji43l2wlg0u6xgju\">你通过 <code>ng new app_name</code> 命令创建的初始应用会列在 <code>projects</code> 目录下：</p>\n<code-example language=\"json\">\n\n\"projects\": {\n  \"app_name\": {\n    …\n  }\n  …\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5hcanhgo7dc4weyfa5aespff1\">当你使用 <code>ng generate library</code> 创建库项目时，库项目也会添加到 <code>projects</code> 节。</p>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4f97a7au39h8nyy0ochymouga\"><strong>注意</strong>：<br>\n配置文件的 <code>projects</code> 节与工作区的文件结构并不完全对应。</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"edhpl48is9b1ymy26gwjc7o0b\"><code>ng new</code> 创建的这个初始应用位于工作区文件结构的顶层</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"edaz7rvkth2mstfvfifoosbgu\">其它应用和库位于工作区的 <code>projects</code> 文件夹中</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ezr29l554xed6v30i6mt9is6s\">欲知详情，参阅<a href=\"guide/file-structure\">工作区和项目文件结构</a>。</p>\n</div>\n<p><a id=\"cli-configuration-options\"></a></p>\n<h2 id=\"angular-cli-configuration-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dqdug1wvr1pjb9hfeiazrm08a\">Angular CLI 配置选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#angular-cli-configuration-options\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"adgbmzsw66uo88hah0aps2gd5\">下列配置属性是 Angular CLI 的一组自定义选项。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5dkddoxcqk28ajo52wkpdu2by\">属性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>analytics</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1d2ifbqe889l9azmbdfiry3g4\">与 Angular 团队共享匿名的使用数据。</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"en22ai0j2cj2k4qd45ewvri48\"><code>布尔值</code> | \n<code>ci</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>cache</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ersu7vx3n6wi7t6x7f39ledg2\">控制 Angular CLI 构建器使用的持久磁盘缓存。</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4e87nsqpnx6mcqqu0gitsd1ie\"><a href=\"guide/workspace-config#cache-options\">缓存选项</a></td>\n</tr>\n<tr>\n<td align=\"left\"><code>schematicCollections</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"83gic27jsmb5tgaxxzopstfg2\">要使用的默认原理图集合列表。</td>\n<td align=\"left\"><code>string[]</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>packageManager</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"abgbfc6j1ok0vly9fbzt8c25k\">要使用的首选包管理工具。</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2khofs5ngwzx9jyskbl67h0pe\"><code>npm</code> | \n<code>cnpm</code> | \n<code>pnpm</code> | \n<code>yarn</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>warnings</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8ti7n40uvpape3asz8of3cprg\">控制 Angular CLI 特定控制台警告。</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9l1ilh4fliqw4fgev1qxct54z\"><a href=\"guide/workspace-config#warnings-options\">警告选项</a></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"cache-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6l9x3ncpyw01i63mvgzvrbzv3\">缓存选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#cache-options\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5dkddoxcqk28ajo52wkpdu2by\">属性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2y5ehls04hgr372akbuyeyg1x\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>enabled</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bvtkk1kf89qvcovnrcukaffx9\">配置是否启用磁盘缓存。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>environment</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"95dp7zk3g5pgeml9agzkj3doq\">配置磁盘缓存在哪些环境中启用。</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"777bjlmoomp4dj195qwzi1a9g\"><code>local</code> | \n<code>ci</code> | \n<code>all</code></td>\n<td align=\"left\"><code>local</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>path</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"87gnbmacoskndae5mo18eg5yk\">用于存储缓存结果的目录。</td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"><code>.angular/cache</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"warnings-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cltlrbhwvbwtjgnd1axa3ifln\">警告选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#warnings-options\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5dkddoxcqk28ajo52wkpdu2by\">属性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2y5ehls04hgr372akbuyeyg1x\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>versionMismatch</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dg3uh4cbcbe1pzjk5e8uy4fva\">当全局 Angular CLI 版本新于本地版本时显示警告。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"project-configuration-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4csle61wjprgr864wubcgvp63\">项目配置选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#project-configuration-options\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"chf6gxcsifcy4pix9gbebbrob\">每个项目的 <code>projects:&lt;project_name&gt;</code> 下都有以下顶层配置属性。</p>\n<code-example language=\"json\">\n\n\"my-app\": {\n  \"root\": \"\",\n  \"sourceRoot\": \"src\",\n  \"projectType\": \"application\",\n  \"prefix\": \"app\",\n  \"schematics\": {},\n  \"architect\": {}\n}\n\n</code-example>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5dkddoxcqk28ajo52wkpdu2by\">属性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>root</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"643bwebfaw7n33jz4o10vy4e5\">该项目文件的根目录，相对于工作区目录。初始应用为空，位于工作区顶层。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>sourceRoot</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4koejofcbmduvbeu8si59c9y0\">该项目源文件的根目录。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>projectType</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2mpcxojz8n0kh6zu8oach924l\">\"应用\"或\"库\"之一。应用可以在浏览器中独立运行，而库不行。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>prefix</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5ogwyzkr0xbrhjywet6dpgsaw\">Angular 附加到创建选择器的字符串。可自定义以标识应用或功能区域。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>schematics</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d83n17a8yf6kt5iz0qsrifyye\">一组原理图，用于为该项目定制\n<code>ng generate</code>子命令的默认选项。查看\n<a href=\"guide/workspace-config#schematics\">生成原理图</a>部分。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2b1a0st6s9ex9qtgtpud323ho\">该项目的 Architect 构建目标的配置默认值。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"schematics\"></a></p>\n<h2 id=\"generation-schematics\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4f73cdsbwzai2nhyuoo5yooyj\">生成（Generation）原理图<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#generation-schematics\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"49daoc621k3nkq03l48re3hx0\">Angular 生成器的<a href=\"guide/glossary#schematic\">原理图</a>是一组用来修改项目的指南，包括添加新文件或修改现有文件。默认情况下，Angular CLI 的 <code>ng generate</code> 子命令会从 <code>@schematics/angular</code> 包中收集原理图。可以用 <code>schematic-package:schematic-name</code> 格式来为子命令指定原理图名称；比如，用来生成组件的原理图名叫 <code>@schematics/angular:component</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8b2dx6blg1pdpf4q72tjre3dk\">供 Angular CLI 生成项目及其部件的默认原理图的 JSON 模式（schema）位于 <a href=\"https://github.com/angular/angular-cli/blob/main/packages/schematics/angular/application/schema.json\"><code>@schematics/angular</code></a> 包中。\n这个模式描述了 Angular CLI <code>ng generate</code> 子命令的每个选项，它们会显示在 <code>--help</code> 的输出中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9cjz3ogkhgkcu1x2x5nd4noae\">这个模式中的每个字段都对应于 Angular CLI 子命令选项的参数取值范围和默认值。你可以修改此命名空间的模式文件，来为某个子命令选项指定另外的默认值。</p>\n<p><a id=\"architect\"></a></p>\n<h2 id=\"project-tool-configuration-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"snqoawtldtvc334eg4ixb5qy\">项目工具的配置选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#project-tool-configuration-options\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9x84dwiogqnge5jdllbkzqhou\">建筑师（Architect）是 Angular CLI 用来执行复杂任务（比如编译和测试运行）的工具。Architect 是一个根据<a href=\"guide/glossary#target\">目标</a>配置运行指定的<a href=\"guide/glossary#builder\">构建器</a>以完成指定任务的外壳。你可以定义和配置新的构建器和目标以扩展 Angular CLI。请参阅 <a href=\"guide/cli-builder\">Angular CLI 构建器</a>。</p>\n<p><a id=\"default-build-targets\"></a></p>\n<h3 id=\"default-architect-builders-and-targets\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1enzhbtl04k2q9mz1awx1ftjp\">默认的建筑师构建器和目标<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#default-architect-builders-and-targets\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5vnpbdsjqfmoxxw7473zerkdo\">Angular 定义了用于特定命令或常规 <code>ng run</code> 命令的默认构建器。为每个默认构建器定义选项和默认值的 JSON 模式收集在 <a href=\"https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/builders.json\"><code>@angular-devkit/build-angular</code></a> 包中。这些架构为以下构建器配置选项。</p>\n<!-- vale Angular.Google_WordListWarnings = NO -->\n<ul>\n<li><a href=\"https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/application/schema.json\">application</a></li>\n<li><a href=\"https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/app-shell/schema.json\">app-shell</a></li>\n<li><a href=\"https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/browser/schema.json\">browser</a></li>\n<li><a href=\"https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/dev-server/schema.json\">dev-server</a></li>\n<li><a href=\"https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/extract-i18n/schema.json\">extract-i18n</a></li>\n<li><a href=\"https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/karma/schema.json\">karma</a></li>\n<li><a href=\"https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/server/schema.json\">server</a></li>\n</ul>\n<!-- vale Angular.Google_WordListWarnings = YES -->\n<h3 id=\"configuring-builder-targets\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ezc5ic4bxg427zws0xwtzfj0b\">配置构建器目标<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#configuring-builder-targets\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f4lnp6lcfjiulixaqoem536bb\"><code>angular.json</code> 的 <code>architect</code> 部分包含一组建筑目标。很多目标都对应于运行它们的 Angular CLI 命令。使用 <code>ng run</code> 命令可以运行一些额外的预定义目标，并可以定义自己的目标。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9f72fs9yfq6vtwfhba7bduy97\">每个目标对象都指定了该目标的 <code>builder</code>，它是建筑师所运行工具的 npm 包。此外，每个目标都有一个 <code>options</code> 部分，用于配置该目标的默认选项，<code>configurations</code> 部分可以为目标命名并指定备用配置。参阅稍后的<a href=\"guide/workspace-config#build-target\">构建目标</a>部分的例子。</p>\n<code-example language=\"json\">\n\n\"architect\": {\n  \"build\": {},\n  \"serve\": {},\n  \"e2e\" : {},\n  \"test\": {},\n  \"lint\": {},\n  \"extract-i18n\": {},\n  \"server\": {},\n  \"app-shell\": {}\n}\n\n</code-example>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7w88zr2vle94hg5329lphobbh\">部分</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>architect/build</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c5xqbayq99jji1wgvb2y89avv\">为\n<code>ng build</code>命令的选项配置默认值。查看\n<a href=\"guide/workspace-config#build-target\">构建目标</a>部分获取更多信息。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect/serve</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8hkz9n0zzz5yes2jd3v6z5d9n\">覆盖构建默认值并为\n<code>ng serve</code>命令提供额外的服务默认值。除了\n<code>ng build</code>命令可用的选项外，还添加了与提供应用程序相关的选项。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect/e2e</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"48ntnv7fio4nzs7wfydeej3ao\">覆盖构建选项默认值，用于使用\n<code>ng e2e</code>命令构建端到端测试应用程序。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect/test</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1os2e0asm76cxb2l8zifmuulv\">覆盖构建选项的默认值，为测试构建提供额外的测试运行默认值，用于\n<code>ng test</code>命令。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect/lint</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2s8qzign1kewk6ppo51snuhmm\">配置\n<code>ng lint</code>命令的选项默认值，该命令对项目源文件执行代码分析。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect/extract-i18n</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"28rzv5v5gmn83yypgh3c9z7mk\">配置\n<code>ng extract-i18n</code>命令的选项默认值，该命令从源代码中提取标记的消息字符串，并输出翻译文件。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect/server</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3i6vdzclw4oug1s8dxyjvjc1y\">配置创建带有服务器端渲染的 Universal 应用的默认值，使用\n<code>ng run &lt;project&gt;:server</code>命令。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect/app-shell</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"15e5rtbc62jqgoevk6hu5zqya\">配置为渐进式 Web 应用程序（PWA）创建应用外壳的默认值，使用\n<code>ng run &lt;project&gt;:app-shell</code>命令。</td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8o77w7wp9280cpahbjz5tn0r8\">一般来说，可以为 <a href=\"cli\">Angular CLI 参考手册中</a>列出的每个命令配置相应的默认值。</p>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4gnz3ci5fr628aewipkr39cf6\"><strong>注意</strong>：<br>\n配置文件中的所有选项都必须使用 <a href=\"guide/glossary#case-conventions\">camelCase</a>，而不是 dash-case。</p>\n</div>\n<p><a id=\"build-target\"></a></p>\n<h2 id=\"build-target\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cbiu0515p4fbgezkx4nyx3k8t\">构建目标<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#build-target\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8qqpi10w7vseeo3b47j5z6g3r\"><code>architect/build</code> 节会为 <code>ng build</code> 命令的选项配置默认值。它具有下列顶层属性。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">PROPERTY</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>builder</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"68culkal75o53p3gfkhjj1h1r\">用于创建此目标的构建工具的 npm 包。应用程序的默认构建工具（\n<code>ng build myApp</code>）是\n<code>@angular-devkit/build-angular:application</code>，它使用\n<a href=\"https://esbuild.github.io/\">esbuild</a>包捆绑程序。\n<div class=\"alert is-helpful\"> \n <strong>注意</strong>：为构建库使用不同的构建工具（\n <code>ng build myLib</code>）。 \n</div></td>\n</tr>\n<tr>\n<td align=\"left\"><code>options</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"275c2sp1hevaglq5yuw46g9d4\">此部分包含默认构建目标选项，当未指定命名的替代配置时使用。请查看\n<a href=\"guide/workspace-config#default-build-targets\">默认构建目标</a>部分。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>configurations</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f2nr0fezlbq66yup3xelrt3ei\">此部分定义和命名不同预期目的地的替代配置。它包含每个命名配置的部分，该部分为该预期环境设置默认选项。请查看\n<a href=\"guide/workspace-config#build-configs\">替代构建配置</a>部分。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"build-configs\"></a></p>\n<h3 id=\"alternate-build-configurations\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d210yn4x3qokw6ofkq5o4kcs3\">备用的构建配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#alternate-build-configurations\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2op8mwr69ozix9ltzierhq83\">Angular CLI 具有两种构建配置：<code>production</code> 和 <code>development</code>。默认情况下，<code>ng build</code> 命令使用 <code>production</code> 配置，该配置将应用许多构建优化，包括：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d876jgb1ywl708nfg88vmeqrd\">打包文件</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1u4xcboe2b2cseqtmsjppdbw4\">最小化多余的空白</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cghz9vgeoh3oxjql1zektjstp\">删除注释和无效代码</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dfipjwytfgfa25hu01p4q5m0e\">重写代码，以使用简短、混乱的名称，也叫最小化</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6sjeuvhn4mlp5ehcl4c0yyiln\">你可以定义和命名适用于你的开发过程的其它备用配置（比如 <code>stage</code>）。其它构建配置的一些例子是 AIO 自己使用的 <code>stable</code>、<code>archive</code>、<code>next</code>，以及构建本地化版本应用所需的各个与区域有关的配置置。欲知详情，参阅<a href=\"guide/i18n-common-merge\" title=\"Common Internationalization task #6: Merge translations into the application | Angular\">国际化（i18n）</a>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"acvqqmiuttng7fxdt45ob4uu2\">你可以通过将它们的名称传给 <code>--configuration</code> 命令行标志来选择替代配置。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a0em6dfbvhgufaq863r3q5ncb\">你还可以用逗号分隔的列表传入多个配置名称。比如，要同时应用 <code>stage</code> 和 <code>fr</code> 构建配置，请使用命令 <code>ng build --configuration stage,fr</code>。在这种情况下，该命令从左到右解析命名的配置。如果多个配置更改了同一个设置，则最后设置的值生效。所以，在这个例子中，如果同时配置了 <code>stage</code> 和 <code>fr</code>，则会使用 <code>fr</code> 中设置的输出路径的值。</p>\n<p><a id=\"build-props\"></a></p>\n<h3 id=\"extra-build-and-test-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5isk7wirir06id5dm65kf0w97\">额外的构建和测试选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#extra-build-and-test-options\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aaqstird1rpo75697lz1nim31\"><a href=\"cli/build\"><code>ng build</code></a>、<a href=\"cli/serve\"><code>ng serve</code></a> 和 <a href=\"cli/test\"><code>ng test</code></a> 命令的可配置选项通常与 <a href=\"cli/build\"><code>ng build</code></a>、<a href=\"cli/serve\"><code>ng serve</code></a> 和 <a href=\"cli/test\"><code>ng test</code></a> 命令的可用选项一一对应。关于这些选项及其取值范围的更多信息，参阅“ <a href=\"cli\">CLI 参考手册”</a>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1bn3dtsf8acmml7fizvxgwiyd\">一些额外的选项（如下所列）只能通过配置文件来设置，可以直接编辑，也可以使用 <a href=\"cli/config\"><code>ng config</code></a> 命令。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9nxxz6s5pk4ctv43ufb4bqj4n\">选项属性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>assets</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8y5m7q3ys6nvokc4jksdcm85k\">包含要添加到项目全局上下文的静态资产路径的对象。默认路径指向项目的图标文件和其\n<code>assets</code>目录。请查看\n<a href=\"guide/workspace-config#asset-config\">资产配置</a>部分了解更多信息。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>styles</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"effvn862xhhkzzjm2fk15p3dn\">要添加到项目全局上下文的样式文件数组。Angular CLI支持CSS导入和所有主要CSS预处理器：\n<a href=\"https://sass-lang.com\">sass/scss</a>和\n<a href=\"https://lesscss.org\">less</a>。请查看\n<a href=\"guide/workspace-config#style-script-config\">样式和脚本配置</a>部分了解更多信息。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>stylePreprocessorOptions</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8tsc64wc3hhhlc543a9geb5d8\">包含要传递给样式预处理器的选项值对的对象。请查看\n<a href=\"guide/workspace-config#style-script-config\">样式和脚本配置</a>部分了解更多信息。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>scripts</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bqnxski5ejnigmujo2wpfcclh\">包含要添加到项目全局上下文的JavaScript脚本文件的对象。这些脚本将被加载，就像你将它们添加在\n<code>&lt;script&gt;</code>标签内的\n<code>index.html</code>中一样。请查看\n<a href=\"guide/workspace-config#style-script-config\">样式和脚本配置</a>部分了解更多信息。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>budgets</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dzc05sndily7v4llmqtcfqiuq\">应用程序的默认大小预算类型和阈值，用于整个或部分应用程序。您可以配置构建器在输出达到或超过阈值时报告警告或错误。请查看\n<a href=\"guide/build#configure-size-budgets\">配置大小预算</a>。（不适用于\n<code>test</code>部分。）</td>\n</tr>\n<tr>\n<td align=\"left\"><code>fileReplacements</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dmbr2mjnv2ev9feivs2id894x\">包含文件及其编译时替换的对象。请查看\n<a href=\"guide/build#configure-target-specific-file-replacements\">配置特定目标文件替换</a>了解更多信息。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>index</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4aupn6rpso9qzr7c9vkuwxf4j\">配置应用程序的HTML索引生成。请查看\n<a href=\"guide/workspace-config#index-config\">索引配置</a>了解更多信息。（仅适用于\n<code><a href=\"api/animations/browser\" class=\"code-anchor\">browser</a></code>部分。）</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"complex-config\"></a></p>\n<h2 id=\"complex-configuration-values\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bf9cmhj7kjia3zju7814mupgx\">复杂配置的值<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#complex-configuration-values\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4b9z1jkw33kxshid7rs8xrcgj\"><code>assets</code>、\n<code>index</code>、\n<code>outputPath</code>、\n<code>styles</code>和\n<code>scripts</code>选项可以是简单的路径字符串值，也可以是具有特定字段的对象值。 \n<code>sourceMap</code>和\n<code>optimization</code>选项可以设置为带有命令标志的简单布尔值。也可以使用配置文件给出复杂的值。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7uly9v1jqyok0clnpm67kl1wr\">以下各部分提供了这些复杂值在每种情况下的更多详细信息。</p>\n<p><a id=\"asset-config\"></a></p>\n<h3 id=\"assets-configuration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"608wg40s1i97ro8koj5xq42zf\">项目资产（asset）配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#assets-configuration\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6b54rvu36clw4yrgp3z64260j\">每个 <code>build</code> 目标配置都可以包含一个 <code>assets</code> 数组，它列出了当你构建项目时要复制的文件或文件夹。默认情况下，会复制 <code>src/assets/</code> 文件夹和 <code>src/favicon.ico</code>。</p>\n<code-example language=\"json\">\n\n\"assets\": [\n  \"src/assets\",\n  \"src/favicon.ico\"\n]\n\n</code-example>\n<!-- vale off -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8qs2stgdtde93l8i5vcj52j01\">要排除某个资产，可以从这份资产配置中删除它。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c0n4ilcm9nxcoxbq63qi9p5b5\">你可以通过把资产指定为对象的形式来进一步配置要复制的资产，而不仅是相对于工作区根目录的路径。一个资产对象可以包含如下字段。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9r7rsp0jd4sn5xw00im50wdaw\">字段</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>glob</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"plw1vac7owwx1sjop3svl0ax\">使用\n<code>input</code>作为基本目录的\n<a href=\"https://github.com/isaacs/node-glob/blob/master/README.md\">node-glob</a>。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>input</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"clejeu286a3h0uyfntbgwc6xh\">相对于工作区根目录的路径。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>output</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3bxm00l7bq1lvu3metcw1iyvc\">相对于\n<code>outDir</code>的路径（默认为\n<code>dist/project-name</code>）。由于安全性的考虑，Angular CLI 永远不会在项目输出路径之外写入文件。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>ignore</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"egcud92xs85cknxu0eiwlqco8\">要排除的一些通配符。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>followSymlinks</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cdw646pa0rtqoa2avpr1uft7u\">允许通配符模式跟随符号链接目录。这允许搜索符号链接的子目录。默认为\n<code>false</code>。</td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"vuq9ar7qmtfgx8jjdubf75y0\">比如，可以使用如下对象来更详细地表达默认的资产路径。</p>\n<!-- vale on -->\n<code-example language=\"json\">\n\n\"assets\": [\n  {\n    \"glob\": \"**/*\",\n    \"input\": \"src/assets/\",\n    \"output\": \"/assets/\"\n  },\n  {\n    \"glob\": \"favicon.ico\",\n    \"input\": \"src/\",\n    \"output\": \"/\"\n  }\n]\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4286mvf5b1e1h9nw82sallid8\">你可以使用此扩展配置从项目外部复制资产。比如，以下配置会从 node 包中复制资产：</p>\n<code-example language=\"json\">\n\n\"assets\": [\n  {\n    \"glob\": \"**/*\",\n    \"input\": \"./node_modules/some-package/images\",\n    \"output\": \"/some-package/\"\n  }\n]\n\n</code-example>\n<!-- vale Angular.Google_Will = NO -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e1ctwevpm9953dfja7fbr05lk\"><code>node_modules/some-package/images/</code> 中的内容将会复制到 <code>dist/some-package/</code> 中。</p>\n<!-- vale Angular.Google_Will = YES -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dpmaajfo581b14v5a5gl9ll4i\">下面的例子使用 <code>ignore</code> 字段排除了 assets 文件夹中的某些特定文件，防止它们被复制到 build 中：</p>\n<code-example language=\"json\">\n\n\"assets\": [\n  {\n    \"glob\": \"**/*\",\n    \"input\": \"src/assets/\",\n    \"ignore\": [\"**/*.svg\"],\n    \"output\": \"/assets/\"\n  }\n]\n\n</code-example>\n<p><a id=\"style-script-config\"></a></p>\n<h3 id=\"styles-and-scripts-configuration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"89pdu7ykfayys33l833liwh4o\">样式和脚本配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#styles-and-scripts-configuration\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b5nmhc6ry392rav2v73n9orvu\"><code>styles</code> 和 <code>scripts</code> 选项的数组型条目可以是简单的路径字符串，也可以是指向额外入口点文件的对象。其关联的构建器将在构建过程中将该文件及其依赖项作为单独的捆绑包进行加载。对于配置对象，你可以选择使用 <code>bundleName</code> 字段为该入口点命名捆绑包。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bonz4atnjowbb95915ipcxw6y\">默认情况下捆绑包会被注入这里，但是你可以将 <code>inject</code> 设置为 false，以将捆绑包从注入中排除。比如，以下对象值将创建并命名包含样式和脚本的包，并将其从注入中排除：</p>\n<code-example language=\"json\">\n\n\"styles\": [\n  {\n    \"input\": \"src/external-module/styles.scss\",\n    \"inject\": false,\n    \"bundleName\": \"external-module\"\n  }\n],\n\"scripts\": [\n  {\n    \"input\": \"src/external-module/main.js\",\n    \"inject\": false,\n    \"bundleName\": \"external-module\"\n  }\n]\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ctsee44s81y83v80tp9ec0dy7\">你可以混合使用简单和复杂的文件引用来获取样式和脚本。</p>\n<code-example language=\"json\">\n\n\"styles\": [\n  \"src/styles.css\",\n  \"src/more-styles.css\",\n  { \"input\": \"src/lazy-style.scss\", \"inject\": false },\n  { \"input\": \"src/pre-rename-style.scss\", \"bundleName\": \"renamed-style\" },\n]\n\n</code-example>\n<p><a id=\"style-preprocessor\"></a></p>\n<h4 id=\"style-preprocessor-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c49y55mwl1vlshljgmzxcu68o\">样式预处理器选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#style-preprocessor-options\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1yxdwp89tp4z9ry3mnijhkk2g\">在 Sass 中，你可以利用\n<code>includePaths</code>功能来处理组件和全局样式。这允许你添加额外的基本路径以供导入检查。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"45ev15kpqufdboavnvrzwn3zj\">要添加路径，请使用 <code>stylePreprocessorOptions</code> 选项：</p>\n<code-example language=\"json\">\n\n\"stylePreprocessorOptions\": {\n  \"includePaths\": [\n    \"src/style-paths\"\n  ]\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a82l1lqdfluombibmbzo6zimh\">该文件夹中的文件，比如 <code>src/style-paths/_variables.scss</code>，可以从项目中的任何位置导入，而无需相对路径：</p>\n<code-example language=\"typescript\">\n\n// src/app/app.component.scss\n// A relative path works\n@import '../style-paths/variables';\n// But now this works as well\n@import 'variables';\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3wrrmdtn7l4gwox30uit3uxwz\"><strong>注意</strong>：<br>\n如果要将其用于单元测试，则还需要向 <code>test</code> 构建器中添加某些样式或脚本。另请参阅<a href=\"guide/using-libraries#using-runtime-global-libraries-inside-your-app\">在应用程序内部使用运行时全局库</a>。</p>\n</div>\n<h3 id=\"optimization-configuration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"31paob1v4nxem4bnu7b0fm4lh\">优化配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#optimization-configuration\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1sk0m6f5l6n92wu82jhaeki0v\"><code>optimization</code>选项可以是布尔值，也可以是对象以进行更精细的配置。 此选项启用构建输出的各种优化，包括：</p>\n<!-- vale Angular.Angular_Spelling = NO-->\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a8k8tg1knlg2cyxmkyvifkqsb\">脚本和样式的最小化</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bs1v547i9dx5u01qukxdvhodw\">摇树优化</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"12563qc3hy9gtl2r755fel7wa\">消除死代码</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a1jyu23nuzjw4it8z08s8u1vc\">内联关键 CSS</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5bpzo3bhrrx0ehsxjx28kepvd\">字体内联</li>\n</ul>\n<!-- vale Angular.Angular_Spelling = YES-->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5lv04einjrhkbzdcl1xvsoh9f\">有几个选项可用于微调应用程序的优化方式。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyk2rtnidu0xcswyg7218m57s\">选项</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2y5ehls04hgr372akbuyeyg1x\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>scripts</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bkybs9kjo8e4tbpdx6ya1daxj\">启用脚本输出的优化。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>styles</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d8khjevbpboce52t14bwvptjs\">启用样式输出的优化。</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d1k12gl69g50pghn0aj5lyqh3\"><code>boolean</code> | \n<a href=\"guide/workspace-config#styles-optimization-options\">样式优化选项</a></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>fonts</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"70oq0k01wg5yhlazrrh8ym7o0\">启用字体的优化。\n<div class=\"alert is-helpful\"> \n <strong>注意</strong>: \n <br> 这需要互联网访问。\n</div></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dx8n1ly6inqhhn2wd6qrcjm1w\"><code>boolean</code> | \n<a href=\"guide/workspace-config#fonts-optimization-options\">字体优化选项</a></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n</tbody>\n</table>\n<h4 id=\"styles-optimization-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3xzu6l2uor3v4zxrfzir9z9ta\">样式优化选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#styles-optimization-options\"><i class=\"material-icons\">link</i></a></h4>\n<!-- vale Angular.Angular_Spelling = NO -->\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyk2rtnidu0xcswyg7218m57s\">选项</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2y5ehls04hgr372akbuyeyg1x\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>minify</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1ggkk8r6rlwzlz1eri6uivraa\">通过删除多余的空格和注释、合并标识符、最小化值来最小化 CSS 定义。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>inlineCritical</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ecbtd97vj6bip33s64zbrc7gu\">提取和内联关键 CSS 定义，以改善\n<a href=\"https://web.dev/first-contentful-paint\">首次内容绘制</a>。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>removeSpecialComments</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"55wliwid3dphvxfpy2veyi04k\">删除全局 CSS 中包含\n<code>@license</code>或\n<code>@preserve</code>或以\n<code>//!</code>或\n<code>/*!</code>开头的注释。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n</tbody>\n</table>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a52guxvofobmvdnonmuxtztde\"><a href=\"cli\" title=\"CLI 命令参考\">Angular CLI</a>使用\n<code>Critters</code>执行关键 CSS 内联。有关此软件包的更多信息，请参阅\n<a href=\"https://github.com/GoogleChromeLabs/critters#readme\">Critters 读我</a>。</p>\n</div>\n<h4 id=\"fonts-optimization-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eztmyro0cph3dnnbmxc9ut8ia\">字体优化选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#fonts-optimization-options\"><i class=\"material-icons\">link</i></a></h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyk2rtnidu0xcswyg7218m57s\">选项</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2y5ehls04hgr372akbuyeyg1x\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>inline</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dbsulp3ycdqwcaooi42wlj46m\">通过在应用的 HTML 索引文件中内联外部 Google Fonts 和 Adobe Fonts CSS 定义，减少\n<a href=\"https://web.dev/render-blocking-resources\">阻塞呈现资源</a>。\n<div class=\"alert is-helpful\"> \n <strong>注意</strong>: \n <br> 这需要互联网访问。\n</div></td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n</tbody>\n</table>\n<!-- vale Angular.Angular_Spelling = YES -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6e6r06wheajpapuggt7gnbrsy\">你可以提供如下值，以便应用其中的一项或几项优化：</p>\n<code-example language=\"json\">\n\n\"optimization\": {\n  \"scripts\": true,\n  \"styles\": {\n    \"minify\": true,\n    \"inlineCritical\": true\n  },\n  \"fonts\": true\n}\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1nmk854mkw9171v4e9df5qc53\">对于\n<a href=\"guide/glossary#server-side-rendering\">SSR</a>，你可以将样式优化设置为\n<code>true</code>以减少在 HTML 页面中呈现的代码。</p>\n</div>\n<h3 id=\"source-map-configuration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"735xbhm8acyh483k2v4lw9seh\">Source map（源码映射）配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#source-map-configuration\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b6tevpt4g6fh27rt4niyjgtje\"><code>sourceMap</code> 这个浏览器构建器选项可以是 Boolean 或 Object，以进行更精细的配置以控制应用程序的源码映射。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyk2rtnidu0xcswyg7218m57s\">选项</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2y5ehls04hgr372akbuyeyg1x\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>scripts</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8d686ewypdovlv4jzk67hqc1x\">为所有脚本输出输出源映射。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>styles</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ct7m3fr7ng241jaslssucpohp\">为所有样式输出输出源映射。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>vendor</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyr6h9rypukras247xempm14a\">解析供应商包的源映射。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>false</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>hidden</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cfhxb52gzcz5cjcnivlgguul4\">用于错误报告工具的输出源映射。</td>\n<td align=\"left\"><code>boolean</code></td>\n<td align=\"left\"><code>false</code></td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ay5zmhil0r8gq0vw8g1li38xu\">以下示例展示了如何切换一个或多个值以配置源码映射输出：</p>\n<code-example language=\"json\">\n\n\"sourceMap\": {\n  \"scripts\": true,\n  \"styles\": false,\n  \"hidden\": true,\n  \"vendor\": true\n}\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"29588hkz7auvi07symhz3wv65\">使用隐藏式源码映射时，捆绑包中不会引用源码映射。如果你只希望在错误报告工具中通过源码映射映射错误堆栈跟踪时会很有用。隐藏源码映射就不会在浏览器开发工具中暴露你的源码映射。</p>\n</div>\n<p><a id=\"index-config\"></a></p>\n<h3 id=\"index-configuration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7ikctujyx7hlmjxajeqtrz0fl\">索引配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#index-configuration\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"71ixas1aew6u356tb7vicf4k9\">配置应用的 HTML 索引的生成方式。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3wn5pa6cemlhgz4acmto90wq5\"><code>index</code> 选项可以是字符串，还可以用对象来对配置进行更多微调。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7xon9hb1ddq4c46tlj267b2dl\">当以字符串形式提供值时，指定路径的文件名会被用于要生成的文件，并将创建在应用程序配置的输出路径的根目录中。</p>\n<h4 id=\"index-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6lwfiag4l2wqx99fa5s70r542\">索引选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#index-options\"><i class=\"material-icons\">link</i></a></h4>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyk2rtnidu0xcswyg7218m57s\">选项</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2y5ehls04hgr372akbuyeyg1x\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>input</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dqhwe34kmv9cwsfcgu8f0jla8\">要用于应用生成的 HTML 索引的文件路径。</td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>output</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"etj5f97gf8esci97eob9mngfy\">应用生成的 HTML 索引文件的输出路径。将使用提供的完整路径，并将被视为相对于应用配置的输出路径。</td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"><code>index.html</code></td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"output-path-configuration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1apr6yjs8qsub6gzqqhaqbk3i\">输出路径配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#output-path-configuration\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"elwz7ptt996dcf0ur48wp27rw\"><code>outputPath</code>选项可以是一个字符串，将用作\n<code>base</code>值，或者是一个对象，用于更精细的配置。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5a0jhtdanfsb7d3ovrwv6rew8\">可以使用多个选项来精细调整应用程序的输出结构。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyk2rtnidu0xcswyg7218m57s\">选项</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41wmm5xo0qdczud54aaoli1mv\">值类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2y5ehls04hgr372akbuyeyg1x\">默认值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>base</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b38cryum0i50ucwxleulqonew\">指定相对于工作区根目录的输出路径。</td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code><a href=\"api/animations/browser\" class=\"code-anchor\">browser</a></code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1wdouhysc5qo8w7ha4b5lhd2e\">浏览器构建的输出目录名称位于基本输出路径内。这可以安全地提供给用户。</td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"><code><a href=\"api/animations/browser\" class=\"code-anchor\">browser</a></code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>server</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9xu7o490z8lpmrqcwpvs0z4vz\">服务器构建的输出目录名称位于输出路径基础上。</td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"><code>server</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>media</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8yrs9llsn1txn34uqaftnzwfu\">媒体文件的输出目录名称位于输出浏览器目录内。这些媒体文件在 CSS 文件中通常被称为资源。</td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"><code>media</code></td>\n</tr>\n</tbody>\n</table>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间：Tue Oct 24 2023</div>\n</div>\n\n\n<!-- links to this doc:\n - cli\n - guide/cli-builder\n - guide/component-styles\n - guide/devtools\n - guide/file-structure\n - guide/glossary\n - guide/i18n-common-deploy\n - guide/i18n-common-locale-id\n - guide/i18n-common-merge\n - guide/schematics\n - guide/using-libraries\n-->\n<!-- links from this doc:\n - api/animations/browser\n - cli\n - cli/analytics\n - cli/build\n - cli/cache\n - cli/config\n - cli/serve\n - cli/test\n - guide/build#configure-size-budgets\n - guide/build#configure-target-specific-file-replacements\n - guide/cli-builder\n - guide/file-structure\n - guide/glossary#builder\n - guide/glossary#case-conventions\n - guide/glossary#schematic\n - guide/glossary#server-side-rendering\n - guide/glossary#target\n - guide/glossary#workspace\n - guide/i18n-common-merge\n - guide/using-libraries#using-runtime-global-libraries-inside-your-app\n - guide/workspace-config#alternate-build-configurations\n - guide/workspace-config#angular-cli-configuration-options\n - guide/workspace-config#angular-workspace-configuration\n - guide/workspace-config#asset-config\n - guide/workspace-config#assets-configuration\n - guide/workspace-config#build-configs\n - guide/workspace-config#build-target\n - guide/workspace-config#cache-options\n - guide/workspace-config#cli-configuration-options\n - guide/workspace-config#complex-configuration-values\n - guide/workspace-config#configuring-builder-targets\n - guide/workspace-config#default-architect-builders-and-targets\n - guide/workspace-config#default-build-targets\n - guide/workspace-config#extra-build-and-test-options\n - guide/workspace-config#fonts-optimization-options\n - guide/workspace-config#general-json-structure\n - guide/workspace-config#generation-schematics\n - guide/workspace-config#index-config\n - guide/workspace-config#index-configuration\n - guide/workspace-config#index-options\n - guide/workspace-config#optimization-configuration\n - guide/workspace-config#output-path-configuration\n - guide/workspace-config#project-configuration-options\n - guide/workspace-config#project-tool-configuration-options\n - guide/workspace-config#schematics\n - guide/workspace-config#source-map-configuration\n - guide/workspace-config#style-preprocessor-options\n - guide/workspace-config#style-script-config\n - guide/workspace-config#styles-and-scripts-configuration\n - guide/workspace-config#styles-optimization-options\n - guide/workspace-config#warnings-options\n - https://esbuild.github.io/\n - https://github.com/GoogleChromeLabs/critters#readme\n - https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/builders.json\n - https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/app-shell/schema.json\n - https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/application/schema.json\n - https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/browser/schema.json\n - https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/dev-server/schema.json\n - https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/extract-i18n/schema.json\n - https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/karma/schema.json\n - https://github.com/angular/angular-cli/blob/main/packages/angular_devkit/build_angular/src/builders/server/schema.json\n - https://github.com/angular/angular-cli/blob/main/packages/schematics/angular/application/schema.json\n - https://github.com/isaacs/node-glob/blob/master/README.md\n - https://lesscss.org\n - https://sass-lang.com\n - https://web.dev/first-contentful-paint\n - https://web.dev/render-blocking-resources\n-->"}