{"id":"guide/doc-build-test","title":"构建和测试文档更新","contents":"<div class=\"content\">\n  <h1 id=\"build-and-test-a-documentation-update\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bomszqwfy7kw2tjloh57rlkcw\">构建和测试文档更新<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-build-test#build-and-test-a-documentation-update\"><i class=\"material-icons\">link</i></a></h1>\n<!-- markdownLint-disable MD001 -->\n<!-- markdownLint-disable MD033 -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2fory83knjljie7b00i20egcl\">完成文档更新后，你希望在本地计算机上运行文档的端到端测试。这些测试是你打开 Pull Request 后运行的一些测试。当你在本地计算机上运行端到端测试失败时，可以比打开 Pull Request 后更快地发现它们。</p>\n<h2 id=\"build-the-documentation-on-your-local-computer\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"57sg6qkxok6updcg2jsl4nczx\">在本地计算机上构建文档<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-build-test#build-the-documentation-on-your-local-computer\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"668v6uc2wdnix6h53n6qfyoou\">在测试更新的文档之前，你要构建它以确保测试了最新的更改。</p>\n<h4 id=\"to-build-the-documentation-on-your-local-computer\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"12mfgzvmhwma62azohkzcrvta\">在本地计算机上构建文档<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-build-test#to-build-the-documentation-on-your-local-computer\"><i class=\"material-icons\">link</i></a></h4>\n<!-- vale Angular.Google_WordListSuggestions = NO -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cpc0mtdfw170j4f3777noqdgp\">从本地计算机上的命令行工具或 IDE 的<strong>终端</strong>窗格中执行这些步骤。</p>\n<!-- vale Angular.Google_WordListSuggestions = YES -->\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"fyziwhyu3314h7e3lbb9s34n\">导航到你的<a href=\"guide/doc-prepare-to-edit#doc-working-directory\">工作目录</a>。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eyhwm7kvfyx0ycwowftjthtfd\">从你的工作目录，运行此命令以导航到 <code>aio</code> 目录。<code>aio</code> 目录包含 Angular 的文档文件和工具。</p>\n<code-example language=\"shell\">\n\ncd aio\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3qaxdptacg3c7ijvf0shyds60\">运行此命令以在本地构建文档。</p>\n<code-example language=\"shell\">\n\nyarn build\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2pilcnkt2ymph09suyyd5cdwo\">这会从头开始构建文档。</p>\n</li>\n</ol>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"16ib9to5p4tzmuarnbucotedn\">在本地计算机上构建文档后，你可以运行 angular.io 端到端测试。</p>\n<h2 id=\"run-the-angulario-end-to-end-test-on-your-local-computer\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cosrtj6mxk9tzxxt31ae27tse\">在本地计算机上运行 angular.io 端到端测试<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-build-test#run-the-angulario-end-to-end-test-on-your-local-computer\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dosi76ehrh9jdagac1hkanfol\">此过程会运行你打开 Pull Request 后运行的大多数（但不是全部）测试。</p>\n<h4 id=\"to-run-the-angulario-end-to-end-test-on-your-local-computer\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"50wyhcs6oeny5ca7vcmtn3svi\">在本地计算机上运行 angular.io 端到端测试<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-build-test#to-run-the-angulario-end-to-end-test-on-your-local-computer\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c47ygwup6k86090fe4ik3wzh0\">在本地计算机上的命令行工具或 IDE 的“<strong>终端</strong>”窗格中：</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8jr1gfvun9no10lm0xy5r9muu\">从你的<a href=\"guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\">工作区</a>目录运行此命令以导航到你的<a href=\"guide/doc-prepare-to-edit#doc-working-directory\">工作目录</a>。</p>\n<code-example format=\"shell\" language=\"shell\">\n\ncd personal/angular\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"55vw4k4yuvvsutc3lffrban9y\">将 <code>working-branch</code> 替换为你的 <code>working</code> 分支的名称，并运行此命令以签出你的 <code>working</code> 分支。</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit checkout working-branch\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3qcdea5nuax2n7hxtvkwkudc1\">运行此命令以导航到文档。</p>\n<code-example format=\"shell\" language=\"shell\">\n\ncd aio\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e95rfrs6qck7m30a3ad3n1ke1\">执行这些命令以运行端到端测试。</p>\n<code-example format=\"shell\" language=\"shell\">\n\nyarn e2e\nyarn docs-test\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ddau4rtzjpxefg734z0gzqdpo\">监视测试可能报告的错误。</p>\n</li>\n</ol>\n<h2 id=\"no-errors-reported\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3phs4mjlz9tmbtxe7z26s00ob\">没有报告错误<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-build-test#no-errors-reported\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"15s8zligxcxv7di1bb5v3z9av\">如果端到端测试没有报告错误，并且你的更新已通过<a href=\"guide/doc-editing#test-your-documentation\">所有其他所需的审查</a>，则你的文档更新已准备好接受 Pull Request。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b22jozyamltc1rnmlckm2cfc7\">打开 Pull Request 后，GitHub 会测试你的 Pull 请求中的代码。GitHub 运行的测试包括你刚刚运行的端到端测试以及仅在 GitHub 存储库中运行的其他测试。因此，即使你的更新在本地通过了端到端测试，但你的更新在你打开 Pull Request 后仍然可能会报告错误。</p>\n<h2 id=\"errors-reported\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dyisnnertfxkbv6qzt82oujqu\">报告的错误<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-build-test#errors-reported\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2kamghlz0tne3z9zky7q7ml1a\">如果端到端测试在你的本地计算机上报告错误，请确保在打开 Pull Request 之前更正它。如果更新在本地未能通过端到端测试，则很可能会导致你打开 Pull Request 后运行的测试失败。</p>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间：Wed Oct 12 2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/doc-pr-update\n - guide/doc-update-overview\n-->\n<!-- links from this doc:\n - guide/doc-build-test#build-and-test-a-documentation-update\n - guide/doc-build-test#build-the-documentation-on-your-local-computer\n - guide/doc-build-test#errors-reported\n - guide/doc-build-test#no-errors-reported\n - guide/doc-build-test#run-the-angulario-end-to-end-test-on-your-local-computer\n - guide/doc-build-test#to-build-the-documentation-on-your-local-computer\n - guide/doc-build-test#to-run-the-angulario-end-to-end-test-on-your-local-computer\n - guide/doc-editing#test-your-documentation\n - guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\n - guide/doc-prepare-to-edit#doc-working-directory\n-->"}