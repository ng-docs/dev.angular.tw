{"id":"guide/doc-pr-update","title":"更新文件 Pull Request","contents":"<div class=\"content\">\n  <h1 id=\"update-a-documentation-pull-request\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6ku8iv5eykxitu8ba0gogj66r\">更新文件 Pull Request<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#update-a-documentation-pull-request\"><i class=\"material-icons\">link</i></a></h1>\n<!-- markdownLint-disable MD001 -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ejzpsz5svkykd22991tnjp3ej\">本主題介紹如何回應測試失敗和對你的 Pull Request 的反饋。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1r3tkixjn8r0nlix5aopp4hnp\">在你開啟 Pull Request 後，它會被測試和審查。獲得批准後，這些更改會合併到 <code>angular/angular</code> 中，併成為 Angular 文件的一部分。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4pavft76szgy3ejzz50mbz5zw\">雖然某些 Pull Request 會在你沒有進一步操作的情況下獲得批准，但大多數 Pull Request 都會收到需要你進行更改的反饋。</p>\n<h2 id=\"anatomy-of-a-pull-request\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cj0opykk9luak6i2bkaki1div\">Pull Request 的剖析<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#anatomy-of-a-pull-request\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3t2swe2bohmpwedxhm0lp0s77\">開啟 Pull Request 後，Pull Request 頁面會記錄 Pull Request 中的活動，因為它被檢視、更新和批准。這是 Pull Request 頁面頂部的範例，後跟其包含的訊息的描述。</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"Screenshot of github.com page showing a branch listing from a repo\" src=\"generated/images/guide/doc-pr-update/pull-request-heading.png\" width=\"722\" height=\"225\">\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2mexaizrckcaa0bn45bhrkcta\">Pull-request 頁籤上方是 Pull Request 的摘要，包括：</p>\n<ul>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1n92nf9o4ldobjmevnecpwzk5\">Pull Request 標題和索引</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8fuz5p5b0nqbtu39mvko229pp\">拉取請求的狀態：開啟或關閉</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b9cujkjripe4hvnplfmnnu46h\">具有更改的分支和要更新的分支的描述</p>\n</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"85t6ghg6v1v4p67v4y25qmwan\">這些頁籤包含 Pull Request 的不同方面。</p>\n<ul>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"23yhbakl3ketdp72gvqada0g8\"><strong>對話</strong></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"exuzhmd9l6t2ggemt689usib5\">對 Pull Request、系統訊息以及自動測試和批准的摘要的所有註解和更改。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1a3khp1fut1j9o6zo5iup81p8\"><strong>送出</strong></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d8gp71ho0566yo0eb2yf4vbg2\">此 Pull Request 中包含的送出的日誌。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d2j5bnx4v0uyi5ly24tdx2t05\"><strong>檢查</strong></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2m1lzpimquk3mykrfph23kctv\">檢查的結果在送出時運行。這與也在『<strong>對話』</strong>頁籤底部執行和彙總的自動測試不同。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c7vokcut08596x32p93m0dw0z\"><strong>檔案已更改</strong></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2lyxbiy2vfwbtxs0m5g2ecotw\">此請求對程式碼所做的更改。在此頁籤中，你可以在其中找到對 Pull Request 中更改的特定註解。你也可以在此標籤中回覆這些評論。</p>\n</li>\n</ul>\n<h2 id=\"respond-to-a-comment\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6xutk8upjryjqz7pb5ss5rztz\">回覆評論<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#respond-to-a-comment\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1i5hdo4jb22c8m17sbrq969fu\">如果你的 Pull Request 收到來自審閱者的評論，你可以用多種方式回覆。</p>\n<ul>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"argv3lqls9r7v11swgdsxc292\">回覆反饋。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4d4965i3fkob20rdqp9dlh4c0\">例如，你可以要求提供更多訊息或回覆解釋。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"94n2kmd23nmvyt52zngiz31ze\">對審閱者建議的文件進行更改。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b9usy42c2n08d8l9ve3de7ad8\">如果你使用建議的更改更新工作分支，請解析註解。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e17zsun9zd0x5plyd0lrubps9\">對文件進行其他更改。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"jo9bu1zn2z2og3tggwyfeqsa\">在檢視反饋後，你可能會看到更好的改進。透過你的改進來更新工作分支，並在評論中向審閱者解釋你選擇它的原因。</p>\n</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"26xazvdzrzo5p2cniamjtvsqr\">請記住，沒有收到對稽核註解的回應的 Pull Request 被認為是被放棄並關閉。有關被放棄的 Pull Request 的更多訊息，請參閱<a href=\"guide/doc-pr-open#what-happens-to-abandoned-pull-requests\">被放棄的 Pull 請求會發生什麼</a>。</p>\n<h3 id=\"update-a-file-in-the-pull-request\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ege61slkgsy21pgbdisang3jn\">更新 Pull Request 中的檔案<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#update-a-file-in-the-pull-request\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bgmf6paz1xtceh745tha3o6c5\">請按照此過程更改 Pull Request 中的檔案或將新檔案新增到 Pull 請求中。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"57ccdfgsopdhsrql9k1esvsbs\">在你的 <code>git</code> 工作區的工作目錄中，簽出你的工作分支。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"670p61g04jwz9ktngrenw5w7v\">更新文件以回應你收到的反饋。用於<a href=\"guide/doc-editing\">修改文件主題</a>的過程也用於在有開啟的 Pull Request 時更新文件。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3u95k1r0o5exlhb394dpyxssm\">如<a href=\"guide/doc-build-test\">測試文件更新中所述，在本地測試你的更新</a>。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"46z5kg4mgz75lxcyi6mhn1aah\">在你的更新經過測試後，送出你的更改並將新送出推送到 <code>origin</code> 伺服器上儲存庫的工作分支。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4y6pbyoqrtgywwj0dhdzgnhs3\">在你更新 <code>origin</code> 伺服器上的工作分支（你的 GitHub 帳戶中 <code>angular/angular</code> 儲存庫的 fork）後，你的 Pull Request 會自動更新。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"23th9laoabo5hhcwauu5brznr\">在 Pull Request 更新後，會重新啟動自動測試並通知審閱者。</p>\n</li>\n</ol>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"85vwy6azjh76sj1qicjbp0oa6\">根據需要重複此過程，以解決你從 Pull Request 審查中獲得的反饋。</p>\n<h2 id=\"clean-up-the-branch\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9q84b50j50inkx2y2ybfr0zqd\">清理分支<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#clean-up-the-branch\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5hyl8jrdivf49xeeen8umqud0\">如果你新增了送出來解決審查反饋，可能會要求你清理工作分支。如果你所做的某些送出只解決了審閱者的反饋，它們可能會被壓縮。壓縮送出將在多個送出中所做的更改組合到一個送出中。</p>\n<!-- markdownLint-disable MD033 -->\n<h4 id=\"to-squash-commits-in-your-working-branch\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"84le81ntoalno0l98xhn8upo3\">在工作分支中壓縮送出<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#to-squash-commits-in-your-working-branch\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bkn827sttq5avoz7hovn5g93p\">從本地電腦上的指令行工具執行這些步驟。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1795tv8e52q2xq35o8luf8kna\">在你的<a href=\"guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\">工作區</a>目錄中的<a href=\"guide/doc-prepare-to-edit#doc-working-directory\">工作目錄</a>中，簽出你的工作分支。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8k3z3j7h62terziun8wpq44pr\">執行此指令以檢視工作分支中的送出。</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit log --pretty=format:\"%h %as %an %Cblue%s %Cgreen%D\"\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cfragll1r1z981s59vu8rsnh0\">在前一個 <code>git log</code> 指令的輸出中，查詢包含 <code>upstream/main</code> 的條目。它應該在清單的頂部附近。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"50we7o04d8b8q8kmnc8rw4itb\"><strong>確認條目還包含 <code>origin/main</code> 和 <code>main</code></strong></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ecr0s2il7rlgz6ooqutw3vnzj\">如果不是，你必須將本地電腦上的克隆以及你的 <code>personal/angular</code> 儲存庫與 <code>upstream</code> 儲存庫重新同步。重新同步儲存庫後，請在繼續之前重新<a href=\"guide/doc-pr-prep#rebase-your-working-branch\">定位工作分支</a>。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4o32xd9m65iwgzcryh0orux8m\"><strong>確認你的更新的所有送出都在包含 <code>upstream/main</code> 的條目之後</strong></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5rucy6gvqlqw1tgmzwqgu4ejd\">請記住，日誌輸出會首先顯示最近的送出。你的送出應該都在日誌輸出中包含 <code>upstream/main</code> 的條目之上。如果你有包含 <code>upstream/main</code> 的條目之後列出的送出，則你在工作分支中的送出會以某種方式混淆。你必須在嘗試壓縮任何送出之前修復分支。</p>\n</li>\n</ol>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4pi8v2czc5xaswftfbqcf4hfz\">計算包含 <code>upstream/main</code> 的條目頂部的行數。例如，在此日誌輸出中，工作分支名稱是 <code>update-doc-contribution</code>，並且在包含 <code>upstream/main</code> 的條目之上有五個送出條目。</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4vxfkrh2t8fhcyq3hfxkikr46\"><a href=\"generated/images/guide/doc-pr-update/git-log-output-large.png\"><img alt=\"git log 輸出的截圖\" src=\"generated/images/guide/doc-pr-update/git-log-output.png\" width=\"722\" height=\"87\"></a></p>\n</div>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"97id0llm2c10qd28dnhu8c0nu\">執行此指令以壓縮在包含 <code>upstream/main</code> 的條目之後發生的送出。在你的指令中，將 <code>HEAD</code> 之後的 <code>5</code> 替換為包含 <code>upstream/main</code> 的條目頂部的送出數。</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit rebase -i HEAD~5\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7s5coctnpmq0cw1k9lakinr0q\">此指令會開啟你的預設編輯器，其中包含你在 <code>git rebase</code> 指令中選擇的送出的條目。</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<img alt=\"Screenshot of git rebase editor screen\" src=\"generated/images/guide/doc-pr-update/git-squash-edit.png\" width=\"717\" height=\"113\">\n</div>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bsvn2pney64zqed0ve6k1qor6\">要壓縮送出，請編輯編輯器中顯示的檔案中的指令。編輯器中的指令從最舊到最新列出，這與 <code>git log</code> 指令列出它們的順序相反。可能的指令選項在指令下方的編輯器中列出。要壓縮你的 Pull Request 的送出，你只需要：<code>pick</code> 和 <code>squash</code>。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7h942k0zcjawr4l69uju7t8by\">檢視編輯器中的指令並更改它們以符合你的意圖。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9hjcukyr7soryul8eso9oeteo\">這些指令從上到下進行處理，即從最舊的送出到最新的送出。若要將此分支中的所有送出合併到此拉取請求中，請將所有送出的 \n<code>pick</code> 指令更改為除第一個之外的所有送出的 \n<code>squash</code>。 此文字顯示了這個範例的效果。</p>\n<code-example language=\"none\" hidecopy=\"\">\n\npick bb0ff71891 docs: update of documentation contrib. guide\nsquash c040d76685 docs: more content for doc updates\nsquash 472585c43f docs: fix links that were broken by renamed files\nsquash 3e6f4c73ac docs: add more info about open PR\nsquash 8e50fad064 docs: more pr docs\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"32qby90vf5qe2bndsy1c3t3by\">透過此編輯，<code>git rebase</code> 會選擇第一個送出並將後送出的合併到第一個送出中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6no8rz4d4kimjvv49peojjap0\">使用 <code>pick</code> 指令的送出的送出訊息是用於結果送出的送出訊息。確保它的格式正確並以 <code>docs:</code> 開頭。如果你需要更改送出訊息，可以在編輯器中編輯它。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"csnnnr0c8m9e9ljef4zyin8c0\">更新指令後，儲存並退出編輯器。<code>git rebase</code> commit 會處理這些指令並更新你工作區中的送出日誌。在此範例中，rebase 指令結合了五個送出，以在你的工作分支中建立一個送出。這是 rebase 指令完成後的送出日誌。</p>\n<div class=\"lightbox\">\n<!-- Image source is found in angular/aio/src/assets/images/doc-contribute-images.sketch, in the sketch page that matches this topic's filename -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9dltxdi142uv1y5iyu5ynzes9\"><a href=\"generated/images/guide/doc-pr-update/git-log-after-squash-large.png\"><img alt=\"git rebase 指令後送出日誌的截圖\" src=\"generated/images/guide/doc-pr-update/git-log-after-squash.png\" width=\"722\" height=\"43\"></a></p>\n</div>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2njtdv2r3qeb482wnvonavd6f\"><code>git rebase</code> 指令會更改本地電腦中的送出日誌，因此它現在與你的線上儲存庫中的不同。要更新你的線上儲存庫，你必須使用此指令強制從本地電腦推送更改。</p>\n<code-example format=\"shell\" language=\"shell\">\n\ngit push --force-with-lease\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1o18drtbac30bag0iwpeewlxm\">此操作也稱為<em>強制推送</em>，因為它會更改儲存在你 GitHub 帳戶中的送出日誌。通常，當你執行 <code>git push</code> 時，你會將新送出新增到線上儲存庫。當其他人 fork 儲存庫時，強制推送可能會對他們產生不良影響。此 force-push 是到你的 fork 儲存庫的，不應該共享，因此應該沒問題。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3vak9m2vgrfdudkaa85eep56k\">在你的強制推送更新線上儲存庫後，你的 Pull Request 會重新啟動自動測試並通知審閱者此更新。</p>\n</li>\n</ol>\n<h2 id=\"next-steps\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c4pkljueu68ifjoi5994e9l8o\">下一步<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/doc-pr-update#next-steps\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bwr4mnip14pr9c88bjwa9s455\">根據需要重複這些更新步驟，以回覆你收到的所有反饋。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b7h903n2a8mfqtwccmop1qjat\">在你解決所有反饋並且你的 Pull Request 被批准後，它會合併到 <code>angular/angular</code>。你的 Pull Request 中的更改應該很快出現在文件中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8qyfjda4khiqyq8o874jsp89r\">在你的 Pull Request 合併到 <code>angular/angular</code> 後，你可以<a href=\"guide/doc-edit-finish\">清理你的工作區</a>。</p>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最後複查時間：Wed Oct 12 2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/doc-pr-open\n - guide/doc-update-overview\n-->\n<!-- links from this doc:\n - generated/images/guide/doc-pr-update/git-log-after-squash-large.png\n - generated/images/guide/doc-pr-update/git-log-output-large.png\n - guide/doc-build-test\n - guide/doc-edit-finish\n - guide/doc-editing\n - guide/doc-pr-open#what-happens-to-abandoned-pull-requests\n - guide/doc-pr-prep#rebase-your-working-branch\n - guide/doc-pr-update#anatomy-of-a-pull-request\n - guide/doc-pr-update#clean-up-the-branch\n - guide/doc-pr-update#next-steps\n - guide/doc-pr-update#respond-to-a-comment\n - guide/doc-pr-update#to-squash-commits-in-your-working-branch\n - guide/doc-pr-update#update-a-documentation-pull-request\n - guide/doc-pr-update#update-a-file-in-the-pull-request\n - guide/doc-prepare-to-edit#create-a-git-workspace-on-your-local-computer\n - guide/doc-prepare-to-edit#doc-working-directory\n-->"}