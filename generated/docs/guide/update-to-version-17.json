{"id":"guide/update-to-version-17","title":"將 Angular 更新到 v17","contents":"<div class=\"content\">\n  <h1 id=\"update-angular-to-v17\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7hl075hb0ct5da4lmozndm2a7\">將 Angular 更新到 v17<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#update-angular-to-v17\"><i class=\"material-icons\">link</i></a></h1>\n<!-- NOTE to writers: When creating the topic for the next version,                               -->\n<!--   remember to update the redirect link in angular/aio/firebase.json                          -->\n<!-- To update the redirect link in angular/aio/firebase.json:                                    -->\n<!--   1. Search for the entry in firebase.json with \"source\": \"guide/update-to-latest-version\"   -->\n<!--   2,  Update the destination value to refer to the new guide's URL                           -->\n<!--                                                                                              -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5164a00y6lekbnv61znfkdyz4\">本主題提供有關將您的 Angular 應用程式更新到 Angular 版本 17 的訊息。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7eet1rnfbktcjmb5arn2nunpa\">要了解此訊息的摘要以及將您的 Angular 應用程式更新到 v17 的逐步過程，請參閱\n<a href=\"https://update.angular.io\">Angular 更新指南</a>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4z60xxbu42n1m49629j8zfqij\"><a href=\"https://update.angular.io\">Angular 更新指南</a>和本主題中的訊息是從這些更改日誌中總結的：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8p1tcoqjybbamoiwriuz5dvk4\"><a href=\"https://github.com/angular/angular/blob/main/CHANGELOG.md\">angular/angular 函式庫的變更日誌</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4vjkm26a9sl0gyxbjwpa7l2ql\"><a href=\"https://github.com/angular/angular-cli/blob/main/CHANGELOG.md\">angular/angular-cli 函式庫的變更日誌</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6ywcwq8fnzlusplbto7k5i79f\"><a href=\"https://github.com/angular/components/blob/main/CHANGELOG.md\">angular/components 函式庫的變更日誌</a></li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9tfu1x832tzc3i362am39cnj5\">有關將 Angular 應用程式更新到 v16 的訊息已存檔在\n<a href=\"/guide/update-to-version-16\">更新到版本 16</a>。</p>\n<p><a id=\"new-features\"></a></p>\n<h2 id=\"feature-highlights-in-angular-v17\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"91gex5kr1tq7vti4liq9s886b\">Angular v17 中的屬性亮點<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#feature-highlights-in-angular-v17\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"74fu9coqz78h68tejpcwelq39\">要檢視更全面的新功能清單，請參閱\n<a href=\"https://blog.angular.io\">有關更新到 v17 的 Angular 部落格文章</a>。</p>\n<!-- markdownLint-disable MD001 -->\n<h4 id=\"deferrable-views\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"47wqccy89733v0fogfbmtkwbl\">可延遲檢視<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#deferrable-views\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"efzep17s0emt83a9r7j9vh41e\">新的可延遲檢視允許您在範本的某個部分延遲載入所有元件、指令和通道：</p>\n<code-example language=\"html\">\n@defer (on viewport) {\n  &lt;comment-list /&gt;\n} @placeholder {\n  &lt;!-- A placeholder content to show until the comments load --&gt;\n  &lt;<a href=\"api/common/NgOptimizedImage\" class=\"code-anchor\">img</a> src=\"comments-placeholder.png\" /&gt;\n}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"boca6mnr1o6svl9ojnvkx2jr3\">在上面的範例中，Angular 首先渲染佔位符區塊的內容。當它在視口中可見時，\n<code>&lt;comment-list /&gt;</code> 元件的載入開始。載入完成後，Angular 移除佔位符並渲染元件。</p>\n<h4 id=\"built-in-control-flow\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d1irlmekz2jxdklcwd5qbfxk0\">內建控制流<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#built-in-control-flow\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aq96si4pbjl0f5aat99fljke3\">我們使用了一個新的區塊語法來最佳化內建的控制流程。經過使用者研究，我們發現許多開發人員在使用 \n<code>*<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a></code>、\n<code>*<a href=\"api/common/NgSwitch\" class=\"code-anchor\">ngSwitch</a></code> 和 \n<code>*<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> 時遇到困難。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3heqzg23gxmgu9vc3rxrgsm9o\">它包括條件語句：</p>\n<code-example language=\"text\">\n@if (loggedIn) {\n  The user is logged in\n} @else {\n  The user is not logged in\n}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5crgp5o64qlma80a2k6brnfzc\">Switch 語句：</p>\n<code-example language=\"text\">\n@switch (accessLevel) {\n  @case ('admin') { &lt;admin-dashboard/&gt; }\n  @case ('moderator') { &lt;moderator-dashboard/&gt; }\n  @default { &lt;user-dashboard/&gt; }\n}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8pwdmn1cc2v5t4qoopeg7z11w\">以及 for 迴圈：</p>\n<code-example language=\"text\">\n@for (user of users; track user.id) {\n  {{ user.name }}\n} @empty {\n  Empty list of users\n}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"91ydolcp4e7mkjkxt3l9bgd8x\">除了改進的工效學外，對於某些效能基準測試來說，控制流程還可以提高高達 90% 的速度。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"90dee6n6de6v7rz5wly7xgid\">截至 v17，內建的控制流程處於開發者預覽階段。要將專案更新為使用它，請執行原理圖：</p>\n<code-example language=\"sh\">\nng generate @angular/core:control-flow\n</code-example>\n<h4 id=\"new-angularssr-package\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6stbfiwkria61snhovhe0ghb0\">新的 \n<code>@angular/ssr</code> 套件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#new-angularssr-package\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d64j9oulie29xwdt1knse6qp4\">我們將 Angular 伺服器端渲染的程式碼從 \n<code>angular/universal</code> 移動到 \n<code>angular/angular-cli</code>，將 SSR 更直接地整合到我們的工具中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cotw8mquouwa5j1pwxakt9qbc\">從今天開始，要為現有應用新增 SSR 支援，請執行：</p>\n<code-example language=\"sh\">\nng add @angular/ssr\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7750krt60penw7hv2usy3e2a3\">此指令生成伺服器入口點，新增 SSR 和 SSG 建立功能，並預設啟用水合。 \n<code>@angular/ssr</code> 提供了與目前處於維護模式的 \n<code>@nguniversal/express-engine</code> 等價的功能！Angular CLI 將使用 \n<code>ng update</code> 自動更新您的程式碼到 \n<code>@angular/ssr</code>！</p>\n<h4 id=\"new-lifecycle-hooks\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"af4m639kqd5poadyhf5y9cs8w\">新的生命週期鉤子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#new-lifecycle-hooks\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7eqb6pbyo9th4gi2b26fzjjq3\">為了提高 Angular 的 SSR 和 SSG 的效能，我們希望從 DOM 模擬和直接 DOM 操作中逐步移除。同時，在大多數應用程式的生命週期中，它們需要與元素互動以實例化第三方函式庫，測量元素大小等。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1zfcd7xubyzmb2429q25ho27\">為此，我們開發了一組新的生命週期鉤子：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3qo4md8quppe8at0ir6biqx2t\"><code><a href=\"api/core/afterRender\" class=\"code-anchor\">afterRender</a></code> - 註冊一個回呼，每次應用程式完成渲染時調用</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7r7243ednhjk9jtibn3f59qjt\"><code><a href=\"api/core/afterNextRender\" class=\"code-anchor\">afterNextRender</a></code> - 註冊一個回呼，下次應用程式完成渲染時調用</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"be95eg0qb47psta4a69i56fxj\">只有瀏覽器會呼叫這些鉤子，這使您可以安全地在元件內部直接插入自定義 DOM 邏輯。例如，如果您想要實例化一個圖表函式庫，您可以使用 afterNextRender：</p>\n<code-example language=\"typescript\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'my-chart-cmp',\n  template: `&lt;div #chart&gt;{{ ... }}&lt;/div&gt;`,\n})\nexport class MyChartCmp {\n  @<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>('chart') chartRef: <a href=\"api/core/ElementRef\" class=\"code-anchor\">ElementRef</a>;\n  chart: MyChart | null;\n\n  constructor() {\n    <a href=\"api/core/afterNextRender\" class=\"code-anchor\">afterNextRender</a>(() =&gt; {\n      this.chart = new MyChart(this.chartRef.nativeElement);\n    });\n  }\n}\n</code-example>\n<h4 id=\"vite-and-esbuild-the-default-for-new-projects\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8suypmmnc4lz04qzzz6rt1jwo\">Vite 和 esbuild 成為新專案的預設選擇<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#vite-and-esbuild-the-default-for-new-projects\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7khyol4t8dtr63lcffgiwtk7g\">在 v16 中，我們推出了基於 esbuild 和 Vite 的開發者預覽建立體驗。從那時起，許多開發人員和企業對此進行了實驗！今天，我們很高興地宣佈，新的應用程式建構式從開發者預覽中畢業，並已預設啟用於所有新應用程式！</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eo6a8bwoykzf9ss1hvnbizsnm\">在使用混合渲染時，我們更新了建立通道。透過 SSR 和 SSG，您可以觀察到 ng build 的速度提高了高達 87%，對於 \n<code>ng serve</code>，編輯重新整理迴圈速度更快了 80%。我們將致力於開發原理圖，以將使用混合渲染（SSR 和 SSG）的現有應用程式切換到新的建構式。</p>\n<h4 id=\"dependency-injection-debugging-in-devtools\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7o96w34n70aaqh9io19z4cqx7\">在 DevTools 中除錯依賴注入<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#dependency-injection-debugging-in-devtools\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"abxg28e11td0ro2jthu1mbcej\">在過去的幾個月裡，我們實現了全新的除錯 API，使我們能夠連線到框架的執行時並檢查注入器樹。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7zoafehpo22o7hp40adfy7rc4\">基於這些 API，我們建立了一個檢查使用者介面，允許你預覽：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6kob3jnbsfqoawwqivtbdfj8i\">在元件檢查器中檢視你的元件的依賴關係</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"38p22g7bihh17v7t4wbfpks3b\">注入器樹和依賴解析路徑</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bb5876e4ikybm09rtpd89bai7\">在各個注入器中宣告的提供者</li>\n</ul>\n<h4 id=\"experimental-view-transitions-support\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9slpdjjhgpcj56dpssjo2p0bu\">實驗性檢視轉場支援<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#experimental-view-transitions-support\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"44qkdh21j58e5polcsbmts6eo\">檢視轉場 API 在更改 DOM 時實現平滑轉場。在 Angular 路由器中，我們現在透過 \n<code><a href=\"api/router/withViewTransitions\" class=\"code-anchor\">withViewTransitions</a></code> 屬性直接提供對該 API 的支援。使用此功能，你可以利用瀏覽器的原生能力在路由之間建立動畫轉場。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4kpcux50mrz8a103g1xgf4jop\">你可以透過在啟動時在路由器的提供者宣告中設定來立即向你的應用新增此功能：</p>\n<code-example language=\"typescript\">\n<a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a>(App, {\n  providers: [<a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a>(routes, <a href=\"api/router/withViewTransitions\" class=\"code-anchor\">withViewTransitions</a>())],\n});\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ayomhvmocxedetoqkpedbf62g\"><code><a href=\"api/router/withViewTransitions\" class=\"code-anchor\">withViewTransitions</a></code> 接受一個可選的設定物件，其中包含屬性 \n<code>onViewTransitionCreated</code>，這是一個回呼，讓你可以有一些額外的控制：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"96tl79xaycg8g710c9e3s3tcc\">決定是否跳過特定動畫</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"40466kqpbjfk1lmcl0l33az66\">向文件新增類別以自定義動畫，並在動畫完成時移除這些類別</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cmc14i3fe2i0j8dmrkp3thpl\">等等</li>\n</ul>\n<p><a id=\"breaking-changes\"></a></p>\n<h2 id=\"highlighted-breaking-changes-in-angular-v17\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"83cyy85651osrfcv374oxzxsz\">Angular v17 中的重大變化<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#highlighted-breaking-changes-in-angular-v17\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6l2uq9q6l26zqu82bdg58420k\">有關重大更改的完整清單，請參閱 GitHub 上的完整變更日誌。</p>\n<p><a id=\"v17-bc-01\"></a></p>\n<h3 id=\"angular-v17-requires-nodejs-version-v1813-or-newer\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2opbkakz9bbp0sui7fk35hgsq\">Angular v17 需要 node.js 版本 v18.13 或更高版本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#angular-v17-requires-nodejs-version-v1813-or-newer\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"452uvzphv67v4g0pvoheuna3d\">Angular 需要 node.js v18.13 或更高版本。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7h86l3ewnugvd90sdni731l62\">有關完整版本相容性的詳細訊息，請參閱<a href=\"/guide/versions\">版本相容性</a>。</p>\n<p><a id=\"v17-bc-02\"></a></p>\n<h3 id=\"angular-v17-requires-typescript-version-52-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bj7tya4k7jzvwu6ct5w133ue4\">Angular v17 需要 TypeScript 版本 5.2 或更高版本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#angular-v17-requires-typescript-version-52-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"663kdmkdq7epo0oytfcf2souk\">Angular v17 不再支援早於 5.2 版本的 TypeScript。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7h86l3ewnugvd90sdni731l62\">有關完整版本相容性的詳細訊息，請參閱<a href=\"/guide/versions\">版本相容性</a>。</p>\n<p><a id=\"v17-bc-03\"></a></p>\n<h3 id=\"angular-v17-requires-zonejs-v0140\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7bikcgfgk1lq9p77u3wjxo347\">Angular v17 需要 zone.js v0.14.0<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#angular-v17-requires-zonejs-v0140\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"alqdsgfqa3dpoxvvt8enwumj0\">Angular v17 不再支援早於 v0.14.0 版本的 zone.js。</p>\n<p><a id=\"v17-bc-04\"></a></p>\n<h4 id=\"strict-ngswitch-check\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b2td2k5mcj8eereit4wqexq3f\">NgSwitch 檢查嚴格性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#strict-ngswitch-check\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8pxxpkii92sfdzrj1qytf5m41\">指令 \n<code><a href=\"api/common/NgSwitch\" class=\"code-anchor\">NgSwitch</a></code> 現在預設使用 \n<code>===</code> 相等運算符，遷移自先前使用的 \n<code>==</code>。需要調整 \n<code><a href=\"api/common/NgSwitch\" class=\"code-anchor\">NgSwitch</a></code> 表示式或單獨條件值以適應此更嚴格的等式檢查。在需要調整檢查的地方，你會在控制台中看到警告訊息。</p>\n<p><a id=\"v17-bc-06\"></a></p>\n<h4 id=\"routes-with-loadcomponent-data-inheritance\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bn473me7as4dbsd7m41zaojcn\">具有 \n<code>loadComponent</code> 資料繼承的路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#routes-with-loadcomponent-data-inheritance\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"48zw3xbsnkd4tbtscajgxeqt7\">子路由不再預設從父級繼承其資料，具有 \n<code>loadComponent</code> 的子路由。在 v17 中，預設的 \n<code>paramsInheritanceStrategy</code> 是 \n<code>emptyOnly</code>。如果想要在子路由中繼承父級資料，請將策略更新為 \n<code>always</code>。</p>\n<p><a id=\"v17-bc-07\"></a></p>\n<h4 id=\"router-absolute-redirect-behavior-change\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7lqi8fue6gemekt4bpu08n8d7\">路由器絕對重導向行為更改<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#router-absolute-redirect-behavior-change\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e0q2eiyzvqhxq2jlba0zjtfmz\">絕對重導向不再阻止進一步的重導向。你可能需要調整路由設定以防止無限重導向。先前，在絕對重導向後，路由器會忽略所有重導向。</p>\n<p><a id=\"v17-bc-08\"></a></p>\n<h4 id=\"removal-of-setuptestingrouter\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5z66zd9yg2iafvwhxdq0xzhbk\">移除 \n<code>setupTestingRouter</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#removal-of-setuptestingrouter\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"11eak0vt3ki8f9kd8cyu5mqe6\">使用 \n<code>RouterModule.forRoot</code> 或 \n<code><a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a></code> 來為測試設定路由器，而不是使用 \n<code>setupTestingRouter</code>。</p>\n<p><a id=\"v17-bc-09\"></a></p>\n<h4 id=\"removal-of-malformedurierrorhandler\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3difijd4zz0qxmieun6og2ikc\">移除 \n<code>malformedUriErrorHandler</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#removal-of-malformedurierrorhandler\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"82j3ildzlxbtbxr8bwomkg46k\">我們從 \n<code>RouterModule.forRoot</code> 的選項中移除了 \n<code>malformedUriErrorHandler</code>。要處理 URL 解析錯誤，請使用 \n<code>UrlSerializer.parse</code> 方法。</p>\n<p><a id=\"v17-bc-10\"></a></p>\n<h4 id=\"removal-of-zonejs-bundles\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5eme92ix39ogg64hqwzujb7qx\">移除 zone.js 捆綁包<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#removal-of-zonejs-bundles\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2wfgavm28ow1cdoeohly0xkek\">在 v17 中，我們移除了 \n<code>zone-testing-bundle</code> 和 \n<code>zone-testing-node-bundle</code>，這將阻止你使用像 \n<code>zone.js/bundles/zone-testing.js</code> 和 \n<code>zone.js/dist/zone</code> 這樣的 \n<code>dist/</code> 匯入。</p>\n<p><a id=\"v17-bc-11\"></a></p>\n<h4 id=\"onpush-dynamically-instantiated-components\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9i0gd2tcfeqqzrfvkyp5swqki\"><code>OnPush</code> 動態實例化的元件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#onpush-dynamically-instantiated-components\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"97on9nwgehqvseezjs8vkqf6r\">對於動態實例化的元件，如果元件標記為髒，則現在會在變更檢測期間執行 \n<code>ngDoCheck</code>。你可能需要更新動態實例化元件的測試或邏輯中的 \n<code>ngDoCheck</code>。</p>\n<p><a id=\"v17-bc-12\"></a></p>\n<h4 id=\"relocating-router-public-methods-to-providerouter-and-routermoduleforroot\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c8509skh3ibkdodqdugf3zw99\">將路由器公共方法重新定位到 \n<code><a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a></code> 和 \n<code>RouterModule.forRoot</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#relocating-router-public-methods-to-providerouter-and-routermoduleforroot\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"93vc7w8sm70d5g7nukz8idhv5\">確保你在 \n<code><a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a></code> 或 \n<code>RouterModule.forRoot</code> 中設定 \n<code>setupTestingRouter</code>、\n<code>canceledNavigationResolution</code>、\n<code>paramsInheritanceStrategy</code>、\n<code>titleStrategy</code>、\n<code>urlUpdateStrategy</code>、\n<code>urlHandlingStrategy</code> 和 \n<code>malformedUriErrorHandler</code>，因為這些屬性現在不再是 \n<code><a href=\"api/router/Router\" class=\"code-anchor\">Router</a></code> 的公共 API 的一部分。</p>\n<p><a id=\"v17-bc-13\"></a></p>\n<h4 id=\"remove_styles_on_component_destroy-now-defaults-to-true\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aauii918g764ho6h7hr4twc3o\"><code><a href=\"api/platform-browser/REMOVE_STYLES_ON_COMPONENT_DESTROY\" class=\"code-anchor\">REMOVE_STYLES_ON_COMPONENT_DESTROY</a></code> 現在預設為 \n<code>true</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#remove_styles_on_component_destroy-now-defaults-to-true\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6whp7yaqsvpgp6tte57os486m\">Angular 現在會自動刪除銷燬元件的樣式，這可能會影響到你現有的應用程式，特別是在你依賴洩漏樣式的情況下。要更改此設定，請將 \n<code><a href=\"api/platform-browser/REMOVE_STYLES_ON_COMPONENT_DESTROY\" class=\"code-anchor\">REMOVE_STYLES_ON_COMPONENT_DESTROY</a></code> 提供者的值更新為 \n<code>false</code>。</p>\n<p><a id=\"deprecations\"></a></p>\n<h2 id=\"deprecations-highlights-in-angular-v17\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6484gtutip2m3r5cco85csfpw\">Angular v17 中的棄用亮點<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-17#deprecations-highlights-in-angular-v17\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4vt528ffqd7v2nrqfux4xes8w\">這些 API 在 v17 中仍然可用，但可能會在未來版本中根據 Angular 的 \n<a href=\"/guide/releases#deprecation-policy\">棄用策略</a> 被移除。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"o3n0wfbp4icz228hgohmdgh6\">為了保持 Angular 應用程式的可靠性，只要條件允許，就應該儘快更新應用程式。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8rauhn4qvl8aihjj83daq48w4\">已移除</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">詳情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a id=\"v17-dp-01\"></a><code><a href=\"api/core/NgProbeToken\" class=\"code-anchor\">NgProbeToken</a></code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6bs071f5k1m1udzmhtyd822xg\">無</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"di28f9jhe5ug2curhvhucwlzx\">從 View Engine 遷移到 Ivy 後，不再內部使用 \n<code><a href=\"api/core/NgProbeToken\" class=\"code-anchor\">NgProbeToken</a></code>。此令牌沒有任何實用性，可以從應用程式和函式庫中移除。</td>\n</tr>\n<tr>\n<td align=\"left\"><a id=\"v17-dp-02\"></a><code><a href=\"api/animations/browser/AnimationDriver#NOOP\" class=\"code-anchor\">AnimationDriver.NOOP</a></code></td>\n<td align=\"left\"><code><a href=\"api/animations/browser/NoopAnimationDriver\" class=\"code-anchor\">NoopAnimationDriver</a></code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dnir7djkn2i6hp6du979bnejm\"><code><a href=\"api/animations/browser/AnimationDriver#NOOP\" class=\"code-anchor\">AnimationDriver.NOOP</a></code> 符號已被棄用，請改用 \n<code><a href=\"api/animations/browser/NoopAnimationDriver\" class=\"code-anchor\">NoopAnimationDriver</a></code>。</td>\n</tr>\n</tbody>\n</table>\n\n  <div class=\"reviewed\">最後複查時間：Thu Oct 26 2023</div>\n</div>\n\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - /guide/releases#deprecation-policy\n - /guide/update-to-version-16\n - /guide/versions\n - api/animations/browser/AnimationDriver#NOOP\n - api/animations/browser/NoopAnimationDriver\n - api/common/NgFor\n - api/common/NgIf\n - api/common/NgOptimizedImage\n - api/common/NgSwitch\n - api/core/Component\n - api/core/ElementRef\n - api/core/NgProbeToken\n - api/core/ViewChild\n - api/core/afterNextRender\n - api/core/afterRender\n - api/platform-browser/REMOVE_STYLES_ON_COMPONENT_DESTROY\n - api/platform-browser/bootstrapApplication\n - api/router/Router\n - api/router/provideRouter\n - api/router/withViewTransitions\n - guide/update-to-version-17#angular-v17-requires-nodejs-version-v1813-or-newer\n - guide/update-to-version-17#angular-v17-requires-typescript-version-52-or-later\n - guide/update-to-version-17#angular-v17-requires-zonejs-v0140\n - guide/update-to-version-17#built-in-control-flow\n - guide/update-to-version-17#deferrable-views\n - guide/update-to-version-17#dependency-injection-debugging-in-devtools\n - guide/update-to-version-17#deprecations-highlights-in-angular-v17\n - guide/update-to-version-17#experimental-view-transitions-support\n - guide/update-to-version-17#feature-highlights-in-angular-v17\n - guide/update-to-version-17#highlighted-breaking-changes-in-angular-v17\n - guide/update-to-version-17#new-angularssr-package\n - guide/update-to-version-17#new-lifecycle-hooks\n - guide/update-to-version-17#onpush-dynamically-instantiated-components\n - guide/update-to-version-17#relocating-router-public-methods-to-providerouter-and-routermoduleforroot\n - guide/update-to-version-17#removal-of-malformedurierrorhandler\n - guide/update-to-version-17#removal-of-setuptestingrouter\n - guide/update-to-version-17#removal-of-zonejs-bundles\n - guide/update-to-version-17#remove_styles_on_component_destroy-now-defaults-to-true\n - guide/update-to-version-17#router-absolute-redirect-behavior-change\n - guide/update-to-version-17#routes-with-loadcomponent-data-inheritance\n - guide/update-to-version-17#strict-ngswitch-check\n - guide/update-to-version-17#update-angular-to-v17\n - guide/update-to-version-17#vite-and-esbuild-the-default-for-new-projects\n - https://blog.angular.io\n - https://github.com/angular/angular-cli/blob/main/CHANGELOG.md\n - https://github.com/angular/angular/blob/main/CHANGELOG.md\n - https://github.com/angular/components/blob/main/CHANGELOG.md\n - https://update.angular.io\n-->"}