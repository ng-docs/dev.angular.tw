{"id":"guide/update-to-version-15","title":"将 Angular 更新到 v15","contents":"<div class=\"content\">\n  <h1 id=\"update-angular-to-v15\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1qsgeegcigyh3z3rxrk9vel61\">将 Angular 更新到 v15<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#update-angular-to-v15\"><i class=\"material-icons\">link</i></a></h1>\n<!-- NOTE to writers: When creating the topic for the next version,                               -->\n<!--   remember to update the redirect link in angular/aio/firebase.json                          -->\n<!-- To update the redirect link in angular/aio/firebase.json:                                    -->\n<!--   1. Search for the entry in firebase.json with \"source\": \"guide/update-to-latest-version\"   -->\n<!--   2,  Update the destination value to refer to the new guide's URL                           -->\n<!--                                                                                              -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7h9xgkchgsk392oqoa3b0sbap\">本主题提供了有关将 Angular 应用程序更新到 Angular 版本 15 的信息。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3267s2ps4ljvz6fkz8w8h23jx\">有关此类信息的摘要以及将 Angular 应用程序更新到 v15 的分步过程，请参阅 <a href=\"https://update.angular.io\">Angular 更新指南</a>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3hmaac52q7ecdoawqnmbetoip\"><a href=\"https://update.angular.io\">Angular 更新指南</a>和本主题中的信息是从这些更改日志中总结的：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8p1tcoqjybbamoiwriuz5dvk4\"><a href=\"https://github.com/angular/angular/blob/main/CHANGELOG.md\">angular/angular 库的变更日志</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4vjkm26a9sl0gyxbjwpa7l2ql\"><a href=\"https://github.com/angular/angular-cli/blob/main/CHANGELOG.md\">angular/angular-cli 库的变更日志</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6ywcwq8fnzlusplbto7k5i79f\"><a href=\"https://github.com/angular/components/blob/main/CHANGELOG.md\">angular/components 库的变更日志</a></li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3cj4zclm2ej14fu0os2g8ybob\">有关将 Angular 应用程序更新到 v14 的信息会在<a href=\"/guide/update-to-version-14\">更新到版本 14</a>中存档。</p>\n<p><a id=\"new-features\"></a></p>\n<h2 id=\"new-features-in-angular-v15\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2fd5bggv4q9446j8x9pks5uvf\">Angular v15 中的新特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#new-features-in-angular-v15\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9o6z805087umcl5427f86kv9x\">Angular v15 带来了许多改进和新特性。本节仅包含 v15 中的一些创新。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cpx7s1ltq7k14yfbj0ufsa4j9\">有关新特性的完整列表，请参阅<a href=\"https://blog.angular.io/angular-v15-is-now-available-df7be7f2f4c8\">有关 v15 更新的 Angular 博客文章</a>。</p>\n<!-- markdownLint-disable MD001 -->\n<h4 id=\"standalone-components-are-stable\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dncslel4muje3fm14xlvb6a3c\">独立组件是稳定版了<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#standalone-components-are-stable\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"i3asav896q7u043k931tybbx\">独立组件 API 允许你在无需使用 NgModules 的情况下构建 Angular 应用程序。有关在下一个 Angular 应用程序中使用这些 API 的更多信息，请参阅<a href=\"guide/standalone-components\">独立组件</a>。</p>\n<h4 id=\"the-ngoptimizedimage-directive-is-stable\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7gbtg8g8padu4wmxzehr68opo\"><code><a href=\"api/common/NgOptimizedImage\" class=\"code-anchor\">NgOptimizedImage</a></code> 指令现在是稳定版了<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#the-ngoptimizedimage-directive-is-stable\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7eij1xrudko2lw77u5c5uthea\">将 <code><a href=\"api/common/NgOptimizedImage\" class=\"code-anchor\">NgOptimizedImage</a></code> 指令添加到你的组件或 NgModule 可以帮助减少 Angular 应用程序中图像的下载时间。有关使用 <code><a href=\"api/common/NgOptimizedImage\" class=\"code-anchor\">NgOptimizedImage</a></code> 指令的更多信息，请参阅 <a href=\"guide/image-directive\"><code>NgOptimizedImage</code> 入门</a>。</p>\n<h4 id=\"directives-can-be-added-to-host-elements\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ce9y2g33ohbtymjjljsrnn0i9\">可以将指令添加到宿主元素了<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#directives-can-be-added-to-host-elements\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"etzn1ldwajlft3nxrst1vxsd3\">指令组合 API 可以将指令添加到宿主元素，以解决<a href=\"https://github.com/angular/angular/issues/8785\">特性请求 #8785</a>。指令允许你在不使用继承的情况下将行为添加到组件行为中。</p>\n<h4 id=\"stack-traces-are-more-helpful\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cdxd62hme7274bw0p1lt5j1zr\">堆栈跟踪更有帮助<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#stack-traces-are-more-helpful\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e14rwgemizki4s8ntyn3q9f8\">Angular v15 使用更干净的堆栈跟踪，使调试 Angular 应用程序更轻松。Angular 与 Google Chrome 开发人员合作提供了堆栈跟踪，这些堆栈跟踪显示了更多应用程序代码，而不是它调用的库中的。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7sby3m7hhr5orkul483a8wnva\">有关 Chrome DevTools 和 Angular 对更干净堆栈跟踪的支持的更多信息，请参阅<a href=\"https://developer.chrome.com/blog/devtools-modern-web-debugging/\">Chrome DevTools 中的现代 Web 调试</a>。</p>\n<!-- vale Angular.Google_Acronyms = NO -->\n<h4 id=\"mdc-based-components-are-stable\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1z5nvhpq88ujc8mb2lwwhs6gt\">基于 MDC 的组件是稳定版了<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#mdc-based-components-are-stable\"><i class=\"material-icons\">link</i></a></h4>\n<!-- vale Angular.Google_Acronyms = YES -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ucyjbwjj2ruvh9kst40ck839\">Angular Material v15 中的许多组件已被重构为基于 Web 的 Angular Material 设计组件 （MDC）。重构的组件提供了改进的无障碍性和对 Material Design 规范的遵守。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"37o2e0cwbtjdfw5sqe3jnn3jt\">有关更新后的组件的更多信息，请参阅<a href=\"https://material.angular.io/guide/mdc-migration\">迁移到基于 MDC 的 Angular Material 组件</a>。</p>\n<p><a id=\"breaking-changes\"></a></p>\n<h2 id=\"breaking-changes-in-angular-v15\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"47gkic7m78f9zgmnna1mfx54p\">Angular v15 中的重大更改<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#breaking-changes-in-angular-v15\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4to523lfmn1jp3dhhdcc0gajy\">这些是 Angular 的方面，在 v15 中行为方式不同，可能需要你查看和重构 Angular 应用程序的某些部分。</p>\n<p><a id=\"v15-bc-01\"></a></p>\n<h4 id=\"angular-v15-supports-nodejs-versions-1420x-1613x-and-1810x\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9lxb9pprc2sj6ltz1ouaqgat2\">Angular v15 支持 node.js 版本：14.20.x、16.13.x 和 18.10.x<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#angular-v15-supports-nodejs-versions-1420x-1613x-and-1810x\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6v9fgwmgg2eaqxitl1ch7dow0\">在 v15 中，Angular 不再支持 node.js 版本 14.[15-19].x 或 16.[10-12].x。<a href=\"https://github.com/angular/angular/pull/47730\">PR #47730</a></p>\n<p><a id=\"v15-bc-02\"></a></p>\n<h4 id=\"angular-v15-supports-typescript-version-48-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6v4b0fydljce67x8v82s93l6d\">Angular v15 支持 TypeScript 4.8 或更高版本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#angular-v15-supports-typescript-version-48-or-later\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7a7a5d965icfr0xkthzk1igfi\">在Angular v15中，支持TypeScript版本4.8.2到5.0.0之间，不支持早于4.8.2的版本。\n<a href=\"https://github.com/angular/angular/pull/47690\">PR #47690</a></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7h86l3ewnugvd90sdni731l62\">有关完整版本兼容性的详细信息，请参阅<a href=\"/guide/versions\">版本兼容性</a>。</p>\n<p><a id=\"v15-bc-03\"></a></p>\n<h4 id=\"keyframes-name-format-changes\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ev0qdg0yajm06aejwtnn0arlb\"><code>@<a href=\"api/animations/keyframes\" class=\"code-anchor\">keyframes</a></code> 名称格式更改<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#keyframes-name-format-changes\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d6f1c409j285vb555d5b01ita\">在 v15 中，<code>@<a href=\"api/animations/keyframes\" class=\"code-anchor\">keyframes</a></code> 名称以组件的<em>范围名</em>为前缀。<a href=\"https://github.com/angular/angular/pull/42608\">PR #42608</a></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aj1vpum4ku60pvnj5vt8calg8\">例如，在<em>范围名称</em>为 <code>host-my-cmp</code> 的组件定义中，<code>@<a href=\"api/animations/keyframes\" class=\"code-anchor\">keyframes</a></code> 规则在 v14 中的名称为：</p>\n<code-example language=\"ts\" hidecopy=\"\">\n\n@<a href=\"api/animations/keyframes\" class=\"code-anchor\">keyframes</a> foo { ... }\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6ws5ljhne12hmzymspxhfxaqr\">在 v15 中变为：</p>\n<code-example language=\"ts\" hidecopy=\"\">\n\n@<a href=\"api/animations/keyframes\" class=\"code-anchor\">keyframes</a> host-my-cmp_foo { ... }\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bumamllrskwk7946fd19n8pxe\">此更改可能会中断任何使用 <code>@<a href=\"api/animations/keyframes\" class=\"code-anchor\">keyframes</a></code> 规则名称的 TypeScript 或 JavaScript 代码。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"daq7n3f366919bzppxkndlhd5\">为了适应这种破坏性更改，你可以：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bsovi61xeyn82w4n78zum9pk9\">将组件的视图封装更改为 <code>None</code> 或 <code>ShadowDom</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b09c2ht6kesfpjd1io0ratlua\">在全局样式表中定义 <code>@<a href=\"api/animations/keyframes\" class=\"code-anchor\">keyframes</a></code> 规则，例如 <code>styles.css</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"epu4rqmqmg62xnmwwll9v5lf9\">在你自己的代码中定义 <code>@<a href=\"api/animations/keyframes\" class=\"code-anchor\">keyframes</a></code> 规则。</li>\n</ul>\n<p><a id=\"v15-bc-05\"></a></p>\n<h4 id=\"invalid-constructors-for-dependency-injection-can-report-compilation-errors\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"224ygjz6q1aocdb6nqolsy34b\">依赖注入的无效构造函数会报告编译错误<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#invalid-constructors-for-dependency-injection-can-report-compilation-errors\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7lcelh1hchnjp7j7y4ehfd496\">当一个类从基类继承其构造函数时，当该构造函数不能用于依赖注入目的时，编译器可以报告错误。<a href=\"https://github.com/angular/angular/pull/44615\">PR #44615</a></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"55ye52hhgjf2agz97fxrp08vz\">这可能会发生在：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7ly8y4rxagzec1p79uucn6ylm\">当基类缺少 Angular 装饰器时，例如 <code>@<a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a>()</code> 或 <code>@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>()</code></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b8t2gdkns0p6zafr22zq681uu\">当构造函数包含没有关联令牌的参数时，例如 <code>string</code> 等基本类型。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4d6etmevkgj1xu1aw54vd8epu\">这些情况过去在运行时会出现意外行为。例如，一个类可能是在没有任何构造函数参数的情况下构造的。在 v15 中，这会报告为编译错误。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"w9knzwge0i249q6pucghwzvs\">由于此更改而报告的新错误可以通过以下任何一种方式解决：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d92bs7o8d96rxhhi77o02fym4\">为要从中继承构造函数的基类添加装饰器。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6z61ulibep0qtrxzid1oh5w12\">向报告错误的类添加显式构造函数。</li>\n</ul>\n<p><a id=\"v15-bc-06\"></a></p>\n<h4 id=\"setdisabledstate-is-always-called-when-a-controlvalueaccessor-is-attached\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"28ii5e2qikzxob2v57ggjowp5\">附加 <code><a href=\"api/forms/ControlValueAccessor\" class=\"code-anchor\">ControlValueAccessor</a></code> 时总是会调用 <code>setDisabledState</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#setdisabledstate-is-always-called-when-a-controlvalueaccessor-is-attached\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"25u2ozjr8pe2lihnuy2anhyxg\">在 v15 中，附加 <code><a href=\"api/forms/ControlValueAccessor\" class=\"code-anchor\">ControlValueAccessor</a></code> 时总是会调用 <code>setDisabledState</code>。<a href=\"https://github.com/angular/angular/pull/47576\">PR #47576</a></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5rfpzcp7rnsj60fp6sobe6jwp\">你可以用 <code>FormsModule.withConfig</code> 或 <code>ReactiveFormsModule.withConfig</code> 选择退出此行为。</p>\n<p><a id=\"v15-bc-07\"></a></p>\n<h4 id=\"the-canparse-method-has-been-removed\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a28o0yvnbrwtz987fzgrb44n9\"><code>canParse</code> 方法已被删除<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#the-canparse-method-has-been-removed\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"app0swzifxarpqsypnikwvhxl\"><code>canParse</code> 方法已从 <code>@angular/localize/tools</code> 中的所有翻译解析器中删除。<a href=\"https://github.com/angular/angular/pull/47275\">PR #47275</a></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b1mgyx6j9vysxasippxruzrff\">在 v15 中，要用 <code>analyze</code> 代替，并且 parse 方法中的 <code>hint</code> 参数变成了强制性的。</p>\n<p><a id=\"v15-bc-08\"></a></p>\n<h4 id=\"the-title-property-is-required-on-activatedroutesnapshot\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"25340dcmq2tzoqa1u12olxwmp\"><code><a href=\"api/router/ActivatedRouteSnapshot\" class=\"code-anchor\">ActivatedRouteSnapshot</a></code> 上需要 <code>title</code> 属性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#the-title-property-is-required-on-activatedroutesnapshot\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9auqhlgz9yczf3ak38hr1cm39\">在 v15 中，<a href=\"api/router/ActivatedRouteSnapshot\"><code>ActivatedRouteSnapshot</code></a>上的 <code>title</code> 属性是必需的。<a href=\"https://github.com/angular/angular/pull/47481\">PR #47481</a></p>\n<p><a id=\"v15-bc-09\"></a></p>\n<h4 id=\"routeroutlet-instantiates-the-component-after-change-detection\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1n3whrqxpu0secxgi02cci9di\"><code><a href=\"api/router/RouterOutlet\" class=\"code-anchor\">RouterOutlet</a></code> 会在变更检测后才实例化组件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#routeroutlet-instantiates-the-component-after-change-detection\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c1cfte9pw5pvxaehpslkvcoha\">在 v15 之前，在导航期间，<code><a href=\"api/router/RouterOutlet\" class=\"code-anchor\">RouterOutlet</a></code> 会立即实例化被激活的组件。<a href=\"https://github.com/angular/angular/pull/46554\">PR #46554</a></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e0aomhcqm4l77fzp3gpmkcp4k\">在 v15 中，组件直到变更检测运行后才被实例化。此更改可能会影响在路由器导航后不触发变更检测的测试。这也会影响依赖于组件可用性确切时间的生产代码，例如，如果组件的构造函数中调用了 <code>router.getCurrentNavigation()</code>。</p>\n<p><a id=\"v15-bc-10\"></a></p>\n<h4 id=\"relativelinkresolution-is-not-configurable-in-the-router\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a6f0z1vbm480uf3vvecf7wseo\"><code>relativeLinkResolution</code> 在路由器中不可配置<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#relativelinkresolution-is-not-configurable-in-the-router\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3krrb92x1mm05y2m6ylpt0s7x\">在 v15 中，<code>relativeLinkResolution</code> 在路由器中是不可配置的。<a href=\"https://github.com/angular/angular/pull/47623\">PR #47623</a></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9himwg4rbdeejrm0cvnsgarvv\">在以前的版本中，此选项用于选择退出错误修复。</p>\n<p><a id=\"v15-bc-04\"></a></p>\n<h4 id=\"angular-compiler-option-enableivy-has-been-removed\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1ztxkdjao0to7vh78cc5mapa3\">Angular 编译器选项 <code>enableIvy</code> 已删除<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#angular-compiler-option-enableivy-has-been-removed\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a7ngnkkbaqbbcld34ber76oxq\">Angular 编译器选项 <code>enableIvy</code> 已删除，因为现在 Ivy 是 Angular 的唯一渲染引擎。<a href=\"https://github.com/angular/angular/pull/47346\">PR #47346</a></p>\n<p><a id=\"v15-bc-10\"></a></p>\n<h4 id=\"angular-material-components-based-on-mdc\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5mgjyt1bkskwyygnx2a8ebedh\">基于 MDC 的 Angular Material 组件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#angular-material-components-based-on-mdc\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8m4d55xs4m92w5h6i62ph4fc1\">在 Angular Material v15 中，许多组件已被重构为基于官方的 Web Material Design 组件 （MDC）。有关 Material 组件 v15 中的重大更改的信息，请参阅<a href=\"https://material.angular.io/guide/mdc-migration\">迁移到基于 MDC 的 Angular Material 组件</a>。</p>\n<p><a id=\"v15-bc-11\"></a></p>\n<h4 id=\"hardening-attribute-and-property-binding-rules-for-iframe-elements\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3kx4n7stwvd4bfgdv5vcuc0mj\">强化 <code>&lt;iframe&gt;</code> 元素的属性和属性绑定规则<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#hardening-attribute-and-property-binding-rules-for-iframe-elements\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6la00vg9ydjcvr1l55gdp3yh4\">现有的 <code>&lt;iframe&gt;</code> 实例可能具有作为 Attribute 或 Property 绑定的安全敏感属性。这些安全敏感的属性可以出现在模板或指令的宿主绑定中。此类事件需要更新，以确保符合有关 <code>&lt;iframe&gt;</code> 绑定的新的和更严格的规则。有关更多信息，请参阅<a href=\"/errors/NG0910\">错误页面</a>。</p>\n<p><a id=\"deprecations\"></a></p>\n<h2 id=\"deprecations-in-angular-v15\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2rzgajzufvyczoljqmujehi0k\">Angular v15 中的弃用<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/update-to-version-15#deprecations-in-angular-v15\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d3jqyv2uq0k3vqon0ottxrk4t\">这些是正在被逐步淘汰的Angular方面。它们在v15中仍然可用，但可以在未来版本中删除，如Angular的\n<a href=\"/guide/releases#deprecation-policy\">弃用政策</a>所述。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cixorgr3r7fqltg50v667g1zp\">为了保持 Angular 应用程序的可靠性，请查看这些说明并尽快更新你的应用程序。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8rauhn4qvl8aihjj83daq48w4\">已移除</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7pl005q8o8ns1unln3qk5ncwv\"><a id=\"v15-dp-01\"></a>\n<a href=\"api/common/DATE_PIPE_DEFAULT_TIMEZONE\"><code>DATE_PIPE_DEFAULT_TIMEZONE</code></a></td>\n<td align=\"left\"><a href=\"api/common/DATE_PIPE_DEFAULT_OPTIONS\"><code>DATE_PIPE_DEFAULT_OPTIONS</code></a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8s6mikahvywcaa6ag86j5oiks\"><code><a href=\"api/common/DATE_PIPE_DEFAULT_OPTIONS\" class=\"code-anchor\">DATE_PIPE_DEFAULT_OPTIONS</a></code>中的\n<code>timezone</code>字段定义时区。\n<br>\n<a href=\"https://github.com/angular/angular/pull/43611\">PR #43611</a></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5h3pu49yllgquk1psl6l5ehzd\"><a id=\"v15-dp-02\"></a>\n<a href=\"api/core/Injector#get\"><code>Injector.get()</code></a>与\n<code><a href=\"api/core/InjectFlags\" class=\"code-anchor\">InjectFlags</a></code>参数</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9oa82hao3v5zn5vfdqh1zcf9t\"><a href=\"api/core/Injector#get\"><code>Injector.get()</code></a>与\n<code><a href=\"api/core/InjectOptions\" class=\"code-anchor\">InjectOptions</a></code>对象</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eoe0uyxx3stjx9f8jhu7ce37h\"><a href=\"https://github.com/angular/angular/pull/41592\">PR #41592</a></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eg8gtn1qmqxrmq2e1lj3ufufx\"><a id=\"v15-dp-03\"></a>\n<a href=\"api/core/testing/TestBed#inject\"><code>TestBed.inject()</code></a>与\n<code><a href=\"api/core/InjectFlags\" class=\"code-anchor\">InjectFlags</a></code>参数</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9puyczczey5ezzpatgilpt5ub\"><a href=\"api/core/testing/TestBed#inject\"><code>TestBed.inject()</code></a> 使用 \n<code><a href=\"api/core/InjectOptions\" class=\"code-anchor\">InjectOptions</a></code> 对象。</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"34dik69hrdhlwc9n9ku2ull59\"><a href=\"https://github.com/angular/angular/pull/46761\">PR #46761</a></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ealegzzbbt72nq0z7w68fzhor\"><a id=\"v15-dp-04\"></a>\n<code>providedIn: <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 用于 \n<a href=\"api/core/Injectable\"><code>@Injectable</code></a> 和 \n<a href=\"api/core/InjectionToken\"><code>InjectionToken</code></a>\n<br>\n<a id=\"v15-dp-05\"></a>\n<code>providedIn: 'any'</code> 用于 \n<code>@<a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a></code> 或 \n<code><a href=\"api/core/InjectionToken\" class=\"code-anchor\">InjectionToken</a></code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5n5zhchmbdrhnedz07nox7bgh\">查看详情</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bja21gmu7jph2mdmiu0xv7b3n\"><code>providedIn: <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 旨在成为可摇树优化的 \n<code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 提供者的替代方案。它并不常用，通常在应该使用 \n<code>providedIn: 'root'</code> 的情况下被错误使用。如果提供者必须作用域限定到特定的 \n<a href=\"api/core/NgModule\"><code>NgModule</code></a>，请改用 \n<code><a href=\"api/core/NgModule#providers\" class=\"code-anchor\">NgModule.providers</a></code>。 \n<a href=\"https://github.com/angular/angular/pull/47616\">PR #47616</a></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9zd20ewd0e0smfzxkhjigu4mf\"><a id=\"v15-dp-06\"></a>\n<a href=\"api/router/RouterLinkWithHref\"><code>RouterLinkWithHref</code></a> 指令</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"77h393g4oq9vl8igbgkumwds\"><a href=\"api/router/RouterLink\"><code>RouterLink</code></a> 指令</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6xj2ink8dta1zknclsa0ahdx0\"><code><a href=\"api/router/RouterLink\" class=\"code-anchor\">RouterLink</a></code> 指令包含了来自 \n<code><a href=\"api/router/RouterLinkWithHref\" class=\"code-anchor\">RouterLinkWithHref</a></code> 指令的代码，用于处理带有 \n<code>href</code> 属性的元素。 \n<a href=\"https://github.com/angular/angular/pull/47630\">PR #47630</a>，\n<a href=\"https://github.com/angular/angular/pull/47599\">PR #47599</a></td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c8rip31ttgbn7858wrliye63x\">有关 Material 组件 v15 中弃用的信息，请参阅<a href=\"https://material.angular.io/guide/mdc-migration\">迁移到基于 MDC 的 Angular Material 组件</a>。</p>\n\n  <div class=\"reviewed\">最后复查时间：Tue Nov 15 2022</div>\n</div>\n\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - /errors/NG0910\n - /guide/releases#deprecation-policy\n - /guide/update-to-version-14\n - /guide/versions\n - api/animations/keyframes\n - api/common/DATE_PIPE_DEFAULT_OPTIONS\n - api/common/DATE_PIPE_DEFAULT_TIMEZONE\n - api/common/NgOptimizedImage\n - api/core/Directive\n - api/core/InjectFlags\n - api/core/InjectOptions\n - api/core/Injectable\n - api/core/InjectionToken\n - api/core/Injector#get\n - api/core/NgModule\n - api/core/NgModule#providers\n - api/core/testing/TestBed#inject\n - api/forms/ControlValueAccessor\n - api/router/ActivatedRouteSnapshot\n - api/router/RouterLink\n - api/router/RouterLinkWithHref\n - api/router/RouterOutlet\n - guide/image-directive\n - guide/standalone-components\n - guide/update-to-version-15#angular-compiler-option-enableivy-has-been-removed\n - guide/update-to-version-15#angular-material-components-based-on-mdc\n - guide/update-to-version-15#angular-v15-supports-nodejs-versions-1420x-1613x-and-1810x\n - guide/update-to-version-15#angular-v15-supports-typescript-version-48-or-later\n - guide/update-to-version-15#breaking-changes-in-angular-v15\n - guide/update-to-version-15#deprecations-in-angular-v15\n - guide/update-to-version-15#directives-can-be-added-to-host-elements\n - guide/update-to-version-15#hardening-attribute-and-property-binding-rules-for-iframe-elements\n - guide/update-to-version-15#invalid-constructors-for-dependency-injection-can-report-compilation-errors\n - guide/update-to-version-15#keyframes-name-format-changes\n - guide/update-to-version-15#mdc-based-components-are-stable\n - guide/update-to-version-15#new-features-in-angular-v15\n - guide/update-to-version-15#relativelinkresolution-is-not-configurable-in-the-router\n - guide/update-to-version-15#routeroutlet-instantiates-the-component-after-change-detection\n - guide/update-to-version-15#setdisabledstate-is-always-called-when-a-controlvalueaccessor-is-attached\n - guide/update-to-version-15#stack-traces-are-more-helpful\n - guide/update-to-version-15#standalone-components-are-stable\n - guide/update-to-version-15#the-canparse-method-has-been-removed\n - guide/update-to-version-15#the-ngoptimizedimage-directive-is-stable\n - guide/update-to-version-15#the-title-property-is-required-on-activatedroutesnapshot\n - guide/update-to-version-15#update-angular-to-v15\n - https://blog.angular.io/angular-v15-is-now-available-df7be7f2f4c8\n - https://developer.chrome.com/blog/devtools-modern-web-debugging/\n - https://github.com/angular/angular-cli/blob/main/CHANGELOG.md\n - https://github.com/angular/angular/blob/main/CHANGELOG.md\n - https://github.com/angular/angular/issues/8785\n - https://github.com/angular/angular/pull/41592\n - https://github.com/angular/angular/pull/42608\n - https://github.com/angular/angular/pull/43611\n - https://github.com/angular/angular/pull/44615\n - https://github.com/angular/angular/pull/46554\n - https://github.com/angular/angular/pull/46761\n - https://github.com/angular/angular/pull/47275\n - https://github.com/angular/angular/pull/47346\n - https://github.com/angular/angular/pull/47481\n - https://github.com/angular/angular/pull/47576\n - https://github.com/angular/angular/pull/47599\n - https://github.com/angular/angular/pull/47616\n - https://github.com/angular/angular/pull/47623\n - https://github.com/angular/angular/pull/47630\n - https://github.com/angular/angular/pull/47690\n - https://github.com/angular/angular/pull/47730\n - https://github.com/angular/components/blob/main/CHANGELOG.md\n - https://material.angular.io/guide/mdc-migration\n - https://update.angular.io\n-->"}