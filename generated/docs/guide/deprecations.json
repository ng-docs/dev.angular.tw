{"id":"guide/deprecations","title":"已弃用的 API 和特性","contents":"<div class=\"content\">\n  <h1 id=\"deprecated-apis-and-features\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e70f90k9bhbpef6mpk1lar6jw\">已弃用的 API 和特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-apis-and-features\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8k1yulwsufsgqid5mmb7zmxdx\">Angular 力图兼顾创新与稳定。但有时，API 和特性已经过时，需要进行删除或替换，以便 Angular 可以及时跟上新的最佳实践、依赖项变更或者 Web 平台自身的变化。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"efxjuvzn6jgndpxxby81xfs3c\">为了使这些转换尽可能简单，API 和特性在被删除之前会被弃用一段时间。这让你有时间将应用程序更新到最新的 API 和最佳实践。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5qxhxa5celuf0925fo9tr6on5\">本指南包含了当前已弃用的重要 Angular API 和特性的汇总表。参见<a href=\"https://github.com/angular/angular/blob/main/CHANGELOG.md\">完整的变更记录</a>来更全面地了解这些弃用的详情和重大变更。</p>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5ci9gc3kwkk91ritcqkaacc47\">在 v6 或更早版本中已弃用的功能和 API 可能会在版本 9 或任何后续主要版本中被移除。有关 Angular 弃用和移除政策的信息，请参见 \n<a href=\"guide/releases#deprecation-policy\" title=\"Angular Release Practices: Deprecation policy\">Angular 发布惯例</a>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7ooewojypf72v0bqwqh4kn46v\">要了解如何逐步更新到最新版本的 Angular，请使用 <a href=\"https://update.angular.io\">update.angular.io</a> 上的交互式更新指南。</p>\n</div>\n<h2 id=\"index\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"83xucu3g5h4r1pqa4y0ia4fo0\">索引<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#index\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3edtycjfao08u4uh41o51ivke\">为帮助你的项目面向未来，下表列出了所有已弃用的 API 和特性，并按它们将被移除的候选版本进行组织。每个项目都链接到本指南后面描述弃用原因和替换选项的部分。</p>\n<!--\ndeprecation -> removal cheat sheet\nv4 - v7\nv5 - v8\nv6 - v9\nv7 - v10\nv8 - v11\nv9 - v12\nv10 - v13\nv11 - v14\nv12 - v15\nv13 - v16\nv14 - v17\nv15 - v18\nv16 - v19\n-->\n<h3 id=\"deprecated-features-that-can-be-removed-in-v11-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5w7k0dhovlcw0byc1mpzbzlgo\">可以在 v11 或更高版本中删除的已弃用特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-that-can-be-removed-in-v11-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>DefaultIterableDiffer</code></a></td>\n<td align=\"left\">v7</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>defineInjectable</code></a></td>\n<td align=\"left\">v8</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"api/core/NgModule\"><code>entryComponents</code></a></td>\n<td align=\"left\">v9</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>ANALYZE_FOR_ENTRY_COMPONENTS</code></a></td>\n<td align=\"left\">v9</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/forms</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"71uzg0bhjkx2onob9zmypld90\"><a href=\"guide/deprecations#ngmodel-reactive\"><code>ngModel</code>与响应式表单</a></td>\n<td align=\"left\">v6</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/upgrade</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#upgrade\"><code>@angular/upgrade</code></a></td>\n<td align=\"left\">v8</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/upgrade</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#upgrade-static\"><code>getAngularLib</code></a></td>\n<td align=\"left\">v8</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/upgrade</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#upgrade-static\"><code>setAngularLib</code></a></td>\n<td align=\"left\">v8</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\">polyfills</td>\n<td align=\"left\"><a href=\"guide/deprecations#reflect-metadata\">reflect-metadata</a></td>\n<td align=\"left\">v8</td>\n<td align=\"left\">v11</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8z6xrre4m7ob77hlvbbs50csq\">模板语法</td>\n<td align=\"left\"><a href=\"guide/deprecations#template-tag\"><code>&lt;template&gt;</code></a></td>\n<td align=\"left\">v7</td>\n<td align=\"left\">v11</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"deprecated-features-that-can-be-removed-in-v12-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3vm0x68b5rfgu4237mjtcrs4r\">可以在 v12 或更高版本中删除的已弃用特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-that-can-be-removed-in-v12-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/core/testing</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#testing\"><code>TestBed.get</code></a></td>\n<td align=\"left\">v9</td>\n<td align=\"left\">v12</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core/testing</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#testing\"><code>async</code></a></td>\n<td align=\"left\">v9</td>\n<td align=\"left\">v12</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"deprecated-features-that-can-be-removed-in-v14-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5nq24kcip2sjz3x1ql98d871v\">可以在 v14 或更高版本中删除的已弃用特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-that-can-be-removed-in-v14-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/forms</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7tfvlzwzvjtlbv6bjb2xk7dic\"><a href=\"api/forms/FormBuilder#group\"><code>FormBuilder.group</code>遗留选项参数</a></td>\n<td align=\"left\">v11</td>\n<td align=\"left\">v14</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"deprecated-features-that-can-be-removed-in-v15-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eqivsh8973k8rhfrk41wreilj\">可以在 v15 或更高版本中删除的已弃用特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-that-can-be-removed-in-v15-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/compiler-cli</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1qu3cp653vi2k97qqjum9nxpf\"><a href=\"guide/deprecations#input-setter-coercion\">输入setter强制转换</a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v15</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/compiler-cli</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#full-template-type-check\"><code>fullTemplateTypeCheck</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v15</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3kiipou5oj94yj6a1pbkn7jxq\"><a href=\"guide/deprecations#core\"><code>ApplicationRef.bootstrap</code>的基于工厂的签名</a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v15</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>PlatformRef.bootstrapModuleFactory</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v15</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"735xnbpwuf48ylvfd0618d426\"><a href=\"api/core/ViewContainerRef#createComponent\"><code>ViewContainerRef.createComponent</code>的基于工厂的签名</a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v15</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/upgrade</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ar6cvow6nb2bb81t6oo926y91\"><a href=\"guide/deprecations#upgrade-static\"><code>downgradeModule</code>的基于工厂的签名</a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v15</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8z6xrre4m7ob77hlvbbs50csq\">模板语法</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"29qx42on3mrfg6224nfq252yr\"><a href=\"guide/deprecations#bind-syntax\"><code>bind-</code>、<code>on-</code>、<code>bindon-</code>和<code>ref-</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v15</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"deprecated-features-that-can-be-removed-in-v16-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4cq75jaz8ful1645qy7ei4p1z\">可以在 v16 或更高版本中删除的已弃用特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-that-can-be-removed-in-v16-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/common/<a href=\"api/common/http\" class=\"code-anchor\">http</a>/testing</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7lit5zug1awsb8qml1wy87bsz\"><a href=\"guide/deprecations#testrequest-errorevent\"><code>TestRequest</code>接受<code>ErrorEvent</code>进行错误模拟</a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>getModuleFactory</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>ModuleWithComponentFactories</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>Compiler</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>CompilerFactory</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>NgModuleFactory</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>ComponentFactory</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#core\"><code>ComponentFactoryResolver</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/platform-browser-dynamic</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#platform-browser-dynamic\"><code>JitCompilerFactory</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/platform-browser-dynamic</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#platform-browser-dynamic\"><code>RESOURCE_CACHE_PROVIDER</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/platform-server</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#platform-server\"><code>ServerTransferStateModule</code></a></td>\n<td align=\"left\">v14</td>\n<td align=\"left\">v16</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/platform-browser</code></td>\n<td align=\"left\"><a href=\"api/platform-browser/BrowserModule#withservertransition\"><code>BrowserModule.withServerTransition</code></a></td>\n<td align=\"left\">v16</td>\n<td align=\"left\">v18</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"deprecated-features-that-can-be-removed-in-v17-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1nf6uo4jcb86nsmgn4y154zg0\">可以在 v17 或更高版本中删除的已弃用特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-that-can-be-removed-in-v17-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/common</code></td>\n<td align=\"left\"><a href=\"guide/deprecations#common\"><code>NgComponentOutlet.ngComponentOutletNgModuleFactory</code></a></td>\n<td align=\"left\">v14</td>\n<td align=\"left\">v17</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/common</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5ptfmuws6endqxaupfy7fyux9\"><a href=\"api/common/DATE_PIPE_DEFAULT_TIMEZONE\"><code>DatePipe</code> - <code>DATE_PIPE_DEFAULT_TIMEZONE</code></a></td>\n<td align=\"left\">v15</td>\n<td align=\"left\">v17</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3bct1jr015lg90dnue0v6ni7u\">NgModule和\n<code>'any'</code>选项用于\n<a href=\"guide/deprecations#core\"><code>providedIn</code></a></td>\n<td align=\"left\">v15</td>\n<td align=\"left\">v17</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><a href=\"api/core/Component#moduleId\"><code>@Component.moduleId</code></a></td>\n<td align=\"left\">v16</td>\n<td align=\"left\">v17</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/router</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c6dkjk2xe1cl7euv7e1d9xbdh\"><a href=\"guide/deprecations#router\"><code>RouterLinkWithHref</code>指令</a></td>\n<td align=\"left\">v15</td>\n<td align=\"left\">v17</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/router</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4ip8407xozmuw03nufcaco3u1\"><a href=\"guide/deprecations#router-writable-properties\">Router可写属性</a></td>\n<td align=\"left\">v15.1</td>\n<td align=\"left\">v17</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/router</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dx8kquedsogygelq3jrl4b90y\"><a href=\"guide/deprecations#router-can-load\">Router CanLoad守卫</a></td>\n<td align=\"left\">v15.1</td>\n<td align=\"left\">v17</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/router</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5rgs9avzjl2xh4gcif0gz3f9\"><a href=\"guide/deprecations#router-class-and-injection-token-guards\">类和<code>InjectionToken</code>守卫和解析器</a></td>\n<td align=\"left\">v15.2</td>\n<td align=\"left\">v17</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"deprecated-features-that-can-be-removed-in-v18-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c7bkmkp7xelqeuzllru20wcxi\">将会在 v18 或更高版本中删除的已弃用功能<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-that-can-be-removed-in-v18-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/common</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"91gcuetg9vxivwthm12ub9p0g\"><code><a href=\"api/common/isPlatformWorkerApp\" class=\"code-anchor\">isPlatformWorkerApp</a></code>和\n<code><a href=\"api/common/isPlatformWorkerUi\" class=\"code-anchor\">isPlatformWorkerUi</a></code></td>\n<td align=\"left\">v16</td>\n<td align=\"left\">v18</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><code>EnvironmentInjector.runInContext</code></td>\n<td align=\"left\">v16</td>\n<td align=\"left\">v18</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/platform-server</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4qsnuaogixehyefkws9m0guu1\"><a href=\"api/platform-server/PlatformConfig\"><code>PlatformConfig.baseUrl</code>和<code>PlatformConfig.useAbsoluteUrl</code>配置选项</a></td>\n<td align=\"left\">v16</td>\n<td align=\"left\">v18</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/platform-server</code></td>\n<td align=\"left\"><a href=\"api/platform-server/platformDynamicServer\"><code>platformDynamicServer</code></a></td>\n<td align=\"left\">v16</td>\n<td align=\"left\">v18</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/platform-browser</code></td>\n<td align=\"left\"><a href=\"api/platform-browser/BrowserModule#withservertransition\"><code>BrowserModule.withServerTransition</code></a></td>\n<td align=\"left\">v16</td>\n<td align=\"left\">v18</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/platform-browser</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"99iaewfv737a8mijvut4hqx6y\"><a href=\"guide/deprecations#platform-browser\"><code>makeStateKey</code>、<code>StateKey</code> 和 <code>TransferState</code></a> 这些符号已经移动到 \n<code>@angular/core</code></td>\n<td align=\"left\">v16</td>\n<td align=\"left\">v18</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"deprecated-features-that-can-be-removed-in-v19-or-later\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dxy6p5d81aqfwmdg6uo1961t4\">在 v19 或之后的版本中可以移除的已弃用功能<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-that-can-be-removed-in-v19-or-later\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/animations</code></td>\n<td align=\"left\"><code><a href=\"api/animations/browser/AnimationDriver#NOOP\" class=\"code-anchor\">AnimationDriver.NOOP</a></code></td>\n<td align=\"left\">v17</td>\n<td align=\"left\">v19</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><code><a href=\"api/core/PACKAGE_ROOT_URL\" class=\"code-anchor\">PACKAGE_ROOT_URL</a></code></td>\n<td align=\"left\">v17</td>\n<td align=\"left\">v19</td>\n</tr>\n<tr>\n<td align=\"left\"><code>@angular/core</code></td>\n<td align=\"left\"><code><a href=\"api/core/NgProbeToken\" class=\"code-anchor\">NgProbeToken</a></code></td>\n<td align=\"left\">v17</td>\n<td align=\"left\">v19</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"deprecated-features-with-no-planned-removal-version\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1bziqsfchkwxg84z1hidsjrjk\">没有计划删除版本的过时特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features-with-no-planned-removal-version\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d742luiuirvtpjq6i9pf70lxw\">区域</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4c0q02mldy5w367dy7pdreb0\">API或特性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21rdfydwoqnu2nahyeaynzinq\">已弃用于</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8z6xrre4m7ob77hlvbbs50csq\">模板语法</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"diagqhba5x0kgrxg1zwwe1b7d\"><a href=\"guide/deprecations#deep-component-style-selector\"><code>/deep/</code>、<code>&gt;&gt;&gt;</code> 和 <code>::ng-deep</code></a></td>\n<td align=\"left\">v7</td>\n<td align=\"left\">unspecified</td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e5pfoq1zxvbuiy9i95kv3zq87\">有关 Angular 组件开发工具包（CDK）和 Angular Material 弃用的信息，请参阅<a href=\"https://github.com/angular/components/blob/main/CHANGELOG.md\">更改日志</a>。</p>\n<h2 id=\"deprecated-apis\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e38g8iy8k2xg7sch8jhaiatcr\">已弃用的 API<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-apis\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9k96fnjnn1ddga65r1hlf6uw8\">本节包含所有已弃用的 API 的完整列表，以及可帮助你计划迁移到替代方案的详细信息。</p>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cnviaojpehju3g1pkvkgikryt\"><strong>提示</strong>：<br>\n在本站点的 <a href=\"api\">API 参考文档</a> 部分，已弃用的 API 会以 <del>删除线</del> 的形式标示出来。你可以通过<a href=\"api?status=deprecated\">状态：已弃用</a>来筛选 API 列表。</p>\n</div>\n<p><a id=\"animations\"></a></p>\n<h3 id=\"angularanimations\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8ydk5uhvcazjj5mpor8n521j6\">@angular/animations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularanimations\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"al2gox2wn7ytwn304i4osu8gc\"><a href=\"api/animations/browser/AnimationDriver#NOOP\">AnimationDriver.NOOP</a></td>\n<td align=\"left\"><code><a href=\"api/animations/browser/NoopAnimationDriver\" class=\"code-anchor\">NoopAnimationDriver</a></code></td>\n<td align=\"left\">v17</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"abx10spvcwet030bpq68e13m4\">直接创建一个新的 \n<code><a href=\"api/animations/browser/NoopAnimationDriver\" class=\"code-anchor\">NoopAnimationDriver</a></code>，而不是调用 \n<code><a href=\"api/animations/browser/AnimationDriver#NOOP\" class=\"code-anchor\">AnimationDriver.NOOP</a></code></td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"common\"></a></p>\n<h3 id=\"angularcommon\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c0mlnyj5ht2yvhq97xh7vrdww\">@angular/common<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularcommon\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a href=\"api/common/NgComponentOutlet\"><code>NgComponentOutlet.ngComponentOutletNgModuleFactory</code></a></td>\n<td align=\"left\"><code><a href=\"api/common/NgComponentOutlet#ngComponentOutletNgModule\" class=\"code-anchor\">NgComponentOutlet.ngComponentOutletNgModule</a></code></td>\n<td align=\"left\">v14</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7qacvl2v2gnydlvgwqzq6l8mj\">使用 \n<code>ngComponentOutletNgModule</code> 输入，该输入不需要解析 NgModule 工厂。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5ptfmuws6endqxaupfy7fyux9\"><a href=\"api/common/DATE_PIPE_DEFAULT_TIMEZONE\"><code>DatePipe</code> - <code>DATE_PIPE_DEFAULT_TIMEZONE</code></a></td>\n<td align=\"left\"><code>{ provide: <a href=\"api/common/DATE_PIPE_DEFAULT_OPTIONS\" class=\"code-anchor\">DATE_PIPE_DEFAULT_OPTIONS</a>, useValue: { timezone: '-1200' }</code></td>\n<td align=\"left\">v15</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bk0pjv7hc7bzbuv8hqi3o8q3e\">使用 \n<code><a href=\"api/common/DATE_PIPE_DEFAULT_OPTIONS\" class=\"code-anchor\">DATE_PIPE_DEFAULT_OPTIONS</a></code> 注入令牌，可以一次性配置多个设置。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"91gcuetg9vxivwthm12ub9p0g\"><code><a href=\"api/common/isPlatformWorkerApp\" class=\"code-anchor\">isPlatformWorkerApp</a></code>和\n<code><a href=\"api/common/isPlatformWorkerUi\" class=\"code-anchor\">isPlatformWorkerUi</a></code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6bs071f5k1m1udzmhtyd822xg\">无</td>\n<td align=\"left\">v16</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bqphhepxdemwvpr3marljghk5\">自从移除 Web Worker 平台后，这两个函数已经没有作用（它们只返回 \n<code>false</code>）。可以安全地移除它们。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"core\"></a></p>\n<h3 id=\"angularcore\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3dlbdahpjd7ceav05i7qp1s59\">@angular/core<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularcore\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a href=\"api/core/DefaultIterableDiffer\"><code>DefaultIterableDiffer</code></a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2bqxdxpf5r0nhscdsqpo5pmsk\">不适用</td>\n<td align=\"left\">v4</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dbmbhh32x3pcc28a9qg97xcwh\">不是公共 API 的一部分。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/defineInjectable\"><code>defineInjectable</code></a></td>\n<td align=\"left\"><code>ɵɵ<a href=\"api/core/defineInjectable\" class=\"code-anchor\">defineInjectable</a></code></td>\n<td align=\"left\">v8</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6j0j2zxrwjrh8jxy1qj478gb5\">仅在生成的代码中使用。没有源代码应该依赖于此 API。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/NgModule\"><code>entryComponents</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v9</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"37q7zt70e3stdzpan5sr04i5h\">查看 \n<a href=\"guide/deprecations#entryComponents\"><code>entryComponents</code></a></td>\n</tr>\n<tr>\n<td align=\"left\"><code>ANALYZE_FOR_ENTRY_COMPONENTS</code></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v9</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"283xiacosamgrwtjkytdzawrx\">查看 \n<a href=\"guide/deprecations#entryComponents\"><code>ANALYZE_FOR_ENTRY_COMPONENTS</code></a></td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/testing/async\"><code>async</code></a></td>\n<td align=\"left\"><a href=\"api/core/testing/waitForAsync\"><code>waitForAsync</code></a></td>\n<td align=\"left\">v11</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"128q5gv2jfx8qbx3xj0hr3cf\"><a href=\"api/core/testing/async\"><code>async</code></a> 函数从 \n<code>@angular/core/testing</code> 中已重命名为 \n<code><a href=\"api/core/testing/waitForAsync\" class=\"code-anchor\">waitForAsync</a></code>，以避免与原生 JavaScript \n<code>async</code> 语法混淆。现有函数已被弃用，将在未来的版本中移除。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/getModuleFactory\"><code>getModuleFactory</code></a></td>\n<td align=\"left\"><a href=\"api/core/getNgModuleById\"><code>getNgModuleById</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bd3hr6ycugxq09fanel9p0rj1\">Ivy 允许直接使用 NgModule 类，而无需检索相应的工厂。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dpdg0fsukykzvjb36igdrfcl\"><code>ViewChildren.emitDistinctChangesOnly</code> / \n<code>ContentChildren.emitDistinctChangesOnly</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"esxznko3tw1yw69nod1w4breu\">无（曾是 \n<a href=\"https://github.com/angular/angular/issues/40091\">issue #40091</a> 的一部分）</td>\n<td align=\"left\"></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8b4hesc5nni3th5mjxvhy7pj0\">这是作为 \n<a href=\"https://github.com/angular/angular/issues/40091\">issue #40091</a> 的 bug 修复的一部分引入的临时标志，并将被移除。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"66dly0lhl05wu2rkwx4ccx7ex\">基于工厂的 \n<a href=\"api/core/ApplicationRef#bootstrap\"><code>ApplicationRef.bootstrap</code></a> 签名</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c3b14kdgytpk8j4acay416fya\">基于类型的 \n<a href=\"api/core/ApplicationRef#bootstrap\"><code>ApplicationRef.bootstrap</code></a> 签名</td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1u0ygjdpkduvc6981atbsxvyx\">使用 Ivy，不再需要解析组件工厂，可以直接提供组件类型。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/PlatformRef#bootstrapModuleFactory\"><code>PlatformRef.bootstrapModuleFactory</code></a></td>\n<td align=\"left\"><a href=\"api/core/PlatformRef#bootstrapModule\"><code>PlatformRef.bootstrapModule</code></a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d2cc5v8i2jx0848v6q65d0een\">使用 Ivy，不再需要解析 NgModule 工厂，可以直接提供 NgModule 类型。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/ModuleWithComponentFactories\"><code>ModuleWithComponentFactories</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"73sge2u2r4dhz6clcby81bor0\">Ivy JIT 模式不需要访问这个符号。有关其他上下文，请参阅<a href=\"guide/deprecations#jit-api-changes\">由于 ViewEngine 弃用而导致的 JIT API 更改</a>。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/Compiler\"><code>Compiler</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"73sge2u2r4dhz6clcby81bor0\">Ivy JIT 模式不需要访问这个符号。有关其他上下文，请参阅<a href=\"guide/deprecations#jit-api-changes\">由于 ViewEngine 弃用而导致的 JIT API 更改</a>。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/CompilerFactory\"><code>CompilerFactory</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"73sge2u2r4dhz6clcby81bor0\">Ivy JIT 模式不需要访问这个符号。有关其他上下文，请参阅<a href=\"guide/deprecations#jit-api-changes\">由于 ViewEngine 弃用而导致的 JIT API 更改</a>。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/NgModuleFactory\"><code>NgModuleFactory</code></a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5a4qq91el8m5ndjvy8y4vj2d0\">使用非基于工厂的框架 API，比如\n<a href=\"api/core/PlatformRef#bootstrapModule\">PlatformRef.bootstrapModule</a>和\n<a href=\"api/core/createNgModule\">createNgModule</a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"73sge2u2r4dhz6clcby81bor0\">Ivy JIT 模式不需要访问这个符号。有关其他上下文，请参阅<a href=\"guide/deprecations#jit-api-changes\">由于 ViewEngine 弃用而导致的 JIT API 更改</a>。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"735xnbpwuf48ylvfd0618d426\"><a href=\"api/core/ViewContainerRef#createComponent\"><code>ViewContainerRef.createComponent</code>的基于工厂的签名</a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ap6oexy7aure8r6ihgj7i0rge\"><a href=\"api/core/ViewContainerRef#createComponent\">基于类型的<code>ViewContainerRef.createComponent</code>签名</a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5zy4brt2emupevba195y8pmai\">Angular不再需要组件工厂来动态创建组件。使用\n<code><a href=\"api/core/createComponent\" class=\"code-anchor\">createComponent</a></code>方法的不同签名，允许直接传递组件类。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/ComponentFactory\"><code>ComponentFactory</code></a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bvojf3k6lr1v1rtgv2vmtm8wa\">使用非基于工厂的框架 API。</td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cjg00y3o9l27bqejn06xji8dh\">自从 Ivy，不再需要组件工厂。Angular提供其他 API，可以直接使用组件类。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/ComponentFactoryResolver\"><code>ComponentFactoryResolver</code></a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bvojf3k6lr1v1rtgv2vmtm8wa\">使用非基于工厂的框架 API。</td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d08o9vdbvjrl7d7yjymx2xkrn\">自从 Ivy，不再需要组件工厂，因此不需要解析它们。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3fpfgobxmgku0cyux6cbqxp02\"><a href=\"api/core/Injectable#providedIn\"><code>providedIn</code></a>与 NgModule</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6416a41tt3l8x5snd08hpte1h\">更倾向于\n<code>'root'</code>提供者，或者如果需要限定到NgModule，则使用NgModule\n<code>providers</code></td>\n<td align=\"left\">v15</td>\n<td align=\"left\">none</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/Injectable#providedIn\"><code>providedIn: 'any'</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v15</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8u8k26ww99wop9pdrqjf8pktg\">这个选项的语义令人困惑，几乎没有使用。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/EnvironmentInjector#runInContext\"><code>EnvironmentInjector.runInContext</code></a></td>\n<td align=\"left\"><code><a href=\"api/core/runInInjectionContext\" class=\"code-anchor\">runInInjectionContext</a></code></td>\n<td align=\"left\">v16</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9usl8w55s98a6nnr1k7vgb5bs\"><code><a href=\"api/core/runInInjectionContext\" class=\"code-anchor\">runInInjectionContext</a></code>是一种更灵活的操作，支持元素注入器</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/Component#moduleId\"><code>@Component.moduleId</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v16</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/NgProbeToken\"><code>NgProbeToken</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v16</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6mbvb4pcsol1ovbod1iwn0161\"><code>ng.prob</code>自 Ivy 以来已被\n<code>ng.getComponent</code>替换</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"testing\"></a></p>\n<h3 id=\"angularcoretesting\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1fej7vpnovlqjm5a1u22afisz\">@angular/core/testing<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularcoretesting\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a href=\"api/core/testing/TestBed#get\"><code>TestBed.get</code></a></td>\n<td align=\"left\"><a href=\"api/core/testing/TestBed#inject\"><code>TestBed.inject</code></a></td>\n<td align=\"left\">v9</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"elj6nm4n9aekdm7mf9sauf3iu\">相同的行为，但类型安全。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/core/testing/async\"><code>async</code></a></td>\n<td align=\"left\"><a href=\"api/core/testing/waitForAsync\"><code>waitForAsync</code></a></td>\n<td align=\"left\">v10</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cq4ku5vkior2bvo6n2skbesc2\">相同的行为，但重命名以避免混淆。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"router\"></a></p>\n<h3 id=\"angularrouter\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7uz5ml7kmwo70llbctf73qr0\">@angular/router<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularrouter\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ecwh7h7uu241rkf3bnid259r3\"><a href=\"api/router/RouterLinkWithHref\"><code>RouterLinkWithHref</code>指令</a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5tu7x1ldk54mby4m3zpjn8cyf\">使用\n<code><a href=\"api/router/RouterLink\" class=\"code-anchor\">RouterLink</a></code>代替。</td>\n<td align=\"left\">v15</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9135fli8u1qdw2syblyi9uxam\"><code><a href=\"api/router/RouterLinkWithHref\" class=\"code-anchor\">RouterLinkWithHref</a></code>指令的代码已合并到\n<code><a href=\"api/router/RouterLink\" class=\"code-anchor\">RouterLink</a></code>中。现在\n<code><a href=\"api/router/RouterLink\" class=\"code-anchor\">RouterLink</a></code>指令可用于所有具有\n<code><a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a></code>属性的元素。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5slqopr1bmi4kiavenljjdvr\"><a href=\"api/router/provideRoutes\"><code>provideRoutes</code>函数</a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ccj05fg7sakrd6a5ukxg4ycej\">使用\n<code><a href=\"api/router/ROUTES\" class=\"code-anchor\">ROUTES</a></code>\n<code><a href=\"api/core/InjectionToken\" class=\"code-anchor\">InjectionToken</a></code>代替。</td>\n<td align=\"left\">v15</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"avztgveht09ixisitse3z3ole\">提供者函数 \n<code><a href=\"api/router/provideRoutes\" class=\"code-anchor\">provideRoutes</a></code> 的辅助功能非常有限，由于拼写相似，可能会不经意地与 \n<code><a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a></code> 混淆。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d3xdnsgdvv23eczocssaiatme\"><a href=\"api/router/DeprecatedGuard\">类和 <code>InjectionToken</code> 守卫和解析器</a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9f2h8fyulxbtttm1triib3n5x\">应改为使用普通的 JavaScript 函数。</td>\n<td align=\"left\">v15.2</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"14lozb3w750ap2kjdkbfjcgnt\">函数式守卫比基于类和令牌的守卫更简单且更强大。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"platform-browser\"></a></p>\n<h3 id=\"angularplatform-browser\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"biscxnxzaz435lzmf6loksjjw\">@angular/platform-browser<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularplatform-browser\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a href=\"api/platform-browser/BrowserModule#withservertransition\"><code>BrowserModule.withServerTransition</code></a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyrbcmclfmwrowvpv0cmuolp4\">无需替代。</td>\n<td align=\"left\">v16.0</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"64ehwi2zf36avw90mig94u1aq\">应使用 \n<code><a href=\"api/core/APP_ID\" class=\"code-anchor\">APP_ID</a></code> 令牌来设置应用程序 ID。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ddh0kqdvcgelz20xmxf3fc63u\"><code><a href=\"api/core/makeStateKey\" class=\"code-anchor\">makeStateKey</a></code>、\n<code><a href=\"api/core/StateKey\" class=\"code-anchor\">StateKey</a></code> 和 \n<code><a href=\"api/core/TransferState\" class=\"code-anchor\">TransferState</a></code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b9i2hmi0pn3tu0apn3sbuhah3\">从 \n<code>@angular/core</code> 导入。</td>\n<td align=\"left\">v16.0</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6hwqp3j9xmsi7ealu0gbx9ebz\">具有相同行为，但来自不同的包。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"platform-browser-dynamic\"></a></p>\n<h3 id=\"angularplatform-browser-dynamic\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4g09gw83sm2l4yan0ho3i4ksc\">@angular/platform-browser-dynamic<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularplatform-browser-dynamic\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a href=\"api/platform-browser-dynamic/JitCompilerFactory\"><code>JitCompilerFactory</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"84atfyk6t4obpee9zawnklpqa\">此符号不再必要。有关更多上下文，请参阅\n<a href=\"guide/deprecations#jit-api-changes\">由于 ViewEngine 弃用而导致的 JIT API 更改</a>。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/platform-browser-dynamic/RESOURCE_CACHE_PROVIDER\"><code>RESOURCE_CACHE_PROVIDER</code></a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1xkof0j533u226yv6p5dcih6l\">以前在某些情况下需要使用 View Engine 测试 AOT 编译的组件，但自 Ivy 以来不再需要。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"platform-server\"></a></p>\n<h3 id=\"angularplatform-server\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2hyttbmyr2op7zb3isl7qcjo\">@angular/platform-server<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularplatform-server\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a href=\"api/platform-server/ServerTransferStateModule\"><code>ServerTransferStateModule</code></a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyrbcmclfmwrowvpv0cmuolp4\">无需替代。</td>\n<td align=\"left\">v14.1</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2okjxcj6ksh22cffsdidzm2on\">在导入 \n<code><a href=\"api/platform-server/ServerModule\" class=\"code-anchor\">ServerModule</a></code> 或使用 \n<code><a href=\"api/platform-server/renderApplication\" class=\"code-anchor\">renderApplication</a></code> 函数进行引导时，在服务器端渲染期间可以注入 \n<code><a href=\"api/core/TransferState\" class=\"code-anchor\">TransferState</a></code> 类，而无需导入其他模块。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4qsnuaogixehyefkws9m0guu1\"><a href=\"api/platform-server/PlatformConfig\"><code>PlatformConfig.baseUrl</code>和<code>PlatformConfig.useAbsoluteUrl</code>配置选项</a></td>\n<td align=\"left\">none</td>\n<td align=\"left\">v16</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8omcucssnr8cynnyeo8hjywjg\">以前未使用过。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/platform-server/platformDynamicServer\"><code>platformDynamicServer</code></a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9rnty0mvh95qdvkeq9e8tqg8x\">导入 \n<code>@angular/compiler</code> 并将使用替换为 \n<code><a href=\"api/platform-server/platformServer\" class=\"code-anchor\">platformServer</a></code>。</td>\n<td align=\"left\">v16</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3q8ov49oaus8hqg7n4aw9oz84\">这样做是为了减小 AOT 构建时服务器捆绑包的大小。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"forms\"></a></p>\n<h3 id=\"angularforms\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cilqa1r6l2ltkpux41ihon5kd\">@angular/forms<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularforms\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"71uzg0bhjkx2onob9zmypld90\"><a href=\"guide/deprecations#ngmodel-reactive\"><code>ngModel</code>与响应式表单</a></td>\n<td align=\"left\"><a href=\"api/forms/FormControlDirective\"><code>FormControlDirective</code></a></td>\n<td align=\"left\">v6</td>\n<td align=\"left\">none</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7tfvlzwzvjtlbv6bjb2xk7dic\"><a href=\"api/forms/FormBuilder#group\"><code>FormBuilder.group</code>遗留选项参数</a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"863m7vaq5w0rkarb1wcd5myom\"><a href=\"api/forms/AbstractControlOptions\"><code>AbstractControlOptions</code> 参数值</a></td>\n<td align=\"left\">v11</td>\n<td align=\"left\">none</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"upgrade\"></a></p>\n<h3 id=\"angularupgrade\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ciwxy7798nlcm4kstlw4zpauu\">@angular/upgrade<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularupgrade\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"21a63xylyweozcy9sugrgsvfo\"><a href=\"api/upgrade\">所有入口点</a></td>\n<td align=\"left\"><a href=\"api/upgrade/static\"><code>@angular/upgrade/static</code></a></td>\n<td align=\"left\">v5</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8dvsmbscpf4nktglo4c3y2x1p\">请查看\n<a href=\"guide/upgrade\">从 AngularJS 升级</a>。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"upgrade-static\"></a></p>\n<h3 id=\"angularupgradestatic\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b0omjfhobe1yjy5gk772wdcha\">@angular/upgrade/static<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angularupgradestatic\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blhg9ze2j7vziehe21ofec5tr\">已宣布弃用</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><a href=\"api/upgrade/static/getAngularLib\"><code>getAngularLib</code></a></td>\n<td align=\"left\"><a href=\"api/upgrade/static/getAngularJSGlobal\"><code>getAngularJSGlobal</code></a></td>\n<td align=\"left\">v5</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8dvsmbscpf4nktglo4c3y2x1p\">请查看\n<a href=\"guide/upgrade\">从 AngularJS 升级</a>。</td>\n</tr>\n<tr>\n<td align=\"left\"><a href=\"api/upgrade/static/setAngularLib\"><code>setAngularLib</code></a></td>\n<td align=\"left\"><a href=\"api/upgrade/static/setAngularJSGlobal\"><code>setAngularJSGlobal</code></a></td>\n<td align=\"left\">v5</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8dvsmbscpf4nktglo4c3y2x1p\">请查看\n<a href=\"guide/upgrade\">从 AngularJS 升级</a>。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cdb7garseov7xm10pxsptfbb6\"><a href=\"api/upgrade/static/downgradeModule\">基于工厂的 <code>downgradeModule</code> 签名</a></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5pukxijbplsknsq2z8rz511nm\"><a href=\"api/upgrade/static/downgradeModule\">基于 NgModule 的 <code>downgradeModule</code> 签名</a></td>\n<td align=\"left\">v13</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5vqdmhki90m1qrdltczxfvseo\"><code><a href=\"api/upgrade/static/downgradeModule\" class=\"code-anchor\">downgradeModule</a></code> 支持更符合工效学的 NgModule 基于 API（而不是基于 NgModule 工厂的 API）。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"deprecated-features\"></a></p>\n<h2 id=\"deprecated-features\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"921bm361cifyvztign1syker7\">已弃用的特性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-features\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5zd1rz2kshbezvrycdqejfgrb\">本节列出了所有已弃用的特性，包括模板语法、配置选项以及“已弃用的<a href=\"guide/deprecations#deprecated-apis\">API</a> ”部分中未列出的任何其他弃用。它还包括已弃用的 API 使用场景或 API 组合，以扩充上面的信息。</p>\n<p><a id=\"wtf\"></a></p>\n<h3 id=\"web-tracing-framework-integration\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1mpbnrc3s326j8l4t8um6cktu\">Web 跟踪框架集成<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#web-tracing-framework-integration\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"snudxewnnc86svbk2msm9ati\">Angular 以前支持与<a href=\"https://google.github.io/tracing-framework\">Web 跟踪框架（WTF）</a>集成，以对 Angular 应用程序进行性能测试。此集成未经维护，现已失效。因此，该集成在 Angular 版本 8 中被弃用，并且由于没有任何现有使用的证据，因此在版本 9 中被删除。</p>\n<p><a id=\"deep-component-style-selector\"></a></p>\n<h3 id=\"deep--and-ng-deep-component-style-selectors\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bnj3kn05kcxj0i5f36hdk7sm\"><code>/deep/</code> 、 <code>&gt;&gt;&gt;</code> 和 <code>::ng-deep</code> 组件样式选择器<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deep--and-ng-deep-component-style-selectors\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1bdjcqnpb36z83f5ug2mb53gy\">不推荐使用 shadow-dom-piercing 后代组合器，并且正在<a href=\"https://developers.google.com/web/updates/2017/10/remove-shadow-piercing\">从主要浏览器和工具</a>中删除支持。因此，在 v4 中，已弃用 Angular 对 <code>/deep/</code> 、 <code>&gt;&gt;&gt;</code> 和 <code>::ng-deep</code> 的支持。在删除之前，首选 <code>::ng-deep</code>，因为它与这些工具具有更广泛的兼容性。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7ofc0z4s22x0ms1b5y7jgtcs5\">有关更多信息，参阅组件样式指南中的<a href=\"guide/component-styles#deprecated-deep--and-ng-deep\" title=\"组件样式指南，已弃用 deep 和 ngdeep\">/deep/、&gt;&gt;&gt; 和 ::ng-deep</a>。</p>\n<p><a id=\"bind-syntax\"></a></p>\n<h3 id=\"bind--on--bindon--and-ref--prefixes\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1ufjtsdk2gfrq09qcdfwg0zlx\"><code>bind-</code> 、 <code>on-</code> 、 <code>bindon-</code> 和 <code>ref-</code> 前缀<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#bind--on--bindon--and-ref--prefixes\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6uthdoqr65ap0zp6p8lnhlf9k\">模板前缀 <code>bind-</code> 、 <code>on-</code> 、 <code>bindon-</code> 和 <code>ref-</code> 在 v13 中已被弃用。模板应该使用更广为人知的语法进行绑定和引用：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3a9rdiel8mivkmymobvnwdnmf\"><code>[input]=\"value\"</code> 代替 <code>bind-input=\"value\"</code></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dt1amw3ym9v2xgxqb33ysddsq\"><code>[@<a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>]=\"value\"</code> 代替 <code>bind-animate-trigger=\"value\"</code></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ae5o9j02ypyyw67rkr3vy79qq\"><code>(click)=\"onClick()\"</code> 代替 <code>on-click=\"onClick()\"</code></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"78gjfcksep1i2zni8s1m1hjk9\"><code>[(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"value\"</code> 代替 <code>bindon-ngModel=\"value\"</code></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cfcufp32c3y0au9kenkm146wt\"><code>#templateRef</code> 代替 <code>ref-templateRef</code></li>\n</ul>\n<p><a id=\"template-tag\"></a></p>\n<h3 id=\"template-tag\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"xj6sv08c9vqbqlq2w7rm2s7k\"><code>&lt;template&gt;</code> 标签<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#template-tag\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b2rirdbe595izjcst20qn2jzp\"><code>&lt;template&gt;</code> 标签在 v4 中已被弃用，以避免与同名的 DOM 元素冲突（例如使用 Web 组件时）。改用 <code><a href=\"api/core/ng-template\" class=\"code-anchor\">&lt;ng-template&gt;</a></code>。有关更多信息，请参阅<a href=\"guide/aot-compiler\">Ahead-of-Time 编译</a>指南。</p>\n<p><a id=\"ngmodel-reactive\"></a></p>\n<h3 id=\"ngmodel-with-reactive-forms\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c7wmnpvkft9q93z2pmiw5igfp\">和响应式表单一起使用 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#ngmodel-with-reactive-forms\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3c9u5e2jznliorasu2k8s0k9r\">在 Angular v6 中已不推荐把 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 输入属性、<code>ngModelChange</code> 事件与响应式表单指令一起使用，并将在 Angular 的未来版本中删除。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"17bj64tezouj88t3hma204xxz\">现在已经弃用：</p>\n<code-example path=\"deprecation-guide/src/deprecated/app.component.html\" region=\"deprecated-example\">\n\n&lt;input [formControl]=\"control\" [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"value\"&gt;\n\n\n</code-example>\n<code-example path=\"deprecation-guide/src/deprecated/app.component.ts\" region=\"deprecated-example\">\n\nthis.value = 'some value';\n\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f48e53novx634md5bck5ft7w3\">出于多种原因，此支持已被弃用。首先，开发人员发现这种模式令人困惑。似乎正在使用实际的 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 指令，但实际上它是响应式表单指令上名为 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 的输入/输出属性，它模拟了该指令的一些行为，但又不完全一样。它允许获取和设置值并拦截值事件，但 <code><a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a></code> 的一些特性，比如使用 <code>ngModelOptions</code> 延迟更新或导出指令，不起作用。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4bt85d7u8u92v4ploofx9l0sy\">另外，该模式混用了模板驱动和响应式这两种表单策略，这会妨碍我们获取任何一种策略的全部优点。在模板中设置值的方式，也违反了响应式表单所遵循的“模板无关”原则；反之，在类中添加 <code><a href=\"api/forms/FormControl\" class=\"code-anchor\">FormControl</a></code>/<code><a href=\"api/forms/FormGroup\" class=\"code-anchor\">FormGroup</a></code> 层也破坏了“在模板中定义表单”的约定。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d5md4j557alqepx4tknch0qec\">要在删除支持之前更新你的代码，请决定是坚持使用响应式表单指令（以及使用响应式表单模式获取/设置值）或切换到模板驱动的指令。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6fwf76qsccji0su2pzqr096ew\"><strong>之后</strong>（选择 1 - 使用响应式表单）：</p>\n<!-- Standalone Reactive Forms are not ready as of 2023-09-25; move example to deprecated -->\n<code-example path=\"deprecation-guide/src/deprecated/app.component.html\" region=\"reactive-form-example\">\n\n&lt;input [formControl]=\"control\"&gt;\n\n\n</code-example>\n<code-example path=\"deprecation-guide/src/app/app.component.ts\" region=\"reactive-form-example\">\n\nthis.control.setValue('some value');\n\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dku6ipgvo4rcheq0mfsexz397\"><strong>之后</strong>（选择 2 - 使用模板驱动表单）：</p>\n<code-example path=\"deprecation-guide/src/app/app.component.html\" region=\"template-driven-form-example\">\n\n&lt;input [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"value\"&gt;\n\n\n</code-example>\n<code-example path=\"deprecation-guide/src/app/app.component.ts\" region=\"template-driven-form-example\">\n\nthis.value = 'some value';\n\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bp67f8kn9oyj5p8betl1qlgs1\">默认情况下，当你使用此模式时，你会在开发模式下收到一次弃用警告。你可以选择通过在导入时配置 <code><a href=\"api/forms/ReactiveFormsModule\" class=\"code-anchor\">ReactiveFormsModule</a></code> 来消除此警告：</p>\n<code-example path=\"deprecation-guide/src/deprecated/app.module.ts\" region=\"reactive-form-no-warning\">\nimports: [\n  ReactiveFormsModule.withConfig({warnOnNgModelWithFormControl: 'never'})\n],\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7iay1860yhl0pzwfiq5lmos73\">或者，你可以选择为该模式的每个实例显示一个单独的警告，配置值为 <code>\"always\"</code>。这可能有助于在更新代码时跟踪代码中使用模式的位置。</p>\n<p><a id=\"router-class-and-injection-token-guards\"></a></p>\n<h3 id=\"router-class-and-injectiontoken-guards-and-resolvers\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6hzu6rx58w71rj2bpoq1euu0z\">路由器类和 InjectionToken 守卫和解析器<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#router-class-and-injectiontoken-guards-and-resolvers\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3kibenmz1crcpgunh3huh9n87\">类和注入令牌守卫和解析器已弃用。现在 <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> 对象应该使用函数式风格的守卫和解析器。基于类的守卫可以通过使用 <code>inject</code> 来获取依赖项来转换为函数。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ee978ueg9dpg6yqayh7v5xthy\">对于测试函数\n<code>canActivate</code>守卫，建议使用\n<code><a href=\"api/core/testing/TestBed\" class=\"code-anchor\">TestBed</a></code>和\n<code>TestBed.runInInjectionContext</code>。 可以通过DI提供\n<code>{provide: X, useValue: StubX}</code>来提供测试模拟和存根。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"diftumhfv8mrbf8gn7kpw5rd9\">你也可以继续使用基于类的守卫并传入模拟依赖项。 在路由定义中使用时，可以使用路由器包中的辅助函数将这些守卫映射到函数，如\n<code><a href=\"api/router/mapToCanMatch\" class=\"code-anchor\">mapToCanMatch</a></code>、\n<code><a href=\"api/router/mapToCanActivate\" class=\"code-anchor\">mapToCanActivate</a></code>等。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3x5bq5pac0xbbo6lznca4c3h9\">最后，功能性守卫可以编写成可以通过\n<code><a href=\"api/core/runInInjectionContext\" class=\"code-anchor\">runInInjectionContext</a></code>或通过传递依赖项的模拟实现来进行测试。 例如：</p>\n<code-example>\nexport function myGuardWithMockableDeps(\n  dep1 = inject(MyService),\n  dep2 = inject(MyService2),\n  dep3 = inject(MyService3),\n) { }\n\nconst route = {\n  path: 'admin',\n  canActivate: [() =&gt; myGuardWithMockableDeps()]\n}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1jwhnrt8yr57b3fh25l5nlt1w\">这一弃用只影响在\n<code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code>定义中的类和\n<code><a href=\"api/core/InjectionToken\" class=\"code-anchor\">InjectionToken</a></code>守卫支持。\n<code><a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a></code>类和\n<code><a href=\"api/core/InjectionToken\" class=\"code-anchor\">InjectionToken</a></code>提供者在一般意义上并未被弃用。 也就是说，像\n<code><a href=\"api/router/CanActivate\" class=\"code-anchor\">CanActivate</a></code>、\n<code><a href=\"api/router/CanDeactivate\" class=\"code-anchor\">CanDeactivate</a></code>等接口将在将来的 Angular 版本中被删除。只需从可注入类中移除\n<code>implements <a href=\"api/router/CanActivate\" class=\"code-anchor\">CanActivate</a></code>并更新路由定义为函数形式，如\n<code>canActivate: [() =&gt; inject(MyGuard).canActivate()]</code>，就足以消除弃用警告。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"137wzhpeqh3dy2u3w07xmz5j8\">函数式守卫足够健壮，甚至可以通过转换来支持现有的基于类的守卫：</p>\n<code-example>\nimport {<a href=\"api/router/CanMatchFn\" class=\"code-anchor\">CanMatchFn</a>} from '@angular/router';\n\nfunction <a href=\"api/router/mapToCanMatch\" class=\"code-anchor\">mapToCanMatch</a>(providers: Array&lt;<a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;{canMatch: <a href=\"api/router/CanMatchFn\" class=\"code-anchor\">CanMatchFn</a>}&gt;&gt;): <a href=\"api/router/CanMatchFn\" class=\"code-anchor\">CanMatchFn</a>[] {\n  return providers.map(provider =&gt; (...params) =&gt; inject(provider).canMatch(...params));\n}\nconst route = {\n  path: 'admin',\n  canMatch: <a href=\"api/router/mapToCanMatch\" class=\"code-anchor\">mapToCanMatch</a>([AdminGuard]),\n};\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ie9p0qipptrzmupo5jbtzg6h\">也就是说守卫可以继续作为类实现，然后在路由定义处转为函数。</p>\n<p><a id=\"router-writable-properties\"></a></p>\n<h3 id=\"public-router-properties\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8nfr4juhs93cr9qosm4fqukwp\"><code><a href=\"api/router/Router\" class=\"code-anchor\">Router</a></code> 的公共属性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#public-router-properties\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2vm4xiuqrreeo4m1f6u5rnv4e\"><code><a href=\"api/router/Router\" class=\"code-anchor\">Router</a></code> 的所有公共属性都是不可写的。它们都应该使用其他方法进行配置，所有这些方法都有相应文档。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1pul22rwwshzqbyyyzusq9ccu\">以下策略是通过将应用策略注册到DI中的\n<code>providers</code>配置中的\n<code><a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a>()</code>（针对“独立”应用）或NgModule应用的根\n<code>app.module</code>中进行配置的：</p>\n<ul>\n<li><code>routeReuseStrategy</code></li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c0nk1am180wz2sd6umujgzh9p\">以下选项是通过传递给\n<code><a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a></code>的\n<code><a href=\"api/router/withRouterConfig\" class=\"code-anchor\">withRouterConfig</a>()</code>的选项对象配置的（针对“独立”应用）或在NgModule应用的根\n<code>app.module</code>中通过\n<code><a href=\"api/router/RouterModule#forRoot\" class=\"code-anchor\">RouterModule.forRoot()</a></code>进行配置的：</p>\n<ul>\n<li><code>onSameUrlNavigation</code></li>\n<li><code>errorHandler</code></li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ci63y57ydxzwkatspwz8ynj71\">以下选项已完全弃用：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2nenuwtutpjfr50v1gewnvn2z\"><code>malformedUriErrorHandler</code> - URI 解析错误应该在 <code><a href=\"api/router/UrlSerializer\" class=\"code-anchor\">UrlSerializer</a></code> 中处理。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6utnyvw9d46vpq2y4k2ato0mh\"><code>errorHandler</code> - 订阅 <code><a href=\"api/router/Router\" class=\"code-anchor\">Router</a></code> 事件并过滤 <code><a href=\"api/router/NavigationError\" class=\"code-anchor\">NavigationError</a></code>。</li>\n</ul>\n<p><a id=\"router-can-load\"></a></p>\n<h3 id=\"canload-guards\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7f8p9chtbmhmzrz4yl8kpeoci\"><code><a href=\"api/router/CanLoad\" class=\"code-anchor\">CanLoad</a></code> 守卫<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#canload-guards\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"710eeyx4fns0wnorpnbwciixz\">路由器中的 <code><a href=\"api/router/CanLoad\" class=\"code-anchor\">CanLoad</a></code> 守卫已弃用，取而代之的是 <code><a href=\"api/router/CanMatch\" class=\"code-anchor\">CanMatch</a></code>。这些守卫在导航的生命周期中同时执行。返回 <code>false</code> 的 <code><a href=\"api/router/CanMatch\" class=\"code-anchor\">CanMatch</a></code> 守卫将完全阻止 <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> 匹配，并且还会阻止加载 <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> 的子级。<code><a href=\"api/router/CanMatch\" class=\"code-anchor\">CanMatch</a></code> 守卫可以实现与 <code><a href=\"api/router/CanLoad\" class=\"code-anchor\">CanLoad</a></code> 相同的目标，但允许导航在被拒绝时匹配其他路由（例如通配符路由）。公开 API 接口不需要同时拥有这两种类型的守卫。</p>\n<p><a id=\"loadChildren\"></a></p>\n<h3 id=\"loadchildren-string-syntax-ngmodule\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"afz7w7enx83as5d4bpil4txfc\"><code>loadChildren</code>字符串语法（NgModule）<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#loadchildren-string-syntax-ngmodule\"><i class=\"material-icons\">link</i></a></h3>\n<div class=\"alert is-critical\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eit87y9a1fav0mhz0z5me8wxk\">此弃用通知仅适用于懒加载\n<code><a href=\"guide/ngmodules\">NgModules</a></code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bxlynxrteevyts955ufhmxqnr\"><a href=\"guide/standalone-components\">“独立”</a>应用不引用模块。 它们可以使用\n<code>loadComponent</code>懒加载组件，或者使用\n<code>loadChildren</code>懒加载子路由数组，如\n<a href=\"guide/standalone-components#routing-and-lazy-loading\">此处讨论的</a>。</p>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ext1xkc89hl3pu32g7rx0gr9k\">当 Angular 第一次引入惰性路由时，还没有浏览器能支持动态加载额外的 JavaScript。因此 Angular 使用语法 <code>loadChildren: './lazy/lazy.module#LazyModule'</code> 并且还构建了一些工具来支持它。现在，很多浏览器都已支持 ECMAScript 的动态导入，Angular 也正朝着这个新语法前进。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7cy6ob1a3cf68qskpkw1igu2l\">在版本 8 中，已弃用 <a href=\"api/router/LoadChildren\"><code>loadChildren</code></a> 路由规范的字符串语法，而是改用基于 <code>import()</code> 的新语法。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3opt7urnz2tv3h1r26npv94e9\"><strong>之前</strong>：</p>\n<code-example path=\"deprecation-guide/src/deprecated/app.module.ts\" language=\"typescript\" region=\"lazyload-deprecated-syntax\">\nconst routes: <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> = [{\n    path: 'lazy',\n    // The following string syntax for loadChildren is deprecated\n    loadChildren: './lazy/lazy.module#LazyModule',\n  }];\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3h1ug924mjgsieqi94gm2mp6z\"><strong>之后</strong>：</p>\n<code-example path=\"deprecation-guide/src/deprecated/app.module.ts\" language=\"typescript\" region=\"lazyload-syntax\">\nconst routes: <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> = [{\n    path: 'lazy',\n    // The new import() syntax\n    loadChildren: () =&gt; import('../app/lazy/lazy.module').then(m =&gt; m.LazyModule)\n  }];\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cp7mok2bh9phdojc80wx8oqsv\"><strong>版本 8 更新</strong>：当你升级到版本 8 时，<a href=\"cli/update\"><code>ng update</code></a> 命令会自动执行转换。在版本 7 之前，<code>import()</code> 语法只能在 JIT 模式下（使用 View Engine）起作用。</p>\n</div>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ajzcx1pxm4ux91wovlou3n2f8\"><strong>声明语法</strong>：<br>\n对于 <code>ngc</code> 发现惰性加载的模块和相关的 <code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 来说，遵循路由声明语法 <code>loadChildren: () =&gt; import('...').then(m =&gt; m.ModuleName)</code> 是非常重要的。你可以在<a href=\"https://github.com/angular/angular-cli/blob/a491b09800b493fe01301387fa9a025f7c7d4808/packages/ngtools/webpack/src/transformers/import_factory.ts#L104-L113\">这里</a>找到允许的语法结构的完整列表。这些限制会在 Ivy 正式发布后放宽，因为 Ivy 不再使用 <code>NgFactories</code>。</p>\n</div>\n<p><a id=\"reflect-metadata\"></a></p>\n<h3 id=\"dependency-on-a-reflect-metadata-polyfill-in-jit-mode\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eopwsq5bmo7pi2309xrxykwza\">JIT 模式下对反射元数据 polyfill 的依赖<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#dependency-on-a-reflect-metadata-polyfill-in-jit-mode\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6elbyzm9oy4li7ldqj6epr5a2\">Angular 应用程序，特别是依赖于 JIT 编译器的应用程序，过去常常需要 <a href=\"https://github.com/rbuckton/reflect-metadata\">reflect-metadata</a> API 的腻子脚本。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4zp0gjfmr5p6ft6cg7972e09k\">在 Angular 8.0 版（<a href=\"https://github.com/angular/angular-cli/pull/14473\">见#14473</a>）中移除了对这个腻子脚本的需求，这将使得大多数 Angular 应用程序不再需要此腻子脚本。因为此腻子脚本可能被第三方库依赖，因此不能从所有 Angular 项目中删除它，我们从 8.0 版本开始弃用对这个腻子脚本的要求。这样可以给库作者和应用程序开发人员足够的时间来评估他们是否需要此腻子脚本，并执行任何必要的重构以消除对它的依赖。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c4idkon2ogeg4lb1ywu6f15cc\">在典型的 Angular 项目中，这个腻子脚本不用于生产版本，因此删除它不会影响生产环境的应用程序。删除它是为了从整体上上简化构建设置并减少外部依赖项的数量。</p>\n<p><a id=\"static-query-resolution\"></a></p>\n<h3 id=\"viewchild--contentchild-static-resolution-as-the-default\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b2wafbri4mkxgm5daahdhltmq\"><code>@<a href=\"api/core/ViewChild\" class=\"code-anchor\">ViewChild</a>()</code> / <code>@<a href=\"api/core/ContentChild\" class=\"code-anchor\">ContentChild</a>()</code> 默认使用静态解析<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#viewchild--contentchild-static-resolution-as-the-default\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5mvhyefhtolwb38sr36mdtx8h\">参阅<a href=\"guide/static-query-migration\">静态查询的专用迁移指南</a>。</p>\n<p><a id=\"contentchild-input-together\"></a></p>\n<h3 id=\"contentchild--input-used-together\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"271zox7og0qy8qego233mqsuc\"><code>@<a href=\"api/core/ContentChild\" class=\"code-anchor\">ContentChild</a>()</code> / <code>@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()</code> 一起使用<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#contentchild--input-used-together\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4182imnv5m9m502co16ewrz6e\">以下模式已弃用：</p>\n<code-example path=\"deprecation-guide/src/deprecated/app.component.ts\" language=\"typescript\" region=\"template-with-input-deprecated\">\n@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>() @<a href=\"api/core/ContentChild\" class=\"code-anchor\">ContentChild</a>(<a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>) tpldeprecated !: <a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>&lt;any&gt;;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a02f2fzx5f98b2k5jkal1v20n\">不要再使用此模式，而应该将这两个装饰器分离到它们各自的属性中并添加回退逻辑，如下例所示：</p>\n<code-example path=\"deprecation-guide/src/app/app.component.ts\" language=\"typescript\" region=\"template-with-input\">\n@<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>() tpl !: <a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>&lt;any&gt;;\n@<a href=\"api/core/ContentChild\" class=\"code-anchor\">ContentChild</a>(<a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>) inlineTemplate !: <a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>&lt;any&gt;;\n\n</code-example>\n<p><a id=\"cant-assign-template-vars\"></a></p>\n<h3 id=\"cannot-assign-to-template-variables\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6hbzzl86tr1uillm7o1jmwy84\">无法赋值给模板变量<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#cannot-assign-to-template-variables\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6tx1f389y4f7eopaofy9i5vmy\">在以下示例中，双向绑定意味着应在 <code>valueChange</code> 事件触发时写入 <code>optionName</code>。</p>\n<code-example path=\"deprecation-guide/src/deprecated/app.component.html\" region=\"two-way-template-deprecated\">\n&lt;option *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let optionName of options\" [(value)]=\"optionName\"&gt;&lt;/option&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"808x1mvr8eqnwy2f6fgkgrt15\">然而，在实践中，Angular 忽略了对模板变量的双向绑定。从版本 8 开始，不推荐对模板变量赋值。在未来的版本中，我们将抛出错误以指出不支持写入。</p>\n<code-example path=\"deprecation-guide/src/app/app.component.html\" region=\"valid-template-bind\">\n&lt;option *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let optionName of options\" [value]=\"optionName\"&gt;&lt;/option&gt;\n\n</code-example>\n<p><a id=\"binding-to-innertext\"></a></p>\n<h3 id=\"binding-to-innertext-in-platform-server\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d978z43ocyvg5zktavo2s2bz3\">在 <code>platform-server</code> 中绑定到 <code>innerText</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#binding-to-innertext-in-platform-server\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4f4bqf7ut53esy0j5kht5x8tw\">在服务端渲染中使用的 <a href=\"https://github.com/fgnass/domino\">Domino</a> 不支持 <code>innerText</code>，因此在平台服务器中的 “domino 适配器”中，如果尝试绑定到 <code>innerText</code>，则有一些特殊代码可以退回到 <code>textContent</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4h77rldslo2yqm4590ge779n7\">这两个属性有细微的差别，因此在幕后切换到 <code>textContent</code> 可能会让用户感到惊讶。出于这个原因，我们弃用了这种行为。展望未来，用户应该在使用 Domino 时显式绑定到 <code>textContent</code>。</p>\n<p><a id=\"wtf-apis\"></a></p>\n<h3 id=\"wtfstarttimerange-and-all-wtf-apis\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c5dr0rrl1k3seldpljcd4tes8\"><code>wtfStartTimeRange</code> 和所有 <code>wtf*</code> API<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#wtfstarttimerange-and-all-wtf-apis\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f1uo3jzvjmsp1i21hb8mdb5y7\">所有 <code>wtf*</code> API 均已弃用，并将在未来版本中删除。</p>\n<p><a id=\"entryComponents\"></a></p>\n<h3 id=\"entrycomponents-and-analyze_for_entry_components-no-longer-required\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"chqa1jo74avrd3dq9cgp922da\">不再需要 <code>entryComponents</code> 和 <code>ANALYZE_FOR_ENTRY_COMPONENTS</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#entrycomponents-and-analyze_for_entry_components-no-longer-required\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"weeaendhb66540fc0glvhiqf\">以前，<code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 定义中的 <code>entryComponents</code> 数组用于告诉编译器将动态创建和插入哪些组件。使用 Ivy 后，这不再是必需的，并且可以从现有模块声明中删除 <code>entryComponents</code> 数组。这同样适用于 <code>ANALYZE_FOR_ENTRY_COMPONENTS</code> 注入令牌。</p>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cjvxf87sl8k8d5412u70lxp1j\"><strong>注意：</strong><br>\n如果构建要供 View Engine 应用程序使用的库，则可能仍然需要保留这些。</p>\n</div>\n<p><a id=\"moduleWithProviders\"></a></p>\n<h3 id=\"modulewithproviders-type-without-a-generic\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d6lgtefgdrsf524rfzn3xxywr\">不带泛型的 <code><a href=\"api/core/ModuleWithProviders\" class=\"code-anchor\">ModuleWithProviders</a></code> 类型<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#modulewithproviders-type-without-a-generic\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5tqyrt415j0pbuyj9zu1ga442\">一些 Angular 库，比如 <code>@angular/router</code> 和 <code>@ngrx/store</code>，实现的 API 返回名为 ModuleWithProviders 的类型（通常使用名为 <code><a href=\"api/core/ModuleWithProviders\" class=\"code-anchor\">ModuleWithProviders</a></code> <code>forRoot()</code> 的方法）。这种类型代表一个 <code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 以及其他提供者。Angular 版本 9 已弃用没有明确泛型类型的 <code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> <code><a href=\"api/core/ModuleWithProviders\" class=\"code-anchor\">ModuleWithProviders</a></code> 类型。在 Angular 的未来版本中，泛型将不再是可选的。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7rr0l1z81hbyuybl3jcj3d9iy\">如果你使用的是 CLI，则 <code>ng update</code> 应该<a href=\"guide/migration-module-with-providers\">会自动迁移代码</a>。如果没有使用 CLI，则可以将任何缺失的泛型类型手动添加到应用程序中。比如：</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3opt7urnz2tv3h1r26npv94e9\"><strong>之前</strong>：</p>\n<code-example path=\"deprecation-guide/src/deprecated/app.module.ts\" language=\"typescript\" region=\"ModuleWithProvidersNonGeneric\">\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n/* ... */\n})\nexport class MyModule {\n  <a href=\"api/upgrade/static\" class=\"code-anchor\">static</a> forRoot(config: SomeConfig): <a href=\"api/core/ModuleWithProviders\" class=\"code-anchor\">ModuleWithProviders</a> {\n    return {\n      ngModule: SomeModule,\n      providers: [\n        {provide: SomeConfig, useValue: config}\n      ]\n    };\n  }\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3h1ug924mjgsieqi94gm2mp6z\"><strong>之后</strong>：</p>\n<code-example path=\"deprecation-guide/src/deprecated/app.module.ts\" language=\"typescript\" region=\"ModuleWithProvidersGeneric\">\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n/* ... */\n})\nexport class MyModule {\n  <a href=\"api/upgrade/static\" class=\"code-anchor\">static</a> forRoot(config: SomeConfig): <a href=\"api/core/ModuleWithProviders\" class=\"code-anchor\">ModuleWithProviders</a>&lt;SomeModule&gt; {\n    return {\n      ngModule: SomeModule,\n      providers: [\n        {provide: SomeConfig, useValue: config}\n      ]\n    };\n  }\n}\n\n</code-example>\n<p><a id=\"input-setter-coercion\"></a></p>\n<h3 id=\"input-setter-coercion\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8zqnny1rhvxbdlmwt1hxevutl\">输入 setter 强制类型转换<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#input-setter-coercion\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2rwl50mcf719zk6dh8d45p3b3\">由于在 Angular 中引入了 <code>strictTemplates</code> 标志，编译器已经能够根据相应指令的声明输入类型对输入绑定进行类型检查。当 “getter/setter 对”用于输入时，可能需要让 setter 接受比 getter 返回的类型更宽泛的类型集，比如当 setter 首次转换输入值时。然而，在 TypeScript 4.3 之前，需要 getter/setter 对具有相同的类型，因此无法准确地声明此模式。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e78w3nhh66jornrw4cm8ld6ee\">为了减轻这种限制，可以在对输入绑定进行类型检查时用到的指令中声明<a href=\"guide/template-typecheck#input-setter-coercion\">输入 setter 强制类型转换字段</a>。但是，从 <a href=\"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-3.html#separate-write-types-on-properties\">TypeScript 4.3</a> 开始，此限制已被移除； setter 现在可以接受比 getter 返回的类型更宽泛的类型。这意味着不再需要输入强制类型转换字段，因为它们的效果可以通过拓宽 setter 的类型来实现。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7le9e3bfb7aw5d25gxm0pz4wg\">比如，以下指令：</p>\n<code-example path=\"deprecation-guide/src/app/submit-button.component.ts\" language=\"typescript\" region=\"submitButtonNarrow\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n})\nexport class SubmitButtonComponent {\n  <a href=\"api/upgrade/static\" class=\"code-anchor\">static</a> ngAcceptInputType_disabled: boolean|'';\n\n  private disabledValue = false;\n\n  @<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()\n  get disabled(): boolean {\n    return this.disabledValue;\n  }\n  set disabled(value: boolean) {\n    this.disabledValue = (value === '') || value;\n  }\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"10jlx3pyrcoyf01ooegevizt6\">可以重构如下：</p>\n<code-example path=\"deprecation-guide/src/app/submit-button.component.ts\" language=\"typescript\" region=\"submitButton\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n})\nexport class SubmitButtonComponent {\n  private disabledValue = false;\n\n  @<a href=\"api/core/Input\" class=\"code-anchor\">Input</a>()\n  get disabled(): boolean {\n    return this.disabledValue;\n  }\n\n  set disabled(value: boolean|'') {\n    this.disabledValue = (value === '') || value;\n  }\n}\n\n</code-example>\n<p><a id=\"full-template-type-check\"></a></p>\n<h3 id=\"fulltemplatetypecheck\"><code>fullTemplateTypeCheck</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#fulltemplatetypecheck\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4tesnbxsj2ys54lq74pbafxe1\">使用 AOT 编译器编译你的应用程序时，你的模板会根据特定的严格级别进行类型检查。在 Angular 9 之前，<a href=\"guide/angular-compiler-options\"><code>fullTemplateTypeCheck</code> 编译器选项</a>只支持两个严格级别的模板类型检查。在版本 9 中引入了 <code>strictTemplates</code> 系列编译器选项，作为一种更细粒度的方法来配置模板的类型检查的严格程度。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b9sjkgutuljljbze8exqm5gys\"><code>fullTemplateTypeCheck</code> 标志已被弃用，取代它的是新的 <code>strictTemplates</code> 选项及其相关的编译器选项。当前已配置为 <code>fullTemplateTypeCheck: true</code> 的项目可以迁移到以下编译器选项集以实现相同级别的类型检查：</p>\n<code-example language=\"json\" header=\"tsconfig.app.json\">\n\n{\n  \"angularCompilerOptions\": {\n    …\n    \"strictTemplates\": true,\n    \"strictInputTypes\": false,\n    \"strictNullInputTypes\": false,\n    \"strictAttributeTypes\": false,\n    \"strictOutputEventTypes\": false,\n    \"strictDomEventTypes\": false,\n    \"strictDomLocalRefTypes\": false,\n    \"strictSafeNavigationTypes\": false,\n    \"strictContextGenerics\": false,\n    …\n  }\n}\n\n</code-example>\n<p><a id=\"jit-api-changes\"></a></p>\n<h2 id=\"jit-api-changes-due-to-viewengine-deprecation\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b94yxsriyti2swjqeixl5qvb8\">由于 ViewEngine 弃用而导致的 JIT API 更改<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#jit-api-changes-due-to-viewengine-deprecation\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d98p2aldkzp1zj8gdythkuagg\">在 ViewEngine 中，<a href=\"/guide/glossary#jit\">JIT 编译</a>需要在应用程序中注入特殊的提供者（如 <code><a href=\"api/core/Compiler\" class=\"code-anchor\">Compiler</a></code>、<code><a href=\"api/core/CompilerFactory\" class=\"code-anchor\">CompilerFactory</a></code> 等）并调用相应的方法。使用 Ivy，如果 Component、NgModule 等尚未进行 <a href=\"/guide/glossary#aot\">AOT 编译</a>，则 JIT 编译会隐式进行。这些特殊的提供者在 Ivy 中仍然可用，以便与 ViewEngine 向后兼容，从而使向 Ivy 的过渡更加顺畅。由于 ViewEngine 已被弃用并将很快被删除，因此这些符号现在也已被弃用。</p>\n<div class=\"alert is-important\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d6qnz2i0p4zxgdoi7epyaxb0l\"><strong>重要提示</strong>：<br>\n这个弃用并不影响使用 Ivy 的 JIT 模式（但我们仍在探索将来弃用 JIT 的可能性。请参见 <a href=\"https://github.com/angular/angular/issues/43133\">RFC: Exploration of use-cases for Angular JIT compilation mode</a>）。</p>\n</div>\n<p><a id=\"testrequest-errorevent\"></a></p>\n<h3 id=\"testrequest-accepting-errorevent\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ufmkbzqjcz5eysj9936hogz3\"><code><a href=\"api/common/http/testing/TestRequest\" class=\"code-anchor\">TestRequest</a></code> 接受 <code>ErrorEvent</code> 参数<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#testrequest-accepting-errorevent\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"173y8hkgdv2kpmb9l62pabigc\">Angular 提供了一些用于测试 <code><a href=\"api/common/http/HttpClient\" class=\"code-anchor\">HttpClient</a></code> 的实用工具。<code>@angular/common/<a href=\"api/common/http\" class=\"code-anchor\">http</a>/testing</code> 中的 <code><a href=\"api/common/http/testing/TestRequest\" class=\"code-anchor\">TestRequest</a></code> 类会模拟 HTTP 请求对象以与 <code><a href=\"api/common/http/testing/HttpTestingController\" class=\"code-anchor\">HttpTestingController</a></code> 一起使用。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ejxtypf3nq9svo5d6pwdzgog8\"><code><a href=\"api/common/http/testing/TestRequest\" class=\"code-anchor\">TestRequest</a></code> 提供了一个 API 来模拟带有错误的 HTTP 响应。在早期版本的 Angular 中，此 API 接受 <code>ErrorEvent</code> 类型的对象，这与浏览器原生返回的错误事件类型不匹配。如果你要将 <code>ErrorEvent</code> 与 <code><a href=\"api/common/http/testing/TestRequest\" class=\"code-anchor\">TestRequest</a></code> 一起使用，就应该切换到 <code>ProgressEvent</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7n7krael90ll3jdglt5di1nlb\">这是使用 <code>ProgressEvent</code> 的示例：</p>\n<code-example format=\"typescript\" language=\"typescript\">\n\nconst mockError = new ProgressEvent('error');\nconst mockRequest = httpTestingController.expectOne(..);\n\nmockRequest.error(mockError);\n\n</code-example>\n<p><a id=\"deprecated-cli-flags\"></a></p>\n<h2 id=\"deprecated-cli-apis-and-options\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9pmhx3zo9fb3c10bwzvmnrxy3\">弃用的 CLI API 和选项<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#deprecated-cli-apis-and-options\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"buzu8k2pqzz8vczxab5vvi5ys\">本节包含所有当前已弃用的 CLI 标志的完整列表。</p>\n<h3 id=\"angular-devkitbuild-angular\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5g2p35b6mn5mmextdlqnrzq9o\">@angular-devkit/build-angular<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#angular-devkitbuild-angular\"><i class=\"material-icons\">link</i></a></h3>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c20uaon1jeaw8td9lsw8vm2p2\">API/选项</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqcwv7weivlba29jondvoo3zj\">可能在某个时候移除</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>deployUrl</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a2it37o38w3e25qyj839te9j4\"><!--v13--> v15</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5jzmv665mtbsil5s1jnzl9jao\">使用\n<code>baseHref</code>选项、\n<code><a href=\"api/common/APP_BASE_HREF\" class=\"code-anchor\">APP_BASE_HREF</a></code> DI 令牌或两者的组合代替。有关更多信息，请参阅\n<a href=\"guide/deployment#the-deploy-url\">部署 URL</a>。</td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2rxv2f3jfm76zedfe67wozavm\">Protractor 构建器</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eqiy9ofe3h41i7dfqribdj809\"><!--v12--> v14</td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c41ag8jx7q288gntrn0qm4qcg\">作为 Protractor 弃用的一部分。</td>\n</tr>\n</tbody>\n</table>\n<p><a id=\"removed\"></a></p>\n<h2 id=\"removed-apis\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dtyed4nlzoz8bcsiyz4ymgplg\">删除的 API<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#removed-apis\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ery4t60ofvb9th2snsjzcqip6\">从 11.0.0*开始，已经移除了以下 API：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1xgsw2mzyxp4abkks03qoyo30\">包</th>\n<th align=\"left\">API</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b60cmg37kstj9qup38pt8swfn\">替代品</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>@angular/router</code></td>\n<td align=\"left\"><code>preserveQueryParams</code></td>\n<td align=\"left\"><a href=\"api/router/UrlCreationOptions#queryParamsHandling\"><code>queryParamsHandling</code></a></td>\n<td align=\"left\"></td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9k6vbxtfbczk4ejtygi4rligo\">* 要查看版本 10 中移除的 API，请查看 <a href=\"https://v10.angular.cn/guide/deprecations#removed\">版本 10 文档站点</a>上的本指南。</p>\n<p><a id=\"style-sanitization\"></a></p>\n<h3 id=\"style-sanitization-for-style-and-styleprop-bindings\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ded9y9wmp1rhwi8ogzl83yjft\"><code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]</code> 和 <code>[style.prop]</code> 绑定的样式清理<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#style-sanitization-for-style-and-styleprop-bindings\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9byuxjl73a0fenwhjdi8o9hoj\">Angular 会清理 <code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]</code> 和 <code>[style.prop]</code> 绑定，以防止恶意代码通过 CSS <code>url()</code> 条目中的 <code>javascript:</code> 表达式进行插入。但是，大多数现代浏览器都已不再支持这些表达式的使用，所以这种清理只对 IE 6 和 7 才有意义。鉴于 Angular 不支持 IE 6 或 7，并且这种清理有性能代价，因此我们将不再清理 Angular 版本 10 中的样式绑定。</p>\n<h3 id=\"loadchildren-string-syntax-in-angularrouter\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"83v9qp83nxfiwdyr9lqqwjuqt\"><code>@angular/router</code> 中的 <code>loadChildren</code> 字符串语法<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#loadchildren-string-syntax-in-angularrouter\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dznow9yfimlsa3jndnkydpb7r\">不能再用 <code>loadChildren</code> 字符串语法来配置惰性路由。字符串语法已替换为动态导入语句。<code>DeprecatedLoadChildren</code> 类型已从 <code>@angular/router</code> 中删除。在 <a href=\"api/router/LoadChildrenCallback\"><code>LoadChildrenCallback</code> 文档</a>中查找有关本替换的更多信息。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"en96q2dt87l9wsv4feqnnc2jj\">支持类 <code>NgModuleFactoryLoader</code> 、 <code>SystemJsNgModuleLoader</code> 和 <code>SystemJsNgModuleLoaderConfig</code> 类已从 <code>@angular/core</code> 中删除，并且 <code>SpyNgModuleFactoryLoader</code> 已从 <code>@angular/router</code> 中删除。</p>\n<h3 id=\"wrappedvalue\"><code>WrappedValue</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/deprecations#wrappedvalue\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3xv2yot74dx7gqbie31c34waz\"><code>WrappedValue</code>的目的是允许同一对象实例在变更检测目的上被视为不同。它通常与\n<code>async</code>管道一起使用，当\n<code>Observable</code>生成相同实例的值时常见。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"54e5j14022cgnpqlaibafcz9q\">鉴于此用例相对较少且特殊处理会影响应用程序性能，<code>WrappedValue</code> API 已在 Angular 13 中删除。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8huqm9scyj9s3o1tdsal9e4xh\">如果你依赖同一个对象实例应该引起变更检测的行为，你有两个选择：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"90ir5unzq1hylphg988wzwpqi\">克隆结果值，使其具有新的标识。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3j97oq3rtrf83gktoolxwuf5v\">显式调用<a href=\"api/core/ChangeDetectorRef#detectchanges\"><code>ChangeDetectorRef.detectChanges()</code></a>以强制更新</li>\n</ul>\n<!-- links -->\n<!-- end links -->\n\n  <div class=\"reviewed\">最后复查时间：Tue Sep 26 2023</div>\n</div>\n\n\n<!-- links to this doc:\n - api/core\n - api/core/Compiler\n - api/core/CompilerFactory\n - api/core/ModuleWithComponentFactories\n - api/core/ModuleWithProviders\n - api/core/NgModuleFactory\n - api/forms/FormControlDirective\n - api/forms/FormControlName\n - api/platform-browser-dynamic\n - api/platform-browser-dynamic/JitCompilerFactory\n - api/upgrade\n - guide/lazy-loading-ngmodules\n - guide/releases\n - guide/testing-services\n - guide/update-to-version-14\n-->\n<!-- links from this doc:\n - /guide/glossary#aot\n - /guide/glossary#jit\n - api\n - api/animations/browser/AnimationDriver#NOOP\n - api/animations/browser/NoopAnimationDriver\n - api/animations/style\n - api/animations/trigger\n - api/common/APP_BASE_HREF\n - api/common/DATE_PIPE_DEFAULT_OPTIONS\n - api/common/DATE_PIPE_DEFAULT_TIMEZONE\n - api/common/NgComponentOutlet\n - api/common/NgComponentOutlet#ngComponentOutletNgModule\n - api/common/NgFor\n - api/common/http\n - api/common/http/HttpClient\n - api/common/http/testing/HttpTestingController\n - api/common/http/testing/TestRequest\n - api/common/isPlatformWorkerApp\n - api/common/isPlatformWorkerUi\n - api/core/APP_ID\n - api/core/ApplicationRef#bootstrap\n - api/core/ChangeDetectorRef#detectchanges\n - api/core/Compiler\n - api/core/CompilerFactory\n - api/core/Component\n - api/core/Component#moduleId\n - api/core/ComponentFactory\n - api/core/ComponentFactoryResolver\n - api/core/ContentChild\n - api/core/DefaultIterableDiffer\n - api/core/EnvironmentInjector#runInContext\n - api/core/Injectable\n - api/core/Injectable#providedIn\n - api/core/InjectionToken\n - api/core/Input\n - api/core/ModuleWithComponentFactories\n - api/core/ModuleWithProviders\n - api/core/NgModule\n - api/core/NgModuleFactory\n - api/core/NgProbeToken\n - api/core/PACKAGE_ROOT_URL\n - api/core/PlatformRef#bootstrapModule\n - api/core/PlatformRef#bootstrapModuleFactory\n - api/core/StateKey\n - api/core/TemplateRef\n - api/core/TransferState\n - api/core/Type\n - api/core/ViewChild\n - api/core/ViewContainerRef#createComponent\n - api/core/createComponent\n - api/core/createNgModule\n - api/core/defineInjectable\n - api/core/getModuleFactory\n - api/core/getNgModuleById\n - api/core/makeStateKey\n - api/core/ng-template\n - api/core/runInInjectionContext\n - api/core/testing/TestBed\n - api/core/testing/TestBed#get\n - api/core/testing/TestBed#inject\n - api/core/testing/async\n - api/core/testing/waitForAsync\n - api/forms/AbstractControlOptions\n - api/forms/FormBuilder#group\n - api/forms/FormControl\n - api/forms/FormControlDirective\n - api/forms/FormGroup\n - api/forms/NgModel\n - api/forms/ReactiveFormsModule\n - api/platform-browser-dynamic/JitCompilerFactory\n - api/platform-browser-dynamic/RESOURCE_CACHE_PROVIDER\n - api/platform-browser/BrowserModule#withservertransition\n - api/platform-browser/bootstrapApplication\n - api/platform-server/PlatformConfig\n - api/platform-server/ServerModule\n - api/platform-server/ServerTransferStateModule\n - api/platform-server/platformDynamicServer\n - api/platform-server/platformServer\n - api/platform-server/renderApplication\n - api/router/CanActivate\n - api/router/CanDeactivate\n - api/router/CanLoad\n - api/router/CanMatch\n - api/router/CanMatchFn\n - api/router/DeprecatedGuard\n - api/router/LoadChildren\n - api/router/LoadChildrenCallback\n - api/router/NavigationError\n - api/router/ROUTES\n - api/router/Route\n - api/router/Router\n - api/router/RouterLink\n - api/router/RouterLinkWithHref\n - api/router/RouterModule#forRoot\n - api/router/Routes\n - api/router/UrlCreationOptions#queryParamsHandling\n - api/router/UrlSerializer\n - api/router/mapToCanActivate\n - api/router/mapToCanMatch\n - api/router/provideRouter\n - api/router/provideRoutes\n - api/router/withRouterConfig\n - api/upgrade\n - api/upgrade/static\n - api/upgrade/static/downgradeModule\n - api/upgrade/static/getAngularJSGlobal\n - api/upgrade/static/getAngularLib\n - api/upgrade/static/setAngularJSGlobal\n - api/upgrade/static/setAngularLib\n - api?status=deprecated\n - cli/update\n - guide/angular-compiler-options\n - guide/aot-compiler\n - guide/component-styles#deprecated-deep--and-ng-deep\n - guide/deployment#the-deploy-url\n - guide/deprecations#angular-devkitbuild-angular\n - guide/deprecations#angularanimations\n - guide/deprecations#angularcommon\n - guide/deprecations#angularcore\n - guide/deprecations#angularcoretesting\n - guide/deprecations#angularforms\n - guide/deprecations#angularplatform-browser\n - guide/deprecations#angularplatform-browser-dynamic\n - guide/deprecations#angularplatform-server\n - guide/deprecations#angularrouter\n - guide/deprecations#angularupgrade\n - guide/deprecations#angularupgradestatic\n - guide/deprecations#bind--on--bindon--and-ref--prefixes\n - guide/deprecations#bind-syntax\n - guide/deprecations#binding-to-innertext-in-platform-server\n - guide/deprecations#canload-guards\n - guide/deprecations#cannot-assign-to-template-variables\n - guide/deprecations#common\n - guide/deprecations#contentchild--input-used-together\n - guide/deprecations#core\n - guide/deprecations#deep--and-ng-deep-component-style-selectors\n - guide/deprecations#deep-component-style-selector\n - guide/deprecations#dependency-on-a-reflect-metadata-polyfill-in-jit-mode\n - guide/deprecations#deprecated-apis\n - guide/deprecations#deprecated-apis-and-features\n - guide/deprecations#deprecated-cli-apis-and-options\n - guide/deprecations#deprecated-features\n - guide/deprecations#deprecated-features-that-can-be-removed-in-v11-or-later\n - guide/deprecations#deprecated-features-that-can-be-removed-in-v12-or-later\n - guide/deprecations#deprecated-features-that-can-be-removed-in-v14-or-later\n - guide/deprecations#deprecated-features-that-can-be-removed-in-v15-or-later\n - guide/deprecations#deprecated-features-that-can-be-removed-in-v16-or-later\n - guide/deprecations#deprecated-features-that-can-be-removed-in-v17-or-later\n - guide/deprecations#deprecated-features-that-can-be-removed-in-v18-or-later\n - guide/deprecations#deprecated-features-that-can-be-removed-in-v19-or-later\n - guide/deprecations#deprecated-features-with-no-planned-removal-version\n - guide/deprecations#entryComponents\n - guide/deprecations#entrycomponents-and-analyze_for_entry_components-no-longer-required\n - guide/deprecations#full-template-type-check\n - guide/deprecations#fulltemplatetypecheck\n - guide/deprecations#index\n - guide/deprecations#input-setter-coercion\n - guide/deprecations#jit-api-changes\n - guide/deprecations#jit-api-changes-due-to-viewengine-deprecation\n - guide/deprecations#loadchildren-string-syntax-in-angularrouter\n - guide/deprecations#loadchildren-string-syntax-ngmodule\n - guide/deprecations#modulewithproviders-type-without-a-generic\n - guide/deprecations#ngmodel-reactive\n - guide/deprecations#ngmodel-with-reactive-forms\n - guide/deprecations#platform-browser\n - guide/deprecations#platform-browser-dynamic\n - guide/deprecations#platform-server\n - guide/deprecations#public-router-properties\n - guide/deprecations#reflect-metadata\n - guide/deprecations#removed-apis\n - guide/deprecations#router\n - guide/deprecations#router-can-load\n - guide/deprecations#router-class-and-injection-token-guards\n - guide/deprecations#router-class-and-injectiontoken-guards-and-resolvers\n - guide/deprecations#router-writable-properties\n - guide/deprecations#style-sanitization-for-style-and-styleprop-bindings\n - guide/deprecations#template-tag\n - guide/deprecations#testing\n - guide/deprecations#testrequest-accepting-errorevent\n - guide/deprecations#testrequest-errorevent\n - guide/deprecations#upgrade\n - guide/deprecations#upgrade-static\n - guide/deprecations#viewchild--contentchild-static-resolution-as-the-default\n - guide/deprecations#web-tracing-framework-integration\n - guide/deprecations#wrappedvalue\n - guide/deprecations#wtfstarttimerange-and-all-wtf-apis\n - guide/migration-module-with-providers\n - guide/ngmodules\n - guide/releases#deprecation-policy\n - guide/standalone-components\n - guide/standalone-components#routing-and-lazy-loading\n - guide/static-query-migration\n - guide/template-typecheck#input-setter-coercion\n - guide/upgrade\n - https://developers.google.com/web/updates/2017/10/remove-shadow-piercing\n - https://github.com/angular/angular-cli/blob/a491b09800b493fe01301387fa9a025f7c7d4808/packages/ngtools/webpack/src/transformers/import_factory.ts#L104-L113\n - https://github.com/angular/angular-cli/pull/14473\n - https://github.com/angular/angular/blob/main/CHANGELOG.md\n - https://github.com/angular/angular/issues/40091\n - https://github.com/angular/angular/issues/43133\n - https://github.com/angular/components/blob/main/CHANGELOG.md\n - https://github.com/fgnass/domino\n - https://github.com/rbuckton/reflect-metadata\n - https://google.github.io/tracing-framework\n - https://update.angular.io\n - https://v10.angular.io/guide/deprecations#removed\n - https://www.typescriptlang.org/docs/handbook/release-notes/typescript-4-3.html#separate-write-types-on-properties\n-->"}