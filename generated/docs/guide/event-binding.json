{"id":"guide/event-binding","title":"事件繫結","contents":"<div class=\"content\">\n  <h1 id=\"event-binding\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ehfop80m9e0igm4pklg35r7g8\">事件繫結<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#event-binding\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3yuuifrn99fjd2z8cu6qsmbep\">透過事件繫結，你可以偵聽並回應使用者操作，比如按鍵、滑鼠移動、點選和觸控。</p>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"81el5yk7yllx1tewd03bnp7o0\">本章包含程式碼片段的工作實例參閱<live-example></live-example>。</p>\n</div>\n<h2 id=\"prerequisites\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e44b21uig1fakj5vcfuvz1bdu\">前提條件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f2juqutjpadle5b16ec0pok4o\"><a href=\"guide/architecture-components\">元件基礎</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1basrmrmsgqz0ktslwd53at7b\"><a href=\"guide/glossary#template\">範本基礎</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7boobbok84b51i60fmn6nurfv\"><a href=\"guide/binding-syntax\">綁定語法</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2f1axmc62ssz3pt6hgsd9y608\"><a href=\"guide/template-statements\">範本語句</a></li>\n</ul>\n<h2 id=\"binding-to-events\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"erfsd41b6e1mz0lhomzxkgqre\">繫結到事件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-events\"><i class=\"material-icons\">link</i></a></h2>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dfrwot8r8dkzq7j66hzq75te5\">有關繫結到屬性的訊息，請參閱\n<a href=\"guide/property-binding\">事件繫結</a>。</p>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"j6h18r716p9u42sqtyfs0w3u\">要繫結到事件，你可以使用 Angular 事件繫結語法。此語法由等號左側括號中的目標事件名稱和右側帶引號的範本語句組成。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4nqp4ymyxml8as2hsvbd0xm38\">建立以下範例；目標事件名是 <code>click</code>，範本語句是 <code>onSave()</code>。</p>\n<code-example language=\"html\" header=\"Event binding syntax\">\n&lt;button (click)=\"onSave()\"&gt;Save&lt;/button&gt;\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"697nrdag4ntqh890ax27v3fk6\">事件繫結偵聽按鈕的單擊事件，並在發生單擊時調用元件的 <code>onSave()</code>。</p>\n<div class=\"lightbox\">\n  <img src=\"generated/images/guide/template-syntax/syntax-diagram.svg\" alt=\"Syntax diagram\" width=\"600\" height=\"125\">\n</div>\n<h3 id=\"determining-an-event-target\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"484eoa80az4ekkrmtedqlto0p\">確定事件目標<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#determining-an-event-target\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5uyab5kvpneu7sw8igz3jbsun\">為了確定事件目標，Angular 會檢查目標事件的名稱是否與已知指令的 event 屬性對應。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5l8fedq5z45o1ikox5sccw0xp\">建立以下範例：（Angular 會檢查 <code>myClick</code> 是否是自定義 <code>ClickDirective</code> 上的事件）</p>\n<code-example path=\"event-binding/src/app/app.component.html\" region=\"custom-directive\" header=\"src/app/app.component.html\">\n&lt;h4&gt;myClick is an event on the custom ClickDirective:&lt;/h4&gt;\n&lt;button type=\"button\" (myClick)=\"clickMessage=$event\" clickable&gt;click with myClick&lt;/button&gt;\n{{clickMessage}}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"862nh724ipnye53nnb5srkvj4\">如果目標事件名稱 <code>myClick</code> 與 <code>ClickDirective</code> 的輸出屬性不對應，Angular 將改為繫結到基礎 DOM 元素上的 <code>myClick</code> 事件。</p>\n<h2 id=\"binding-to-keyboard-events\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"akmxq1oky1qbv1gsdp9brl6c5\">繫結到鍵盤事件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-keyboard-events\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3mik62f8b2nxs9ez9u8ozs8zp\">你可以用 Angular 的綁定語法繫結到鍵盤事件。你可以指定要繫結到鍵盤事件的鍵值或程式碼。它們的 <code>key</code> 和 <code>code</code> 欄位是瀏覽器鍵盤事件物件的原生部分。預設情況下，事件繫結假定你要使用鍵盤事件上的 <code>key</code> 欄位。你還可以用 <code>code</code> 欄位。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6flu1cycrdf1o6ubvb7t04wkn\">鍵的組合可以用點（<code>.</code>）分隔。例如，<code>keydown.enter</code> 將允許你將事件繫結到 <code>enter</code> 鍵。你還可以用修飾鍵，例如 <code>shift</code> 、 <code>alt</code> 、 <code>control</code> 和 Mac 中的 <code>command</code> 鍵。以下範例展示了如何將鍵盤事件繫結到 <code>keydown.shift.t</code>。</p>\n<code-example language=\"html\">\n&lt;input (keydown.shift.t)=\"onKeydown($event)\" /&gt;\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7hrkyfwur5pxp3gu0tg9jdvid\">根據作業系統的不同，某些組合鍵可能會建立特殊字元，而不是你期望的組合鍵。例如，當你同時使用 option 和 shift 鍵時，MacOS 會建立特殊字元。如果你繫結到 <code>keydown.shift.alt.t</code>，在 macOS 上，該組合會生成 <code>ˇ</code> 而不是 <code>t</code>，它與繫結不對應，也不會觸發你的事件處理程式。要繫結到 macOS 上的 <code>keydown.shift.alt.t</code>，請使用 <code>code</code> 鍵盤事件欄位來獲取正確的行為，例如此範例中顯示的 <code>keydown.code.shiftleft.altleft.keyt</code>。</p>\n<code-example language=\"html\">\n&lt;input (keydown.code.shiftleft.altleft.keyt)=\"onKeydown($event)\" /&gt;\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"anktdcwsb67e70iv591l9d1v8\"><code>code</code> 欄位比 <code>key</code> 欄位更具體。<code>key</code> 欄位總是會報告 <code>shift</code>，而 <code>code</code> 欄位將指明 <code>leftshift</code> 或 <code>rightshift</code>。使用 <code>code</code> 欄位時，你可能需要新增單獨的繫結以捕獲你想要的所有行為。使用 <code>code</code> 欄位時無需處理作業系統特有的行為，例如 macOS 上的 <code>shift + option</code> 行為。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4d3w24gz7ysvt2azvjs4tzg8p\">有關更多訊息，請訪問<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\">鍵值</a>和<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values\">鍵碼</a>的完整參考，以幫助你建立事件字串。</p>\n<h2 id=\"binding-to-passive-events\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"22f3koerv070jxsx8wxhjscf1\">繫結到被動事件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#binding-to-passive-events\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9icfni1l6f2oakulg9x3ca38u\">Angular 還支援\n<a href=\"https://developer.chrome.com/en/docs/lighthouse/best-practices/uses-passive-event-listeners/\">被動事件</a>監聽器。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ccyd0f27lr4l4uw74b38lfs1x\">這是一個高階技術，對於大多數應用程式來說並非必需。如果您需要最佳化處理頻繁發生的導致效能問題的事件，您可能會發現這很有用。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7oh1h0ei144rsw8id30n2porl\">例如，使用以下步驟使捲動事件變 passiv。</p>\n<ol>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7tmd5i6acbneaajwvtwiwx3v4\">在 <code>src</code> 目錄下建立一個檔案 <code>zone-flags.ts</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eyxeihojmte8rjnz3yazhcl9w\">將以下行新增到此檔案中。 \n<code-example language=\"typescript\">\n  (window as any)['__zone_symbol__PASSIVE_EVENTS'] = ['scroll']; \n</code-example></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9wxu1advhqn4mkla2ux48269n\">在 \n<code>src/polyfills.ts</code> 檔案中，在匯入 zone.js 之前，匯入新創建的 \n<code>zone-flags</code>。 \n<code-example language=\"typescript\">\n  import './zone-flags'; import 'zone.js'; // 包含在 Angular CLI 中。 \n</code-example></li>\n</ol>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6k99xiju5qif9ge6mvtcep509\">在這些步驟之後，如果你為 <code>scroll</code> 事件新增事件偵聽器，偵聽器就會是 <code>passive</code> 的。</p>\n<h2 id=\"whats-next\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"407r2fj2mi5kvg7imj9zdcpe\">下一步呢？<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/event-binding#whats-next\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"drgo6qs2d416h44h219ok8tuf\">關於事件繫結工作原理的更多訊息，請參閱<a href=\"guide/event-binding-concepts\">事件繫結工作原理</a>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"mfyxx87fibqbnu58gbuv5vkk\"><a href=\"guide/property-binding\">屬性繫結</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cnor5fuai7856ka52hmiklm7k\"><a href=\"guide/interpolation\">文字內嵌</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"pmgobrf7ht0v6oo28ihppae5\"><a href=\"guide/two-way-binding\">雙向繫結</a></li>\n</ul>\n\n  <div class=\"reviewed\">最後複查時間：Fri Sep 01 2023</div>\n</div>\n\n\n<!-- links to this doc:\n - extended-diagnostics/NG8101\n - guide/ajs-quick-reference\n - guide/binding-overview\n - guide/built-in-directives\n - guide/example-apps-list\n - guide/glossary\n - guide/inputs-outputs\n - guide/interpolation\n - guide/property-binding\n - guide/template-overview\n - guide/template-syntax\n - guide/two-way-binding\n - guide/user-input\n - tutorial/tour-of-heroes/toh-pt2\n - tutorial/tour-of-heroes/toh-pt4\n-->\n<!-- links from this doc:\n - guide/architecture-components\n - guide/binding-syntax\n - guide/event-binding#binding-to-events\n - guide/event-binding#binding-to-keyboard-events\n - guide/event-binding#binding-to-passive-events\n - guide/event-binding#determining-an-event-target\n - guide/event-binding#event-binding\n - guide/event-binding#prerequisites\n - guide/event-binding#whats-next\n - guide/event-binding-concepts\n - guide/glossary#template\n - guide/interpolation\n - guide/property-binding\n - guide/template-statements\n - guide/two-way-binding\n - https://developer.chrome.com/en/docs/lighthouse/best-practices/uses-passive-event-listeners/\n - https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values\n - https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_key_values\n-->"}