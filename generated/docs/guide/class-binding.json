{"id":"guide/class-binding","title":"类和样式绑定","contents":"<div class=\"content\">\n  <h1 id=\"class-and-style-binding\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"assyi5zabqc72vf3e5urepu0v\">类和样式绑定<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#class-and-style-binding\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"23qsafv64fz789gvctzm6c9bc\">使用类和样式绑定从元素的 <code>class</code> 属性中添加和删除 CSS 类名，以及动态设置样式。</p>\n<h2 id=\"prerequisites\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e44b21uig1fakj5vcfuvz1bdu\">前提条件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#prerequisites\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"mfyxx87fibqbnu58gbuv5vkk\"><a href=\"guide/property-binding\">属性绑定</a></li>\n</ul>\n<h2 id=\"binding-to-a-single-css-class\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3bw82uq06i8g491phtyagu920\">绑定到单个 CSS <code>class</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#binding-to-a-single-css-class\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"beo10xqarcxsckzm7svfuuukr\">要创建单个类绑定，请键入以下内容：</p>\n<p><code>[class.sale]=\"onSale\"</code></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"atg2vi3a5f6gi7hbmbwad4nxo\">当绑定表达式\n<code>onSale</code>为真值时，Angular会添加该类，并在表达式为假值时移除该类，但除\n<code>undefined</code>之外。有关更多信息，请参阅\n<a href=\"guide/style-precedence#styling-delegation\">样式委托</a>。</p>\n<h2 id=\"binding-to-multiple-css-classes\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3a5ajrzh5j5xcj1766pce2jnp\">绑定到多个 CSS 类<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#binding-to-multiple-css-classes\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"715v9hzazokogr1mkb46qr9xy\">要绑定到多个类，请键入以下内容：</p>\n<p><code>[class]=\"classExpression\"</code></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7b7xa6lbxk57sndn87ij3vs8c\">表达式可以是以下之一：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7qb9ezxarkvx2rpzf1h2vu8ox\">用空格分隔的类名字符串。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c46pm1ecorzpp0g8745ovso0r\">以类名作为键名并将真或假表达式作为值的对象。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dlv20hbbdq5jhoemgyuhmsqdu\">类名的数组。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eu5kpf1obnthsjwvnccoid0qx\">对于对象格式，Angular 会在其关联的值为真时才添加类。</p>\n<div class=\"alert is-important\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3w6fkav4qduabvwkbdfnolz47\">对于任何类似对象的表达式（比如 <code>object</code>、<code>Array</code>、<code>Map</code> 或 <code>Set</code>，必须更改对象的引用，Angular 才能更新类列表。在不更改对象引用的情况下只更新其 Attribute 是不会生效的。</p>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ehkp5qid4xgovoshrlcedhuy8\">如果同一类名有多个绑定，Angular 会根据<a href=\"guide/style-precedence\">样式优先级</a>来确定要使用的绑定。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e77o820r9uroixysgfaen6taa\">下表是各种类绑定语法的小结。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dzjosf4yft4hsdtniydthd3cl\">绑定类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8p44mx807exjp3s0k9dwbuxla\">语法</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9wjalny2ts026ntr2szg1f04k\">输入类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dumjd9vren04oizldbqj05511\">示例输入值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4kaye1rqffd376ttv7x5i7641\">单类绑定</td>\n<td align=\"left\"><code>[class.sale]=\"onSale\"</code></td>\n<td align=\"left\"><code>boolean | undefined | null</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"xpt72lyo8fmw7prm6wkw0xrs\"><code>true</code>, \n<code>false</code></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8lqith1tmahjwdbfpd8u8z58z\">多类绑定</td>\n<td align=\"left\"><code>[class]=\"classExpression\"</code></td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"><code>\"my-class-1 my-class-2 my-class-3\"</code></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8lqith1tmahjwdbfpd8u8z58z\">多类绑定</td>\n<td align=\"left\"><code>[class]=\"classExpression\"</code></td>\n<td align=\"left\"><code>Record&lt;string, boolean | undefined | null&gt;</code></td>\n<td align=\"left\"><code>{foo: true, bar: false}</code></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8lqith1tmahjwdbfpd8u8z58z\">多类绑定</td>\n<td align=\"left\"><code>[class]=\"classExpression\"</code></td>\n<td align=\"left\"><code>Array&lt;string&gt;</code></td>\n<td align=\"left\"><code>['foo', 'bar']</code></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"binding-to-a-single-style\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7l03sp5peo82okj591ht0v76v\">绑定到单一样式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#binding-to-a-single-style\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dofq2h8ergoxjzv3t4g9cv301\">要创建单个样式绑定，请使用 <code><a href=\"api/animations/style\" class=\"code-anchor\">style</a></code> 前缀，后跟一个点和 CSS 样式的名称。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"26574vekg2wi9psigda0qhxoi\">比如，要设置 'width' 样式，请键入以下内容：<code>[style.width]=\"width\"</code></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5uygr5br9ppuws62v3zjj0js6\">Angular 将该属性设置为绑定表达式的值，这通常是一个字符串。（可选）你可以添加单位扩展名，比如 <code>em</code> 或 <code>%</code>，这需要数字类型。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7qs8olwhi0gv3zx4xeaalcxjj\">要以中线格式（dash-case）编写样式，请键入以下内容：</p>\n<code-example language=\"html\">&lt;nav [style.background-color]=\"expression\"&gt;&lt;/nav&gt;</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c66sujj0d829xfvqfwxpwb59g\">要以驼峰格式（camelCase）编写样式，请键入以下内容：</p>\n<code-example language=\"html\">&lt;nav [style.backgroundColor]=\"expression\"&gt;&lt;/nav&gt;</code-example>\n</li>\n</ol>\n<h2 id=\"binding-to-multiple-styles\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6au2qi8s1ian8xch3kijr7lck\">绑定到多个样式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#binding-to-multiple-styles\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3rsjtbdj2mmqotzqgmge8a8va\">要切换多个样式，请绑定到\n<code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]</code>属性，例如：\n<code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]=\"styleExpression\"</code>。 \n<code>styleExpression</code>可以是以下之一：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ai7xtertftceia0uxqi0qe54c\">样式的字符串列表，比如 <code>\"width: 100px; height: 100px; background-color: cornflowerblue;\"</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bdutc6wirdfr3jce969pj591x\">一个对象，其键名是样式名，其值是样式值，比如 <code>{width: '100px', height: '100px', backgroundColor: 'cornflowerblue'}</code>。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8lq6xshsan4k5ptviscgti7fc\">注意，不支持把数组绑定给 <code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]</code>。</p>\n<div class=\"alert is-important\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5q7dsqzlcy2oad7otsprj0lx5\">当把 <code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]</code> 绑定到对象表达式时，该对象的引用必须改变，这样 Angular 才能更新这个类列表。在不改变对象引用的情况下更新其属性值是不会生效的。</p>\n</div>\n<h3 id=\"single-and-multiple-style-binding-example\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ax1240ih8rdynx8d4mjfnrr2k\">单样式和多样式绑定示例<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#single-and-multiple-style-binding-example\"><i class=\"material-icons\">link</i></a></h3>\n<code-example path=\"attribute-binding/src/app/single-and-multiple-style-binding.component.ts\" header=\"nav-bar.component.ts\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  standalone: true,\n  selector: 'app-nav-bar',\n  template: ` &lt;nav [<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]=\"navStyle\"&gt;\n    &lt;a [style.text-decoration]=\"activeLinkStyle\"&gt;Home Page&lt;/a&gt;\n    &lt;a [style.text-decoration]=\"linkStyle\"&gt;Login&lt;/a&gt;\n  &lt;/nav&gt;`,\n})\nexport class NavBarComponent {\n  navStyle = 'font-size: 1.2rem; color: cornflowerblue;';\n  linkStyle = 'underline';\n  activeLinkStyle = 'overline';\n  /* . . . */\n}\n\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2a4jiqepr7v4q2osst5dvg20i\">如果同一个样式 Attribute 有多个绑定，Angular 将使用<a href=\"guide/style-precedence\">样式优先级</a>来确定要使用的绑定。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"94l2jip3l9cpxnehrjo1ayed3\">下表是各种样式绑定语法的小结。</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dzjosf4yft4hsdtniydthd3cl\">绑定类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8p44mx807exjp3s0k9dwbuxla\">语法</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9wjalny2ts026ntr2szg1f04k\">输入类型</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dumjd9vren04oizldbqj05511\">示例输入值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eztt61asiwgh8z5o2ylvu1gxd\">单样式绑定</td>\n<td align=\"left\"><code>[style.width]=\"width\"</code></td>\n<td align=\"left\"><code>string | undefined | null</code></td>\n<td align=\"left\"><code>\"100px\"</code></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9bbzclz5e9o89c0gxuvxlb2mi\">带单位的单样式绑定</td>\n<td align=\"left\"><code>[style.width.px]=\"width\"</code></td>\n<td align=\"left\"><code>number | undefined | null</code></td>\n<td align=\"left\"><code>100</code></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d9srdzvw6da8q01rdn7rqbnua\">多样式绑定</td>\n<td align=\"left\"><code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]=\"styleExpression\"</code></td>\n<td align=\"left\"><code>string</code></td>\n<td align=\"left\"><code>\"width: 100px; height: 100px\"</code></td>\n</tr>\n<tr>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d9srdzvw6da8q01rdn7rqbnua\">多样式绑定</td>\n<td align=\"left\"><code>[<a href=\"api/animations/style\" class=\"code-anchor\">style</a>]=\"styleExpression\"</code></td>\n<td align=\"left\"><code>Record&lt;string, string | undefined | null&gt;</code></td>\n<td align=\"left\"><code>{width: '100px', height: '100px'}</code></td>\n</tr>\n</tbody>\n</table>\n<a id=\"styling-precedence\"></a>\n<h2 id=\"styling-precedence\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3t0pczavyz38igl8zzn38bizq\">样式优先级<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#styling-precedence\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ez5lwj512tsnptebd71f5eh6h\">一个 HTML 元素可以将其 CSS 类列表和样式值绑定到多个源（比如，来自多个指令的宿主绑定）。</p>\n<h2 id=\"whats-next\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ll381kx5kaawqp659sqtiywr\">下一步呢？<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/class-binding#whats-next\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"42k53pri0y8he8r764pkhh2ad\"><a href=\"/guide/component-styles\">组件样式</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ca03bkhh1g5zheh7wty34ggob\"><a href=\"/guide/animations\">Angular 动画介绍</a></li>\n</ul>\n\n  <div class=\"reviewed\">最后复查时间：Mon May 09 2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/ajs-quick-reference\n - guide/attribute-binding\n - guide/built-in-directives\n - guide/glossary\n - guide/property-binding\n - guide/router-tutorial-toh\n - guide/template-overview\n - tutorial/tour-of-heroes/toh-pt2\n-->\n<!-- links from this doc:\n - /guide/animations\n - /guide/component-styles\n - api/animations/style\n - api/core/Component\n - guide/class-binding#binding-to-a-single-css-class\n - guide/class-binding#binding-to-a-single-style\n - guide/class-binding#binding-to-multiple-css-classes\n - guide/class-binding#binding-to-multiple-styles\n - guide/class-binding#class-and-style-binding\n - guide/class-binding#prerequisites\n - guide/class-binding#single-and-multiple-style-binding-example\n - guide/class-binding#styling-precedence\n - guide/class-binding#whats-next\n - guide/property-binding\n - guide/style-precedence\n - guide/style-precedence#styling-delegation\n-->"}