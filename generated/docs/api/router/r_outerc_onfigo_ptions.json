{"id":"api/router/RouterConfigOptions","title":"RouterConfigOptions","contents":"<article>\n  <div class=\"breadcrumb-container\">\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n            { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io/api\", \"name\": \"API\" } },\n            { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/router\", \"name\": \"@angular/router\" } },\n            { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/router/RouterConfigOptions\", \"name\": \"RouterConfigOptions\" } }\n          ]\n        }\n      </script>\n        <a href=\"/api\">API</a> &gt; <a href=\"api/router\">@angular/router</a>\n    </div>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/router/src/router_config.ts#L49-L124\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  </div>\n  <header class=\"api-header\">\n    <h1 id=\"routerconfigoptions\">RouterConfigOptions<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/router/RouterConfigOptions#routerconfigoptions\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label interface\">interface</label>\n  </header>\n  \n\n  <div class=\"api-body\">\n  <section class=\"short-description\">\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dvet8w4ug6bcrlu0lvevruhaz\">可以与 <code><a href=\"api/router/withRouterConfig\" class=\"code-anchor\">withRouterConfig</a></code> 函数一起使用的额外配置选项。</p>\n\n  </section><section class=\"interface-overview\">\n<code-example language=\"ts\" hidecopy=\"true\">\ninterface <a href=\"api/router/RouterConfigOptions\" class=\"code-anchor\">RouterConfigOptions</a> {\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#canceledNavigationResolution\"><span class=\"member-name\">canceledNavigationResolution</span>?: 'replace' | 'computed'</a>\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#onSameUrlNavigation\"><span class=\"member-name\">onSameUrlNavigation</span>?: OnSameUrlNavigation</a>\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#paramsInheritanceStrategy\"><span class=\"member-name\">paramsInheritanceStrategy</span>?: 'emptyOnly' | 'always'</a>\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#urlUpdateStrategy\"><span class=\"member-name\">urlUpdateStrategy</span>?: 'deferred' | 'eager'</a>\n  <a class=\"code-anchor\" href=\"api/router/RouterConfigOptions#resolveNavigationPromiseOnError\"><span class=\"member-name\">resolveNavigationPromiseOnError</span>?: boolean</a>\n}\n</code-example>\n\n  <div class=\"descendants interface\">\n    <h2 id=\"子接口\">子接口<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/router/RouterConfigOptions#子接口\"><i class=\"material-icons\">link</i></a></h2>\n    \n<ul>\n  <li>\n    <code><a href=\"api/router/ExtraOptions\" class=\"code-anchor\">ExtraOptions</a></code>\n    \n  </li>\n</ul>\n  </div>\n\n</section>\n\n  \n  \n<section class=\"instance-properties\">\n  <a id=\"properties\"></a>\n  <h2 id=\"instance-properties\">属性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/router/RouterConfigOptions#instance-properties\"><i class=\"material-icons\">link</i></a></h2>\n  <table class=\"is-full-width list-table property-table\">\n    <thead>\n      <tr>\n        <th>属性</th>\n        <th>说明</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"canceledNavigationResolution\"></a>\n          <code class=\"\"><span class=\"member-name\">canceledNavigationResolution</span>?: 'replace' | '<a href=\"api/core/computed\" class=\"code-anchor\">computed</a>'</code>\n        </td>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c6j12kmrg5nhgnm82fm3bqumh\">配置在取消导航时路由器如何尝试恢复状态。</p>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2emdyon6ztttor9x93usbkube\">'replace' - 始终使用 <code>location.replaceState</code> 将浏览器状态设置为导航开始前的路由器状态。这意味着如果浏览器的 URL 在取消导航 <em> 之前 </em> 更新，则路由器将简单地替换历史记录中的项目，而不是尝试恢复到会话历史记录中的先前位置。这种情况最常发生在 <code>urlUpdateStrategy: 'eager'</code> 和使用浏览器后退/前进按钮的导航中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"37kt6dw8stne9nzzgwcws8q43\">“comped” - 当导航被取消时，将尝试返回会话历史记录中与 Angular 路由对应的同一个索引。例如，如果单击浏览器后退按钮并取消导航，则路由器将触发向前导航，反之亦然。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5vrhkjcor39s1joawuw3d9ryr\">注意：' <code><a href=\"api/router/UrlHandlingStrategy\" class=\"code-anchor\">UrlHandlingStrategy</a></code> ' 选项与任何仅处理一部分 URL 的 UrlHandlingStrategy 不兼容，因为历史恢复会导航到浏览器历史记录中的上一个位置，而不是简单地重置 URL 的一部分。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"at2ua60b8iahfznkbfkrl3kua\">默认值是未设置时的 <code>replace</code>。</p>\n\n        </td>\n      </tr>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"onSameUrlNavigation\"></a>\n          <code class=\"\"><span class=\"member-name\">onSameUrlNavigation</span>?: <a href=\"api/router/OnSameUrlNavigation\" class=\"code-anchor\">OnSameUrlNavigation</a></code>\n        </td>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7so56rifnf8llmq16blem1hy1\">配置处理对当前 URL 的导航请求的默认值。</p>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"731x43o0fsdkw5p808vnxgxdz\">参见:</p>\n\n          <p>参见：</p>\n          <ul>\n            <li><a href=\"api/router/OnSameUrlNavigation\"><code>OnSameUrlNavigation</code></a>\n</li>\n          </ul>\n        </td>\n      </tr>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"paramsInheritanceStrategy\"></a>\n          <code class=\"\"><span class=\"member-name\">paramsInheritanceStrategy</span>?: 'emptyOnly' | 'always'</code>\n        </td>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b93skb64dc8wk430ynnvtelj2\">定义路由器如何将参数、数据和来自父级到子级路由的已解析数据进行合并。</p>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"acaxc7lhq8yu2givkw88nh7kt\">默认情况下（'emptyOnly'），当路由本身具有空路径（意味着配置为 path: ''）或父级路由未设置任何组件时，路由会继承父路由的参数。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9aw4h2a4rlvv4btso3925pc7d\">设置为 “always” 时会始终启用父参数的无条件继承。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3q811uvxmz4do2lr6lx9yg2j4\">请注意，在处理矩阵参数时，“parent”是指父 <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> 配置，并不一定意味着“左侧的 URL 段”。当 <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> <code>path</code> 包含多个段时，矩阵参数必须出现在最后一个段上。例如，<code>{path: 'a/b', component: MyComp}</code> 矩阵参数应该显示为 <code>a/b;foo=bar</code> 而不是 <code>a;foo=bar/b</code>。</p>\n\n        </td>\n      </tr>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"urlUpdateStrategy\"></a>\n          <code class=\"\"><span class=\"member-name\">urlUpdateStrategy</span>?: 'deferred' | 'eager'</code>\n        </td>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bpvt1lqpdr4h9hmq9uklyg9uc\">定义路由器要何时更新浏览器 URL。默认情况下（“deferred”），在成功导航后进行更新。如果希望在导航开始时更新 URL，则设置为 “eager”。以便早期更新 URL，这样可以通过显示带有失败 URL 的错误消息来处理导航失败。</p>\n          \n        </td>\n      </tr>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"resolveNavigationPromiseOnError\"></a>\n          <code class=\"\"><span class=\"member-name\">resolveNavigationPromiseOnError</span>?: boolean</code>\n        </td>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ccrakk592ygxkbeq1dk2cudv7\">当为\n<code>true</code>时，\n<code>Promise</code>将改为以\n<code>false</code>解析，就像其他导航失败时（例如，当守卫被拒绝时）一样。</p>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"44oapm3zr0bu0elph6zlbpc9b\">否则，如果发生错误，路由器导航返回的\n<code>Promise</code>将被拒绝。</p>\n\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</section>\n  \n</div>\n</article>\n\n<!-- links to this doc:\n - api/router\n - api/router/ExtraOptions\n - api/router/NavigationBehaviorOptions\n - api/router/OnSameUrlNavigation\n - api/router/withRouterConfig\n - guide/router\n-->\n<!-- links from this doc:\n - /api\n - api/core/computed\n - api/router\n - api/router/ExtraOptions\n - api/router/OnSameUrlNavigation\n - api/router/Route\n - api/router/Router\n - api/router/RouterConfigOptions#canceledNavigationResolution\n - api/router/RouterConfigOptions#instance-properties\n - api/router/RouterConfigOptions#onSameUrlNavigation\n - api/router/RouterConfigOptions#paramsInheritanceStrategy\n - api/router/RouterConfigOptions#resolveNavigationPromiseOnError\n - api/router/RouterConfigOptions#routerconfigoptions\n - api/router/RouterConfigOptions#urlUpdateStrategy\n - api/router/RouterConfigOptions#子接口\n - api/router/UrlHandlingStrategy\n - api/router/withRouterConfig\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/router/src/router_config.ts#L49-L124\n-->"}