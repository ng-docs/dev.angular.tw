{"id":"api/core/for","title":"@for","contents":"<article>\n  <div class=\"breadcrumb-container\">\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n            { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io/api\", \"name\": \"API\" } },\n            { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/core\", \"name\": \"@angular/core\" } },\n            { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/core/for\", \"name\": \"@for\" } }\n          ]\n        }\n      </script>\n        <a href=\"/api\">API</a> &gt; <a href=\"api/core\">@angular/core</a>\n    </div>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/aio/content/blocks/core/for.md\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  </div>\n  <header class=\"api-header\">\n    <h1 id=\"for\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"yh8fjb0c5vv5cj54br99jrsk\">@for<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/for#for\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label block\">block</label>\n  </header>\n  \n\n  <div class=\"api-body\">\n  <section class=\"short-description\">\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6eprmf5n0274zvev8zmvmf6ng\"><code><a href=\"api/core/for\" class=\"code-anchor\">@for</a></code> 块会为集合中的每个条目重复渲染块的内容。</p>\n\n    <p><a href=\"api/core/for#description\">查看更多...</a></p>\n  </section>\n  \n    <h2 id=\"syntax\">语法<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/for#syntax\"><i class=\"material-icons\">link</i></a></h2>\n    <code-example language=\"html\">\n@for (item of items; track item.name) {\n&lt;li&gt;{{ item.name }}&lt;/li&gt;\n} @empty {\n&lt;li&gt;There are no items.&lt;/li&gt;\n}\n</code-example>\n\n  \n\n  \n<section class=\"description\">\n  <h2 id=\"description\">说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/for#description\"><i class=\"material-icons\">link</i></a></h2>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2rlagonrowke3mzukvkh08id7\"><code><a href=\"api/core/for\" class=\"code-anchor\">@for</a></code> 块会根据集合中的更改渲染其内容。集合可以是任何 JavaScript \n<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols\">可迭代对象</a>，但使用普通的 \n<code>Array</code> 会有性能优势。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6uxk5sub384qhujpm4bklljhm\">您可以选择在 \n<code><a href=\"api/core/for\" class=\"code-anchor\">@for</a></code> 块内容之后立即包含一个 \n<code>@empty</code> 部分。当没有条目时，\n<code>@empty</code> 块的内容会显示。</p>\n<h3 id=\"-track-and-objects-identity-\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ew6xats36j3t2ee23baiyrbb9\">跟踪和对象身份<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/for#-track-and-objects-identity-\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"75dnsx7sg28na3kw3l3i1qg5w\"><code>track</code> 表达式的值确定用于将数组项与 DOM 中的视图关联的键。清晰地指示条目身份允许 Angular 在添加、删除或移动集合中的条目时执行最少量的 DOM 操作。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"99kd9pzjtckof04p9kdwkqi6u\">为了优化性能，特别是在不可变数据的循环中，确保有效使用跟踪表达式来唯一标识每个条目。由于潜在的性能不佳，\n<code>track</code> 表达式对于 \n<code><a href=\"api/core/for\" class=\"code-anchor\">@for</a></code> 循环是必需的。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"by3emw38l6f7um167xthzhb7k\">对于保持静态的集合，\n<code>track $index</code> 提供了一个简单的跟踪机制。对于经历添加、删除或重新排序的动态集合，请选择每个条目的唯一属性作为跟踪键。</p>\n<h3 id=\"-index-and-other-contextual-variables-\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9f1d3dg25jnlel19x7ipt6ai3\">`$index` 和其他上下文变量<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/for#-index-and-other-contextual-variables-\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dvyevlmgc7th58a0dtcfbday2\">在 \n<code><a href=\"api/core/for\" class=\"code-anchor\">@for</a></code> 内容中，总是可以使用几个隐式变量：</p>\n<table>\n<thead>\n<tr>\n<th data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"48xhyn8dc085o9pjaic3ud9sp\">变量</th>\n<th data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6ryq83o4vnwnm29aax9uihwua\">含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>$count</code></td>\n<td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bbswk058bbgt5fkl0rgqk1usv\">迭代集合中的条目数量</td>\n</tr>\n<tr>\n<td><code>$index</code></td>\n<td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6thwsy26mvrsk6aff8x5b630w\">当前行的索引</td>\n</tr>\n<tr>\n<td><code>$first</code></td>\n<td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bzxpfmqg58115vuixl0iandms\">当前行是否为第一行</td>\n</tr>\n<tr>\n<td><code>$last</code></td>\n<td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7582yd8etnavnfx5gy6d8vvwo\">当前行是否为最后一行</td>\n</tr>\n<tr>\n<td><code>$even</code></td>\n<td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4ybdbe6i3snxxk3s0pfumf39e\">当前行索引是否为偶数</td>\n</tr>\n<tr>\n<td><code>$odd</code></td>\n<td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3t5v8vymr8v16918kh34qmx8l\">当前行索引是否为奇数</td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bpajs63shhhujw4d97myhrbel\">这些变量始终以这些名称可用，但可以通过 \n<code>let</code> 段别名：</p>\n<code-example language=\"html\">\n@for (item of items; track item.id; let idx = $index, e = $even) {\nItem #{{ idx }}: {{ item.name }}\n}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eq1ou3xx7qijw9yatpu6ogje\">尤其在使用嵌套的 \n<code><a href=\"api/core/for\" class=\"code-anchor\">@for</a></code> 块时，别名特别有用，因为上下文变量名可能会发生冲突。</p>\n</section>\n</div>\n</article>\n\n<!-- links to this doc:\n - guide/control_flow\n - guide/signal-queries\n-->\n<!-- links from this doc:\n - /api\n - api/core\n - api/core/for#-index-and-other-contextual-variables-\n - api/core/for#-track-and-objects-identity-\n - api/core/for#description\n - api/core/for#for\n - api/core/for#syntax\n - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Iteration_protocols\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/aio/content/blocks/core/for.md\n-->"}