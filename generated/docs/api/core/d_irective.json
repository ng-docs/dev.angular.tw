{"id":"api/core/Directive","title":"指令","contents":"<article>\n  <div class=\"breadcrumb-container\">\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n            { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io/api\", \"name\": \"API\" } },\n            { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/core\", \"name\": \"@angular/core\" } },\n            { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/core/Directive\", \"name\": \"Directive\" } }\n          ]\n        }\n      </script>\n        <a href=\"/api\">API</a> &gt; <a href=\"api/core\">@angular/core</a>\n    </div>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L375-L376\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  </div>\n  <header class=\"api-header\">\n    <h1 id=\"directive\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1qejxun37dz68k5ig2h0hy3bw\">指令<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#directive\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label decorator\">decorator</label>\n  </header>\n  \n\n  <div class=\"api-body\">\n  <section class=\"short-description\">\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2o9oj1s129ex3arbe0v6bp4s1\">將類標記為 Angular 指令的裝飾器。你可以定義自己的指令，以將自定義行為附加到 DOM 中的元素。</p>\n\n    <p><a href=\"api/core/Directive#description\">檢視更多...</a></p>\n  </section>\n<section class=\"decorator-overview\">\n  <table class=\"is-full-width list-table option-overview\">\n  <thead>\n  <tr>\n    <th>選項</th>\n    <th>說明</th>\n  </tr>\n  </thead>\n  <tbody>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1qaig7r0yva29gxjsfr1dzwrp\"><a class=\"code-anchor\" href=\"api/core/Directive#selector\"> <code>selector?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d8fi7ccf1edtwqsayvh6mm6hj\">這個 CSS 選擇器用於在樣板中標記出該指令，並觸發該指令的實例化。</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"alu4ryc7rtohajiti0vqrurd7\"><a class=\"code-anchor\" href=\"api/core/Directive#inputs\"> <code>inputs?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"elizlaqtphj4ype17d3pzyp6j\">列舉某個指令的一組可供資料繫結的輸入屬性</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3xkiwajn6st4i5nmppzswbnkl\"><a class=\"code-anchor\" href=\"api/core/Directive#outputs\"> <code>outputs?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"arkbfu9xqvfmi8by7s1fs8e2s\">列舉一組可供事件繫結的輸出屬性。</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"hgrdiaubrsh8e5nxpefx6p9r\"><a class=\"code-anchor\" href=\"api/core/Directive#providers\"> <code>providers?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1h7vrlh8vxhzgc846bx1oqdbg\">一組依賴注入令牌，它允許 DI 系統為這個指令或元件提供依賴。</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2233t54wy53q8plg3qlx9wemj\"><a class=\"code-anchor\" href=\"api/core/Directive#exportAs\"> <code>exportAs?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6nkz4tbhrxm4vhuboismt49k0\">定義一個名字，用於在樣板中把該指令賦值給一個變數。</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aopla479yxu06lo34ftnga8kv\"><a class=\"code-anchor\" href=\"api/core/Directive#queries\"> <code>queries?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"96nqwwl1g4kle3zw75y5xho3w\">設定一些查詢，它們將被注入到該指令中。</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"16zkk8b7yfe7sj6ffyihm1xxi\"><a class=\"code-anchor\" href=\"api/core/Directive#host\"> <code>host?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2d0ri2jc53xn6y3pjkjzyynta\">使用一組鍵-值對，把類別的屬性對映到宿主元素的繫結（Property、Attribute 和事件）。</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"defbjmh49boglx0hsogfl6mwy\"><a class=\"code-anchor\" href=\"api/core/Directive#jit\"> <code>jit?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"175rapszg4ohizzsadqs2y7q1\">如果存在，則該指令/元件將被 AOT 編譯器忽略。它會保留在發布程式碼中，並且 JIT 編譯器會嘗試在執行時在瀏覽器中對其進行編譯。為了確保其行為正確，該應用程式必須匯入 <code>@angular/compiler</code>。</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dtfh32wtwzh7ib2jx1sctbkfm\"><a class=\"code-anchor\" href=\"api/core/Directive#standalone\"> <code>standalone?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2pueqh2tt1kr2zwbawd4dy42k\">標記為 <code>standalone</code> 的 Angular 指令不需要在 NgModule 中宣告。此類指令不依賴於 NgModule 的任何『中間上下文』（例如設定的提供程式）。</p>\n\n      </td>\n    </tr>\n    <tr class=\"option\">\n      <td data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6kxz92m7tvipy6qlo5saeajm2\"><a class=\"code-anchor\" href=\"api/core/Directive#hostDirectives\"> <code>hostDirectives?</code> </a></td>\n      <td>\n\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dzhuo5e95yi2610qbflsf9gz2\">指令對應時應該應用於宿主的獨立指令。預設情況下，host 指令的任何輸入或輸出在宿主上都不可用，除非它們在 <code>inputs</code> 或 <code>outputs</code> 屬性中指定。</p>\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n  \n  <div class=\"descendants decorator\">\n    <h2 id=\"子類別\">子類別<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#子類別\"><i class=\"material-icons\">link</i></a></h2>\n    \n<ul>\n  <li>\n    <code><a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code>\n    \n  </li>\n</ul>\n  </div>\n</section>\n\n<section class=\"description\">\n  <h2 id=\"description\">說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#description\"><i class=\"material-icons\">link</i></a></h2>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"419b88vdyfcnpxfgq2edqxt79\">像元件類別一樣，指令類也可以實現<a href=\"guide/lifecycle-hooks\">生命週期鉤子</a>，以影響它們的設定和行為。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2ezxjtkpqirpnf6tmlxom49uj\">像元件類別一樣，指令類也可以實現<a href=\"guide/lifecycle-hooks\">生命週期鉤子</a>，以影響它們的設定和行為。</p>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d02h2olwkievo9m027cio316x\">更多訊息請參閱 \n<a href=\"api/core/Directive#usage-notes\">用法說明...</a></p>\n</section>\n\n<section class=\"decorator-options\">\n  <h2 id=\"options\">選項<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#options\"><i class=\"material-icons\">link</i></a></h2>\n  \n  \n  <a id=\"selector\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"selector\">selector<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#selector\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L118-L145\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d8fi7ccf1edtwqsayvh6mm6hj\">這個 CSS 選擇器用於在樣板中標記出該指令，並觸發該指令的實例化。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            selector?: string\n          </code-example>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6ftpa88t0vcr3qscdmltyiojd\">可使用下列形式之一：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3trus5nt33cfjy8c4on21sh8f\"><code>element-name</code>：根據元素名選取。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2sz6g553wu0q8z5kpfkk8otjs\"><code>.class</code>：根據類別名稱選取。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cgf7ed0kakbnzc2x3lker1dht\"><code>[attribute]</code>：根據屬性名選取。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c4ldrd4rjx56lttxvqlfvjix4\"><code>[attribute=value]</code>：根據屬性名和屬性值選取。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7sn1vsivdxofikgz11214dtjf\"><code>:not(sub_selector)</code>：只有當元素不對應子選擇器 <code>sub_selector</code> 的時候才選取。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7abf7bhxok397zn6graugwbeo\"><code>selector1, selector2</code>：無論 <code>selector1</code> 還是 <code>selector2</code> 對應時都選取。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"baytqn3asjqg2lswnqslbdxkm\">對於下列樣板 HTML，帶有 <code>input[type=text]</code> 選擇器的指令只會在 <code>&lt;input type=\"text\"&gt;</code> 元素上實例化。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9vzhdnk4mkmihx8pdepmfa5xw\">對於下列樣板 HTML，帶有 <code>input[type=text]</code> 選擇器的指令只會在 <code>&lt;input type=\"text\"&gt;</code> 元素上實例化。</p>\n<code-example language=\"html\">\n&lt;form&gt;\n  &lt;input type=\"text\"&gt;\n  &lt;input type=\"radio\"&gt;\n&lt;form&gt;\n</code-example>\n\n          \n        </td>\n      </tr>\n      \n    </tbody>\n  </table>\n  \n  \n  \n  <a id=\"inputs\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"inputs\">inputs<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#inputs\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L146-L190\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"elizlaqtphj4ype17d3pzyp6j\">列舉某個指令的一組可供資料繫結的輸入屬性</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            inputs?: ({\n    name: string;\n    alias?: string;\n    required?: boolean;\n    transform?: (value: any) =&gt; any;\n} | string)[]\n          </code-example>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8d98ffm90e1jl4fso1zlsayhu\">Angular 在變更檢測期間自動更新輸入屬性。<code>inputs</code> 屬性接受設定應作為輸入公開的指令屬性的字串或物件文字。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dljanopley3qc55cx4h085907\">傳入物件文字時，<code>name</code> 屬性指示輸入應寫入類別的哪個屬性，而 <code>alias</code> 確定輸入在樣板繫結中可用的名稱。<code>required</code> 屬性指示輸入是必需的，如果在使用指令時未傳入，將觸發編譯時錯誤。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8jc2n0ummeo28i94tv4zbt3lj\">當一個字串被傳遞到 <code>inputs</code> 陣列時，它的格式可以是 <code>'name'</code> 或 <code>'name: alias'</code>，其中 <code>name</code> 是指令應該寫入的類別的屬性，而 <code>alias</code> 確定輸入的名稱將在樣板繫結中可用。假定基於字串的輸入定義是可選的。</p>\n\n          \n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"z0wgc2tdmfmygzh4nd0jza1r\">下面的例子建立了一個帶有兩個可繫結屬性的元件。</p>\n<code-example language=\"typescript\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'bank-account',\n  inputs: ['bankName', {name: 'id', alias: 'account-id'}],\n  template: `\n    Bank Name: {{bankName}}\n    Account Id: {{id}}\n  `\n})\nclass BankAccount {\n  bankName: string;\n  id: string;\n}\n</code-example>\n\n          \n        </td>\n      </tr>\n      \n    </tbody>\n  </table>\n  \n  \n  \n  <a id=\"outputs\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"outputs\">outputs<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#outputs\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L191-L232\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"arkbfu9xqvfmi8by7s1fs8e2s\">列舉一組可供事件繫結的輸出屬性。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            outputs?: string[]\n          </code-example>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dppkgnt0vgbqgo9qbral2hk4i\"><code>outputs</code> 屬性定義了一組從 <code>directiveProperty</code> 指向 <code>bindingProperty</code> 的設定項：</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9mhk28i0y5ueyzfmd5rpjkfrw\"><code>outputs</code> 屬性定義了一組 <code>directiveProperty</code> 來 <code>alias</code> 設定：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dthems01sfhmp4vxdwgxs31g\"><code>directiveProperty</code> 用於指定要發出事件的指令屬性。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6i4jkp2xnh0gfouuc1mce29ca\"><code>alias</code> 指定事件處理程式附加到的 DOM 屬性。</li>\n</ul>\n\n          \n          <code-example language=\"typescript\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'child-dir',\n  outputs: [ 'bankNameChange' ],\n  template: `&lt;input (input)=\"bankNameChange.emit($event.target.value)\" /&gt;`\n})\nclass ChildDir {\n bankNameChange: <a href=\"api/core/EventEmitter\" class=\"code-anchor\">EventEmitter</a>&lt;string&gt; = new <a href=\"api/core/EventEmitter\" class=\"code-anchor\">EventEmitter</a>&lt;string&gt;();\n}\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'main',\n  template: `\n    {{ bankName }} &lt;child-dir (bankNameChange)=\"onBankNameChange($event)\"&gt;&lt;/child-dir&gt;\n  `\n})\nclass MainComponent {\n bankName: string;\n\n  onBankNameChange(bankName: string) {\n    this.bankName = bankName;\n  }\n}\n</code-example>\n\n          \n        </td>\n      </tr>\n      \n    </tbody>\n  </table>\n  \n  \n  \n  <a id=\"providers\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"providers\">providers<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#providers\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L233-L239\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1h7vrlh8vxhzgc846bx1oqdbg\">一組依賴注入令牌，它允許 DI 系統為這個指令或元件提供依賴。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            providers?: <a href=\"api/core/Provider\" class=\"code-anchor\">Provider</a>[]\n          </code-example>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  \n  \n  \n  <a id=\"exportAs\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"exportas\">exportAs<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#exportas\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L240-L263\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6nkz4tbhrxm4vhuboismt49k0\">定義一個名字，用於在樣板中把該指令賦值給一個變數。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            exportAs?: string\n          </code-example>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\">\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({\n  selector: 'child-dir',\n  exportAs: 'child'\n})\nclass ChildDir {\n}\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'main',\n  template: `&lt;child-dir #c=\"child\"&gt;&lt;/child-dir&gt;`\n})\nclass MainComponent {\n}\n</code-example>\n\n          \n        </td>\n      </tr>\n      \n    </tbody>\n  </table>\n  \n  \n  \n  <a id=\"queries\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"queries\">queries<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#queries\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L264-L301\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"96nqwwl1g4kle3zw75y5xho3w\">設定一些查詢，它們將被注入到該指令中。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            queries?: {\n    [key: string]: any;\n}\n          </code-example>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9m9owf7ix3mi9npy1x4ptmvus\">下面的範例展示了如何定義這些查詢以及到生命週期鉤子中的哪個步驟才會有結果：</p>\n\n          \n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bxcmysawr19wefafpjxhz4clp\">下面的範例展示了如何定義這些查詢以及到生命週期鉤子中的哪個步驟才會有結果：</p>\n<code-example language=\"ts\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'someDir',\n  queries: {\n    <a href=\"api/core/contentChildren\" class=\"code-anchor\">contentChildren</a>: new <a href=\"api/core/ContentChildren\" class=\"code-anchor\">ContentChildren</a>(ChildDirective),\n    <a href=\"api/core/viewChildren\" class=\"code-anchor\">viewChildren</a>: new <a href=\"api/core/ViewChildren\" class=\"code-anchor\">ViewChildren</a>(ChildDirective)\n  },\n  template: '&lt;child-directive&gt;&lt;/child-directive&gt;'\n})\nclass SomeDir {\n  <a href=\"api/core/contentChildren\" class=\"code-anchor\">contentChildren</a>: <a href=\"api/core/QueryList\" class=\"code-anchor\">QueryList</a>&lt;ChildDirective&gt;,\n  <a href=\"api/core/viewChildren\" class=\"code-anchor\">viewChildren</a>: <a href=\"api/core/QueryList\" class=\"code-anchor\">QueryList</a>&lt;ChildDirective&gt;\n\n  ngAfterContentInit() {\n    // <a href=\"api/core/contentChildren\" class=\"code-anchor\">contentChildren</a> is set\n  }\n\n  ngAfterViewInit() {\n    // <a href=\"api/core/viewChildren\" class=\"code-anchor\">viewChildren</a> is set\n  }\n}\n</code-example>\n\n          \n        </td>\n      </tr>\n      \n    </tbody>\n  </table>\n  \n  \n  \n  <a id=\"host\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"host\">host<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#host\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L302-L325\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2d0ri2jc53xn6y3pjkjzyynta\">使用一組鍵-值對，把類別的屬性對映到宿主元素的繫結（Property、Attribute 和事件）。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            host?: {\n    [key: string]: string;\n}\n          </code-example>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bibeyeb3uvp22g1g55v0xgrtf\">對於事件處理：</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ojggpa8bzlgdpcigwrmi3tcc\">當鍵是宿主元素的屬性時，屬性值會傳播到指定的 DOM 屬性中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8ftcb0phto883zy1mvzgjhrk\">當 key 是 DOM 中的靜態 Attribute 時，這個 Attribute 值就會傳播到宿主元素上指定的 Property 去。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2abcbr2b8y9nexv037gfvgo9t\">對於事件處理：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1njzh3g2tuduife4tl3ynacli\">  它的 key 就是該指令想要監聽的 DOM 事件。\n要想監聽全域事件，請把要監聽的目標新增到事件名的前面。\n這個目標可以是 <code>window</code>、<code>document</code> 或 <code>body</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ezi9396tg79oaek4nqibtfwtw\">  它的 value 就是當該事件發生時要執行的語句。如果該語句回傳 <code>false</code>，那麼就會呼叫這個 DOM 事件的 <code>preventDefault</code> 函式。\n這個語句中可以引用區域性變數 <code>$event</code> 來獲取事件資料。</li>\n</ul>\n\n          \n        </td>\n      </tr>\n      \n    </tbody>\n  </table>\n  \n  \n  \n  <a id=\"jit\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"jit\">jit<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#jit\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L326-L333\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"175rapszg4ohizzsadqs2y7q1\">如果存在，則該指令/元件將被 AOT 編譯器忽略。它會保留在發布程式碼中，並且 JIT 編譯器會嘗試在執行時在瀏覽器中對其進行編譯。為了確保其行為正確，該應用程式必須匯入 <code>@angular/compiler</code>。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            jit?: true\n          </code-example>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  \n  \n  \n  <a id=\"standalone\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"standalone\">standalone<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#standalone\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L334-L343\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2pueqh2tt1kr2zwbawd4dy42k\">標記為 <code>standalone</code> 的 Angular 指令不需要在 NgModule 中宣告。此類指令不依賴於 NgModule 的任何『中間上下文』（例如設定的提供程式）。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            standalone?: boolean\n          </code-example>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8m42bqxgsjcx2m3wxa5e55go9\">有關獨立元件、指令和通道的更多訊息，請參閱<a href=\"guide/standalone-components\">本指南</a>。</p>\n\n          \n        </td>\n      </tr>\n      \n    </tbody>\n  </table>\n  \n  \n  \n  \n  \n  <a id=\"hostDirectives\"></a>\n  <table class=\"is-full-width option-table\">\n    <thead>\n      <tr>\n        <th>\n          <div class=\"with-github-links\">\n            <h3 id=\"hostdirectives\">hostDirectives<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#hostdirectives\"><i class=\"material-icons\">link</i></a></h3>\n            <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L351-L366\" aria-label=\"檢視原始碼\" title=\"檢視原始碼\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n          </div>\n        </th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dzhuo5e95yi2610qbflsf9gz2\">指令對應時應該應用於宿主的獨立指令。預設情況下，host 指令的任何輸入或輸出在宿主上都不可用，除非它們在 <code>inputs</code> 或 <code>outputs</code> 屬性中指定。</p>\n\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\n            hostDirectives?: (<a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;unknown&gt; | {\n    directive: <a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;unknown&gt;;\n    inputs?: string[];\n    outputs?: string[];\n})[]\n          </code-example>\n        </td>\n      </tr>\n      <tr>\n        <td>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"24qr34mgyvxxqr4i523a7dgfx\">你可以透過在原始輸入或輸出名稱後面放一個冒號和別名來為輸入和輸出額外別名。例如，如果透過 <code>hostDirectives</code> 應用的指令定義了一個名為 <code>menuDisabled</code> 的 <code>inputs</code>，你可以透過將 <code>'menuDisabled: disabled'</code> <code>disabled</code> 條目新增到 sources 來將其別名為 enabled。</p>\n\n          \n        </td>\n      </tr>\n      \n    </tbody>\n  </table>\n  \n  \n</section>\n\n<section class=\"usage-notes\">\n  <h2 id=\"usage-notes\">使用說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#usage-notes\"><i class=\"material-icons\">link</i></a></h2>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"chbeyjl2rom96cmf202m7l5ub\">要想定義一個指令，請為該類別加上此裝飾器，並提供元資料。</p>\n<code-example language=\"ts\">\nimport {<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>} from '@angular/core';\n\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({\n  selector: 'my-directive',\n})\nexport class MyDirective {\n...\n}\n</code-example>\n<h3 id=\"declaring-directives\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"168aglh9bbe6lhl88x2qpr69l\">宣告指令<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/Directive#declaring-directives\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3tyer2qwnmqsdyshuo1dmk3ne\">為了使指令可用於你應用程式中的其他元件，你應該執行以下操作之一：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7bg85im1p0y9gfhu3mz2kkper\">要麼將指令標記為<a href=\"guide/standalone-components\">Standalone</a>，</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"88qf6345wdekl2tkbxlvjtaiv\">或者透過將其新增到 <code>declarations</code> 和 <code>exports</code> 欄位來在 NgModule 中宣告它。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cr92z942wleind9gl75rc17xd\"><strong>將指令標記為獨立的</strong></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3iqdjiy4mevepjuvoj5s6r4yz\">你可以將 <code>standalone: true</code> 標誌新增到 Directive 裝飾器元資料中，以將其宣告為<a href=\"guide/standalone-components\">Standalone</a>：</p>\n<code-example language=\"ts\">\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({\n  standalone: true,\n  selector: 'my-directive',\n})\nclass MyDirective {}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f4cb4logiy7hk0clo01zquf50\">將指令標記為獨立時，請確保該指令尚未在 NgModule 中宣告。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"519qbj8fq9ycn1r1kdyiv1bhx\"><strong>在 NgModule 中宣告指令</strong></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dv01gsfb0szbwbpn8tsvuw187\">另一種方法是在 NgModule 中宣告一個指令：</p>\n<code-example language=\"ts\">\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({\n  selector: 'my-directive',\n})\nclass MyDirective {}\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  declarations: [MyDirective, SomeComponent],\n  exports: [MyDirective], // making it available outside of this module\n})\nclass SomeNgModule {}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aq9cc6b4h8shtoa1ohrf1gw3z\">在 NgModule 中宣告指令時，請確保：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6xyc4px88uopnbii429alhzvd\">該指令正好在一個 NgModule 中宣告。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6yfa8jqdvmqkerws2xydfl7hs\">該指令不是獨立的。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"clejztgv0aer3lg9yxj3s2n7c\">你不會重新宣告從另一個模組匯入的指令。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"24nsgt0oq9bmfppgl8mpq72ss\">如果你希望 <code>exports</code> 之外的元件可以訪問此指令，則該指令也包含在 export 欄位中。</li>\n</ul>\n\n</section></div>\n</article>\n\n<!-- links to this doc:\n - api/core\n - api/core/Attribute\n - api/core/Component\n - api/core/ContentChild\n - api/core/ContentChildren\n - api/core/Host\n - api/core/HostAttributeToken\n - api/core/HostBinding\n - api/core/HostListener\n - api/core/Injectable\n - api/core/InputFunction\n - api/core/ModelFunction\n - api/core/ViewChild\n - api/core/ViewChildren\n - api/core/ViewContainerRef\n - api/core/input\n - api/core/model\n - api/core/testing/TestBed\n - api/forms/AsyncValidator\n - api/forms/NG_ASYNC_VALIDATORS\n - api/forms/NG_VALIDATORS\n - api/forms/Validator\n - api/upgrade/static/UpgradeComponent\n - api/upgrade/static/testing/createAngularJSTestingModule\n - api/upgrade/static/testing/createAngularTestingModule\n - errors/NG0504\n - errors/NG0910\n - errors/NG1001\n - errors/NG8003\n - guide/architecture-components\n - guide/attribute-directives\n - guide/bootstrapping\n - guide/cheatsheet\n - guide/content-projection\n - guide/dependency-injection-in-action\n - guide/directive-composition-api\n - guide/elements\n - guide/form-validation\n - guide/forms\n - guide/glossary\n - guide/hierarchical-dependency-injection\n - guide/lifecycle-hooks\n - guide/model-inputs\n - guide/npm-packages\n - guide/standalone-components\n - guide/structural-directives\n - guide/styleguide\n - guide/testing-attribute-directives\n - guide/testing-utility-apis\n - guide/update-to-version-15\n - guide/upgrade\n - guide/what-is-angular\n-->\n<!-- links from this doc:\n - /api\n - api/core\n - api/core/Component\n - api/core/ContentChildren\n - api/core/Directive#declaring-directives\n - api/core/Directive#description\n - api/core/Directive#directive\n - api/core/Directive#exportAs\n - api/core/Directive#exportas\n - api/core/Directive#host\n - api/core/Directive#hostDirectives\n - api/core/Directive#hostdirectives\n - api/core/Directive#inputs\n - api/core/Directive#jit\n - api/core/Directive#options\n - api/core/Directive#outputs\n - api/core/Directive#providers\n - api/core/Directive#queries\n - api/core/Directive#selector\n - api/core/Directive#standalone\n - api/core/Directive#usage-notes\n - api/core/Directive#子類別\n - api/core/EventEmitter\n - api/core/NgModule\n - api/core/Provider\n - api/core/QueryList\n - api/core/Type\n - api/core/ViewChildren\n - api/core/contentChildren\n - api/core/viewChildren\n - guide/glossary#di-token\n - guide/glossary#injector\n - guide/glossary#provider\n - guide/lifecycle-hooks\n - guide/standalone-components\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L118-L145\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L146-L190\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L191-L232\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L233-L239\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L240-L263\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L264-L301\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L302-L325\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L326-L333\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L334-L343\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L351-L366\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/metadata/directives.ts#L375-L376\n-->"}