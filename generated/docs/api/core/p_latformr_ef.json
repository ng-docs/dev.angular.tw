{"id":"api/core/PlatformRef","title":"PlatformRef","contents":"<article>\n  <div class=\"breadcrumb-container\">\n    <div class=\"breadcrumb\">\n      <script type=\"application/ld+json\">\n        {\n          \"@context\": \"http://schema.org\",\n          \"@type\": \"BreadcrumbList\",\n          \"itemListElement\": [\n            { \"@type\": \"ListItem\", \"position\": 1, \"item\": { \"@id\": \"https://angular.io/api\", \"name\": \"API\" } },\n            { \"@type\": \"ListItem\", \"position\": 2, \"item\": { \"@id\": \"https://angular.io/api/core\", \"name\": \"@angular/core\" } },\n            { \"@type\": \"ListItem\", \"position\": 3, \"item\": { \"@id\": \"https://angular.io/api/core/PlatformRef\", \"name\": \"PlatformRef\" } }\n          ]\n        }\n      </script>\n        <a href=\"/api\">API</a> &gt; <a href=\"api/core\">@angular/core</a>\n    </div>\n    <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L35-L202\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n  </div>\n  <header class=\"api-header\">\n    <h1 id=\"platformref\">PlatformRef<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#platformref\"><i class=\"material-icons\">link</i></a></h1>\n    <label class=\"api-type-label class\">class</label>\n    <label class=\"github-links api-status-label final\" title=\"此类不可派生。\">\n      <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/docs/PUBLIC_API.md#final-classes\">最终类</a>\n    </label>\n  </header>\n  \n\n  <div class=\"api-body\">\n  <section class=\"short-description\">\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e6k53d546no03vsr78xhw4jiy\">Angular 平台是 Angular 在网页上的入口点。每个页面只有一个平台。页面上运行的每个 Angular 应用程序所共有的服务（比如反射）都在其范围内绑定。当使用 <code>PlatformBrowser</code> 这样的平台工厂创建平台时，将隐式初始化此页面的平台；也可以通过调用 <code><a href=\"api/core/createPlatform\" class=\"code-anchor\">createPlatform</a>()</code> 函数来显式初始化此页面的平台。</p>\n\n  </section><section class=\"class-overview\">\n<code-example language=\"ts\" hidecopy=\"true\">\nclass <a href=\"api/core/PlatformRef\" class=\"code-anchor\">PlatformRef</a> {\n  <a class=\"code-anchor\" href=\"api/core/PlatformRef#injector\"><span class=\"member-name\">injector</span>: Injector</a>\n  <a class=\"code-anchor\" href=\"api/core/PlatformRef#destroyed\"><span class=\"member-name\">destroyed</span></a><br><a class=\"code-anchor deprecated-api-item\" href=\"api/core/PlatformRef#bootstrapModuleFactory\"><span class=\"member-name\">bootstrapModuleFactory</span>&lt;M&gt;(moduleFactory: NgModuleFactory&lt;M&gt;, options?: BootstrapOptions): Promise&lt;NgModuleRef&lt;M&gt;&gt;</a><br><a class=\"code-anchor\" href=\"api/core/PlatformRef#bootstrapModule\"><span class=\"member-name\">bootstrapModule</span>&lt;M&gt;(moduleType: Type&lt;M&gt;, compilerOptions: (CompilerOptions &amp; BootstrapOptions) | (CompilerOptions &amp; BootstrapOptions)[] = []): Promise&lt;NgModuleRef&lt;M&gt;&gt;</a><br><a class=\"code-anchor\" href=\"api/core/PlatformRef#onDestroy\"><span class=\"member-name\">onDestroy</span>(callback: () =&gt; void): void</a><br><a class=\"code-anchor\" href=\"api/core/PlatformRef#destroy\"><span class=\"member-name\">destroy</span>()</a>\n}\n</code-example>\n\n</section>\n\n<h2 id=\"提供于\">提供于<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#提供于\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n  <li>\n    <code>'platform'</code>\n  </li>\n</ul>\n  \n  \n<section class=\"instance-properties\">\n  <a id=\"properties\"></a>\n  <h2 id=\"instance-properties\">属性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#instance-properties\"><i class=\"material-icons\">link</i></a></h2>\n  <table class=\"is-full-width list-table property-table\">\n    <thead>\n      <tr>\n        <th>属性</th>\n        <th>说明</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"injector\"></a>\n          <code class=\"\"><span class=\"member-name\">injector</span>: <a href=\"api/core/Injector\" class=\"code-anchor\">Injector</a></code>\n        </td>\n        <td>\n          <span class=\"read-only-property\">只读</span>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"elra0j8e1ikume9qceoqrec56\">检索平台 <a href=\"api/core/Injector\"><code>Injector</code></a>，它是页面上每个 Angular 应用程序的父注入器，并提供单例提供程序。</p>\n          \n        </td>\n      </tr>\n      <tr class=\"instance-property\">\n        <td>\n          <a id=\"destroyed\"></a>\n          <code class=\"\"><span class=\"member-name\">destroyed</span></code>\n        </td>\n        <td>\n          <span class=\"read-only-property\">只读</span>\n          <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"er87jn3mvt6l3qqx5joer7yzj\">表明此实例是否已销毁。</p>\n          \n        </td>\n      </tr>\n    </tbody>\n  </table>\n</section>\n<section class=\"instance-methods\">\n  <h2 id=\"instance-methods\">方法<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#instance-methods\"><i class=\"material-icons\">link</i></a></h2>\n  <a id=\"bootstrapModuleFactory\"></a>\n<table class=\"is-full-width method-table instance-method\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n      <h3 class=\"deprecated-api-item\" id=\"bootstrapmodulefactory\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dpnabvb07oqoffrryffucsfrk\">bootstrapModuleFactory()<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#bootstrapmodulefactory\"><i class=\"material-icons\">link</i></a></h3>\n      <label class=\"api-status-label deprecated\" title=\"本 API 已弃用\">已弃用</label>\n      \n      <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L53-L115\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1gfcgfferrbn3nxsjkfsf93xt\">为给定的平台创建 <code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 的实例。</p>\n</td>\n    </tr>\n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading deprecated-api-item\"><span class=\"member-name\">bootstrapModuleFactory</span>&lt;M&gt;(moduleFactory: <a href=\"api/core/NgModuleFactory\" class=\"code-anchor\">NgModuleFactory</a>&lt;M&gt;, options?: <a href=\"api/core/BootstrapOptions\" class=\"code-anchor\">BootstrapOptions</a>): Promise&lt;<a href=\"api/core/NgModuleRef\" class=\"code-anchor\">NgModuleRef</a>&lt;M&gt;&gt;</code-example>\n  <div class=\"deprecated\">\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4hhkrjv91jqdn4ovs64l47w1n\">将 NgModule 工厂作为 <code>PlatformRef.bootstrapModuleFactory</code> 函数参数传递已弃用。请改用 <code>PlatformRef.bootstrapModule</code> API。</p>\n\n  </div>\n\n  <h6 class=\"no-anchor\" id=\"parameters\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table instance-method-overload-parameters\">\n  <tbody>\n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4ftoim958p9jd22vbb0l2m81x\"><a id=\"\"></a>\n        <code>moduleFactory</code></td>\n      <td class=\"param-type\"><code><a href=\"api/core/NgModuleFactory\" class=\"code-anchor\">NgModuleFactory</a>&lt;M&gt;</code></td>\n      <td class=\"param-description\">\n      </td>\n    </tr>\n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bctpqv6pe3qufag0kdnkhac2q\"><a id=\"\"></a>\n        <code>options</code></td>\n      <td class=\"param-type\"><code><a href=\"api/core/BootstrapOptions\" class=\"code-anchor\">BootstrapOptions</a></code></td>\n      <td class=\"param-description\">\n        <p>可选值。默认值为 <code>undefined</code>。</p>\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n  <h6 class=\"no-anchor\" id=\"returns\">返回值</h6>\n  <p><code>Promise&lt;<a href=\"api/core/NgModuleRef\" class=\"code-anchor\">NgModuleRef</a>&lt;M&gt;&gt;</code></p>\n\n</div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  <a id=\"bootstrapModule\"></a>\n<table class=\"is-full-width method-table instance-method\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n      <h3 id=\"bootstrapmodule\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cv3cak03cwd4i8xlumguvvj5x\">bootstrapModule()<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#bootstrapmodule\"><i class=\"material-icons\">link</i></a></h3>\n      <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L116-L140\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c7rz23q64t5s67pn2lr0free5\">使用给定的运行时编译器为给定的平台创建 <code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 的实例。</p>\n</td>\n    </tr>\n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">bootstrapModule</span>&lt;M&gt;(moduleType: <a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;M&gt;, compilerOptions: (<a href=\"api/core/CompilerOptions\" class=\"code-anchor\">CompilerOptions</a> &amp; <a href=\"api/core/BootstrapOptions\" class=\"code-anchor\">BootstrapOptions</a>) | (<a href=\"api/core/CompilerOptions\" class=\"code-anchor\">CompilerOptions</a> &amp; <a href=\"api/core/BootstrapOptions\" class=\"code-anchor\">BootstrapOptions</a>)[] = []): Promise&lt;<a href=\"api/core/NgModuleRef\" class=\"code-anchor\">NgModuleRef</a>&lt;M&gt;&gt;</code-example>\n\n  <h6 class=\"no-anchor\" id=\"parameters\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table instance-method-overload-parameters\">\n  <tbody>\n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ah3nkw2lnjpng4oncwf4z047\"><a id=\"\"></a>\n        <code>moduleType</code></td>\n      <td class=\"param-type\"><code><a href=\"api/core/Type\" class=\"code-anchor\">Type</a>&lt;M&gt;</code></td>\n      <td class=\"param-description\">\n      </td>\n    </tr>\n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a2vqb9hufd9z88ft71xbn7ft3\"><a id=\"\"></a>\n        <code>compilerOptions</code></td>\n      <td class=\"param-type\"><code>(<a href=\"api/core/CompilerOptions\" class=\"code-anchor\">CompilerOptions</a> &amp; <a href=\"api/core/BootstrapOptions\" class=\"code-anchor\">BootstrapOptions</a>) | (<a href=\"api/core/CompilerOptions\" class=\"code-anchor\">CompilerOptions</a> &amp; <a href=\"api/core/BootstrapOptions\" class=\"code-anchor\">BootstrapOptions</a>)[]</code></td>\n      <td class=\"param-description\">\n        <p>可选值。默认值为 <code>[]</code>。</p>\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n  <h6 class=\"no-anchor\" id=\"returns\">返回值</h6>\n  <p><code>Promise&lt;<a href=\"api/core/NgModuleRef\" class=\"code-anchor\">NgModuleRef</a>&lt;M&gt;&gt;</code></p>\n\n</div>\n      </td>\n    </tr>\n    <tr>\n      <td class=\"usage-notes\">\n        <h4 id=\"bootstrapModule-usage-notes\">使用说明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#bootstrapModule-usage-notes\"><i class=\"material-icons\">link</i></a></h4>\n        <h5 id=\"simple-example\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e0ehtrqzapj0lv5nn6iutlmhe\">简单的例子<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#simple-example\"><i class=\"material-icons\">link</i></a></h5>\n<code-example language=\"typescript\">\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [<a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a>]\n})\nclass MyModule {}\n\nlet moduleRef = <a href=\"api/platform-browser/platformBrowser\" class=\"code-anchor\">platformBrowser</a>().bootstrapModule(MyModule);\n</code-example>\n\n      </td>\n    </tr>\n  </tbody>\n</table>\n  <a id=\"onDestroy\"></a>\n<table class=\"is-full-width method-table instance-method\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n      <h3 id=\"ondestroy\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ceu68dkkxewxmgzn8hb15vzwj\">onDestroy()<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#ondestroy\"><i class=\"material-icons\">link</i></a></h3>\n      <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L158-L164\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e9rzhyrnnwpt03qpd05qfgrta\">注册销毁平台时要调用的监听器。</p>\n</td>\n    </tr>\n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">onDestroy</span>(callback: () =&gt; void): void</code-example>\n\n  <h6 class=\"no-anchor\" id=\"parameters\">参数</h6>\n  <table class=\"is-full-width list-table parameters-table instance-method-overload-parameters\">\n  <tbody>\n    <tr class=\"instance-method-overload-parameter\">\n      <td class=\"param-name\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e1u07soqllrwux3on5v3eoiwl\"><a id=\"\"></a>\n        <code>callback</code></td>\n      <td class=\"param-type\"><code>() =&gt; void</code></td>\n      <td class=\"param-description\">\n      </td>\n    </tr>\n  </tbody>\n</table>\n  <h6 class=\"no-anchor\" id=\"returns\">返回值</h6>\n  <p><code>void</code></p>\n\n</div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n  <a id=\"destroy\"></a>\n<table class=\"is-full-width method-table instance-method\">\n  <thead><tr><th>\n    <div class=\"with-github-links\">\n      <h3 id=\"destroy\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ppst4xxtnqp9kcd43i8pnuyf\">destroy()<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"api/core/PlatformRef#destroy\"><i class=\"material-icons\">link</i></a></h3>\n      <div class=\"github-links\">\n  <a href=\"https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L173-L194\" aria-label=\"查看源码\" title=\"查看源码\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">code</i></a>\n</div>\n    </div>\n  </th></tr></thead>\n  <tbody>\n    <tr>\n      <td class=\"short-description\">\n        <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"paa7z7yjmw6y1ovbl2n99hc9\">销毁页面上的当前 Angular 平台和所有 Angular 应用程序。销毁在平台上注册的所有模块和监听器。</p>\n</td>\n    </tr>\n    <tr>\n      <td>\n        <div class=\"overload-info\">\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><span class=\"member-name\">destroy</span>()</code-example>\n\n  <h6 class=\"no-anchor\" id=\"parameters\">参数</h6>\n  <p>没有参数。</p>\n</div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n</section>\n</div>\n</article>\n\n<!-- links to this doc:\n - api/core\n - api/core/NgModuleFactory\n - api/core/assertPlatform\n - api/core/createPlatform\n - api/core/createPlatformFactory\n - api/core/getPlatform\n - api/core/platformCore\n - api/core/testing/TestBed\n - api/platform-browser\n - api/platform-browser-dynamic/platformBrowserDynamic\n - api/platform-browser-dynamic/testing/platformBrowserDynamicTesting\n - api/platform-browser/platformBrowser\n - api/platform-browser/testing/platformBrowserTesting\n - api/platform-server/platformDynamicServer\n - api/platform-server/platformServer\n - api/platform-server/testing/platformServerTesting\n - api/upgrade/static/downgradeModule\n - guide/deprecations\n - guide/testing-utility-apis\n - guide/update-to-version-14\n - guide/upgrade-performance\n-->\n<!-- links from this doc:\n - /api\n - api/core\n - api/core/BootstrapOptions\n - api/core/CompilerOptions\n - api/core/Injector\n - api/core/NgModule\n - api/core/NgModuleFactory\n - api/core/NgModuleRef\n - api/core/PlatformRef#bootstrapModule\n - api/core/PlatformRef#bootstrapModule-usage-notes\n - api/core/PlatformRef#bootstrapModuleFactory\n - api/core/PlatformRef#bootstrapmodule\n - api/core/PlatformRef#bootstrapmodulefactory\n - api/core/PlatformRef#destroy\n - api/core/PlatformRef#destroyed\n - api/core/PlatformRef#injector\n - api/core/PlatformRef#instance-methods\n - api/core/PlatformRef#instance-properties\n - api/core/PlatformRef#onDestroy\n - api/core/PlatformRef#ondestroy\n - api/core/PlatformRef#platformref\n - api/core/PlatformRef#simple-example\n - api/core/PlatformRef#提供于\n - api/core/Type\n - api/core/createPlatform\n - api/platform-browser/BrowserModule\n - api/platform-browser/platformBrowser\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/docs/PUBLIC_API.md#final-classes\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L116-L140\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L158-L164\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L173-L194\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L35-L202\n - https://github.com/ng-docs/angular-cn/tree/17.3.0-next.1/packages/core/src/platform/platform_ref.ts#L53-L115\n-->"}