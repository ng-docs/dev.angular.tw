{"id":"errors/NG0910","title":"NG0910: iframe 元素上的不安全繫結","contents":"<div class=\"content\">\n\n  <h1 id=\"ng0910-unsafe-bindings-on-an-iframe-element\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7h94qxop01cbfmik71h6irsuv\">NG0910: iframe 元素上的不安全繫結<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0910#ng0910-unsafe-bindings-on-an-iframe-element\"><i class=\"material-icons\">link</i></a></h1>\n\n  \n  \n\n  <div class=\"error-description\">\n    <h2 id=\"description\">說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0910#description\"><i class=\"material-icons\">link</i></a></h2>\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"46tod3g7w7c8l8sd9xgv0sxf3\">當 Angular 檢測到 <code>&lt;iframe&gt;</code> 元素上的 Attribute 繫結或 Property 繫結是如下名稱時，你會看到此錯誤：</p>\n<ul>\n<li>sandbox</li>\n<li>allow</li>\n<li>allowFullscreen</li>\n<li>referrerPolicy</li>\n<li>csp</li>\n<li>fetchPriority</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dq7wg2srdblqmt3wwfqdyh4k\">上面提到的這些屬性會影響 <code>&lt;iframe&gt;</code> 的安全模型設定，並且要在設定 <code>src</code> 或 <code>srcdoc</code> 屬性之前先應用它們，這很重要。為了確保這一點，Angular 要求在 <code>&lt;iframe&gt;</code> 上將這些屬性設定為靜態屬性，因此這些值都是在元素建立時設定的，並且它們在 <code>&lt;iframe&gt;</code> 實例的整個生命週期中要保持不變。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bl5n6efww6x9win51kqd7lfc0\">使用具有上述名稱之一的 Property 繫結時，會丟擲此錯誤：</p>\n<code-example language=\"html\">\n&lt;iframe [sandbox]=\"'allow-scripts'\" src=\"...\"&gt;&lt;/iframe&gt;\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4f3av1fst8uxe6znuubfumem9\">或者當它是 Attribute 繫結時：</p>\n<code-example language=\"html\">\n&lt;iframe [attr.sandbox]=\"'allow-scripts'\" src=\"...\"&gt;&lt;/iframe&gt;\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3b2lzklfm24rzc1748wd7xfbs\">此外，當在指令的宿主繫結中使用類似模式時，會丟擲錯誤：</p>\n<code-example language=\"typescript\">\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({\n  selector: 'iframe',\n  host: {\n    '[sandbox]': `'allow-scripts'`,\n    '[attr.sandbox]': `'allow-scripts'`,\n  }\n})\nclass IframeDirective {}\n</code-example>\n\n  </div>\n\n\n  \n  <br>\n\n  <div class=\"debugging\">\n    <h2 id=\"debugging-the-error\">如何排除本錯誤<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0910#debugging-the-error\"><i class=\"material-icons\">link</i></a></h2>\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4t7tqsi9b4oez6svshi4gzjd8\">此錯誤訊息包含具有不安全繫結的 <code>&lt;iframe&gt;</code> 元素所在範本的元件名稱。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6j1joll6dzt9v747np0v4y9q3\">推薦的解決方案是把上述屬性都用作靜態屬性，例如：</p>\n<code-example language=\"html\">\n&lt;iframe sandbox=\"allow-scripts\" src=\"...\"&gt;&lt;/iframe&gt;\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ebhg3kmhgtkxtrcl84kmm1p9e\">如果你需要為這些 Attribute 設定不同的值（取決於各種條件），可以在 <code>&lt;iframe&gt;</code> 元素上使用 <code>*<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a></code> 或 <code>*<a href=\"api/common/NgSwitch\" class=\"code-anchor\">ngSwitch</a></code>：</p>\n<code-example language=\"html\">\n&lt;iframe *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"someConditionA\" sandbox=\"allow-scripts\" src=\"...\"&gt;&lt;/iframe&gt;\n&lt;iframe *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"someConditionB\" sandbox=\"allow-forms\" src=\"...\"&gt;&lt;/iframe&gt;\n&lt;iframe *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"someConditionC\" sandbox=\"allow-popups\" src=\"...\"&gt;&lt;/iframe&gt;\n</code-example>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  </div>\n  \n</div>\n\n<!-- links to this doc:\n - errors\n-->\n<!-- links from this doc:\n - api/common/NgIf\n - api/common/NgSwitch\n - api/core/Directive\n - errors/NG0910#debugging-the-error\n - errors/NG0910#description\n - errors/NG0910#ng0910-unsafe-bindings-on-an-iframe-element\n-->"}