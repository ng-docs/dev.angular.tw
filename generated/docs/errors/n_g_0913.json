{"id":"errors/NG0913","title":"NG0913: 在執行時檢測到影響效能的影象元素。","contents":"<div class=\"content\">\n\n  <h1 id=\"ng0913-performance-harming-image-elements-detected-at-runtime\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bnpdppjxtg5iechyunajh1f1p\">NG0913: 在執行時檢測到影響效能的影象元素。<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0913#ng0913-performance-harming-image-elements-detected-at-runtime\"><i class=\"material-icons\">link</i></a></h1>\n\n  \n  \n\n  <div class=\"error-description\">\n    <h2 id=\"description\">說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0913#description\"><i class=\"material-icons\">link</i></a></h2>\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9wu8mmp4ry4k3v7vf5u71sb8k\">應用程式載入後，Angular 會檢查包含的 \n<code>&lt;<a href=\"api/common/NgOptimizedImage\" class=\"code-anchor\">img</a>&gt;</code> 元素是否存在效能問題。這個警告可以透過兩種方式觸發：</p>\n<h3 id=\"oversized-images\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bryh9s5bi26gmhnm2njkou35g\">超大影象<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0913#oversized-images\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5zav3pkemnrje6fbgk2beiosm\">當影象載入時，下載檔案的「固有尺寸」會與頁面上圖像的實際尺寸進行比較。實際尺寸是使用應用 CSS 的影象的「渲染尺寸」乘以 \n<a href=\"https://web.dev/codelab-density-descriptors/#pixel-density\">畫素裝置比例</a> 計算出來的。如果下載的影象尺寸過大（任一維度超過 1200px），將觸發此警告。下載超大影象可能會減慢頁面載入速度，並對 \n<a href=\"https://web.dev/vitals/\">核心 Web 要素</a> 產生負面影響。</p>\n<h3 id=\"lazy-loaded-lcp-element\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5euhcnweb5va1vauiy047zpwr\">延遲載入的 LCP 元素<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0913#lazy-loaded-lcp-element\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2q815oiioh78e5rjn38xwq7a2\">載入時頁面上最大的內容元素被稱為「LCP 元素」，它與 \n<a href=\"https://web.dev/lcp/\">最大內容繪製</a> 相關，是核心 Web 要素之一。延遲載入 LCP 元素會嚴重影響頁面效能。使用此策略時，瀏覽器必須完成佈局計算以確定元素是否在視口中，然後開始下載影象。因此，當 Angular 檢測到 LCP 元素被賦予 \n<code>loading=\"lazy\"</code> 屬性時，將觸發警告。</p>\n\n  </div>\n\n\n  \n  <br>\n\n  <div class=\"debugging\">\n    <h2 id=\"debugging-the-error\">如何排除本錯誤<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0913#debugging-the-error\"><i class=\"material-icons\">link</i></a></h2>\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"37w80rv2njvmgyd0jzuwvt8d4\">使用控制台警告中提供的影象網址找到相關的 \n<code>&lt;<a href=\"api/common/NgOptimizedImage\" class=\"code-anchor\">img</a>&gt;</code> 元素。</p>\n<h3 id=\"ways-to-fix-oversized-images\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"34xcn59nqr66wd4snw4mnn01n\">修復超大圖片的方法<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0913#ways-to-fix-oversized-images\"><i class=\"material-icons\">link</i></a></h3>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5g7cxrpvhah7r600pgfe6tvq1\">使用較小的源圖片</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"66hcxcr4zk10a8qi22tczz9po\">如果不同佈局需要多種尺寸，可以新增 \n<a href=\"https://web.dev/learn/design/responsive-images/#responsive-images-with-srcset\"><code>srcset</code></a>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"78fb2p94w66fomhnv4mapczyj\">切換到使用 Angular 的內建影象指令（\n<a href=\"https://angular.io/api/common/NgOptimizedImage\"><code>NgOptimizedImage</code></a>），該指令會自動生成 \n<a href=\"https://angular.io/guide/image-directive#request-images-at-the-correct-size-with-automatic-srcset\">srcset</a>。</li>\n</ul>\n<h3 id=\"ways-to-fix-lazy-loaded-lcp-element\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8wbisrydhtozxysz14bkuan4a\">修復延遲載入的 LCP 元素的方法<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0913#ways-to-fix-lazy-loaded-lcp-element\"><i class=\"material-icons\">link</i></a></h3>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"babk1temft2r09tp51gu3ipyl\">將 \n<code>loading</code> 屬性更改為不同的值，如 \n<code>\"eager\"</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dahj2yyxn359uh5rn1cg9ykrz\">切換到使用 Angular 的內建影象指令（\n<a href=\"https://angular.io/api/common/NgOptimizedImage\"><code>NgOptimizedImage</code></a>），可以輕鬆地 \n<a href=\"https://angular.io/guide/image-directive#step-4-mark-images-as-priority\">優先處理 LCP 影象</a>。</li>\n</ul>\n<h3 id=\"disabling-image-performance-warnings\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"mv96o4xpaybqe7cchw44drt1\">停用影象效能警告<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"errors/NG0913#disabling-image-performance-warnings\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"nbatxnnjn0p1lrnco6oga1b3\">可以透過在應用程式根部提供者處逐個停用這兩個警告，從而在整個站點上停用。</p>\n<code-example format=\"typescript\" language=\"typescript\">\nproviders: [\n  {\n    provide: <a href=\"api/common/IMAGE_CONFIG\" class=\"code-anchor\">IMAGE_CONFIG</a>,\n    useValue: {\n      disableImageSizeWarning: true, \n      disableImageLazyLoadWarning: true\n    }\n  },\n],\n</code-example>\n\n  </div>\n  \n</div>\n\n<!-- links to this doc:\n - api/common\n - api/common/ImageConfig\n - errors\n-->\n<!-- links from this doc:\n - api/common/IMAGE_CONFIG\n - api/common/NgOptimizedImage\n - errors/NG0913#debugging-the-error\n - errors/NG0913#description\n - errors/NG0913#disabling-image-performance-warnings\n - errors/NG0913#lazy-loaded-lcp-element\n - errors/NG0913#ng0913-performance-harming-image-elements-detected-at-runtime\n - errors/NG0913#oversized-images\n - errors/NG0913#ways-to-fix-lazy-loaded-lcp-element\n - errors/NG0913#ways-to-fix-oversized-images\n - https://angular.io/api/common/NgOptimizedImage\n - https://angular.io/guide/image-directive#request-images-at-the-correct-size-with-automatic-srcset\n - https://angular.io/guide/image-directive#step-4-mark-images-as-priority\n - https://web.dev/codelab-density-descriptors/#pixel-density\n - https://web.dev/lcp/\n - https://web.dev/learn/design/responsive-images/#responsive-images-with-srcset\n - https://web.dev/vitals/\n-->"}