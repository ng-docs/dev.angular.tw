{"id":"tutorial/tour-of-heroes/toh-pt5","title":"用路由添加导航支持","contents":"<div class=\"content\">\n  <h1 id=\"add-navigation-with-routing\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"j36wbf3en7hhxdalvuidzlcy\">用路由添加导航支持<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-navigation-with-routing\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7o8njvcvp6nv5wsgb9ynbhzri\">《英雄之旅》有一些新需求：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b5ygx8u52zv8qlsvdmcil3hnc\">添加一个<em>仪表盘</em>视图</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"daojghmjm8rfm3xl0fqufnnmk\">添加在<em>英雄列表</em>和<em>仪表盘</em>视图之间导航的能力</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1k7q0nx8hfldrbmuvt31sstpz\">无论在哪个视图中点击一个英雄，都会导航到该英雄的详情页</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"90wqh26mtipzeny4ldtzry63z\">在邮件中点击一个<em>深链接</em>，会直接打开一个特定英雄的详情视图</li>\n</ul>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d5oeh6bf2o8adlc4yerbj497y\">这里所说的范例应用，参阅<live-example></live-example>。</p>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bkjapjs2mh3rtya8jac6s7rse\">完成时，用户就能像这样在应用中导航：</p>\n<div class=\"lightbox\">\n<img alt=\"View navigations\" src=\"generated/images/guide/toh/nav-diagram.png\" width=\"1550\" height=\"822\">\n</div>\n<h2 id=\"add-the-approutingmodule\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3je6h3t8dhc9fkkfjjueydbbl\">添加 <code>AppRoutingModule</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-the-approutingmodule\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cud5wcnzj93u5wv8m7bcl4lnl\">在 Angular 中，最好在一个独立的顶层模块中加载和配置路由器，它专注于路由功能，然后由根模块 <code>AppModule</code> 导入它。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aac2vcfacntzdq7o0xdlfl3el\">按照惯例，这个模块类的名字叫做 <code>AppRoutingModule</code>，并且位于 <code>src/app</code> 下的 <code>app-routing.module.ts</code> 文件中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c4h0maeyx1hkwdj171r7yeqgs\">运行 <code>ng generate</code> 以创建该应用的路由模块。</p>\n<code-example format=\"shell\" language=\"shell\">\n\nng generate module app-routing --flat --module=app\n\n</code-example>\n<div class=\"alert is-helpful\">\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7t8gjuuu05sa5zyndftf6lyfq\">参数</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>--flat</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"17ddtoeotpkqahmisa9yuait1\">将文件放在\n<code>src/app</code>而不是单独的目录中。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>--module=app</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d0kctuia6svb38wjxn749i91j\">告诉\n<code>ng generate</code>将其注册到\n<code>AppModule</code>的\n<code>imports</code>数组中。</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3vg277mcen56kv206r4rnqjge\"><code>ng generate</code> 创建的文件是这样的：</p>\n<code-example header=\"src/app/app-routing.module.ts (generated)\" path=\"toh-pt5/src/app/app-routing.module.0.ts\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { <a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a> } from '@angular/common';\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [\n    <a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a>\n  ],\n  declarations: []\n})\nexport class AppRoutingModule { }\n\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ez0bklaqwl7ovdg1zik7kw11s\">把它替换为如下代码：</p>\n<code-example header=\"src/app/app-routing.module.ts (updated)\" path=\"toh-pt5/src/app/app-routing.module.1.ts\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { <a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a>, <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> } from '@angular/router';\nimport { HeroesComponent } from './heroes/heroes.component';\n\nconst routes: <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> = [\n  { path: 'heroes', component: HeroesComponent }\n];\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [<a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a>]\n})\nexport class AppRoutingModule { }\n\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"677vcv4vns0g6ooy3etehou3k\">首先，<code>app-routing.module.ts</code> 会导入 <code><a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a></code> 和 <code><a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a></code>，以便该应用具有路由功能。配置好路由后，接着导入 <code>HeroesComponent</code>，它将告诉路由器要去什么地方。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"exu8xunuf0vmfowacap8facj3\">注意，对 <code><a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a></code> 的引用和 <code>declarations</code> 数组不是必要的，因此它们不再是 <code>AppRoutingModule</code> 的一部分。以下各节将详细介绍 <code>AppRoutingModule</code> 的其余部分。</p>\n<h3 id=\"routes\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"anrnn4h61d6a969fjjxz5ep43\">路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#routes\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1kx0ptp6t7n8kd9rb9uea3jy6\">该文件的下一部分是你的路由配置。<em>Routes</em> 告诉路由器，当用户单击链接或将 URL 粘贴进浏览器地址栏时要显示哪个视图。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8m4ov3v91yg4zaz1e22ht0och\">由于 <code>app-routing.module.ts</code> 已经导入了 <code>HeroesComponent</code>，因此你可以直接在 <code>routes</code> 数组中使用它：</p>\n<code-example header=\"src/app/app-routing.module.ts\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"heroes-route\">\n\nconst routes: <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> = [\n  { path: 'heroes', component: HeroesComponent }\n];\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"asifrk7ysnbmdto17zp94czt6\">典型的 Angular <code><a href=\"api/router/Route\" class=\"code-anchor\">Route</a></code> 具有两个属性：</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9ghvm54f9feewnb0zbrlubp2h\">属性</th>\n<th align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3prlgfrx5eo2xqncnnob4crxu\">详情</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>path</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"danl4d15k4x2v5305bgdh9q2c\">与浏览器地址栏中的 URL 匹配的字符串。</td>\n</tr>\n<tr>\n<td align=\"left\"><code>component</code></td>\n<td align=\"left\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4fbja9x2eg5ualz415r62t3i5\">导航到该路由时路由器应该创建的组件。</td>\n</tr>\n</tbody>\n</table>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6rzt4kym9kgeqr4ii33cwj0c\">这会告诉路由器把该 URL 与 <code>path：'heroes'</code> 匹配。如果网址类似于 <code>localhost:4200/heroes</code> 就显示 <code>HeroesComponent</code>。</p>\n<h3 id=\"routermoduleforroot\"><code><a href=\"api/router/RouterModule#forRoot\" class=\"code-anchor\">RouterModule.forRoot()</a></code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#routermoduleforroot\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"22gx5eba8nqhbw3x9owaqyqme\"><code>@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 元数据会初始化路由器，并开始监听浏览器地址的变化。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f2exywdrg48l0oi62p49wdhdu\">下面的代码行将 <code><a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a></code> 添加到 <code>AppRoutingModule</code> 的 <code>imports</code> 数组中，同时通过调用 <code><a href=\"api/router/RouterModule#forRoot\" class=\"code-anchor\">RouterModule.forRoot()</a></code> 来用这些 <code>routes</code> 配置它：</p>\n<code-example header=\"src/app/app-routing.module.ts\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"ngmodule-imports\">\nimports: [ RouterModule.forRoot(routes) ],\n\n</code-example>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7vo2mwtu06haioa9kik4taj69\">这个方法之所以叫 <code>forRoot()</code>，是因为你要在应用的顶层配置这个路由器。<code>forRoot()</code> 方法会提供路由所需的服务提供者和指令，还会基于浏览器的当前 URL 执行首次导航。</p>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1743fylz9g6l93ox1i1reqh6p\">接下来，<code>AppRoutingModule</code> 导出 <code><a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a></code>，以便它在整个应用程序中生效。</p>\n<code-example header=\"src/app/app-routing.module.ts (exports array)\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"export-routermodule\">\nexports: [ <a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a> ]\n\n</code-example>\n<h2 id=\"add-routeroutlet\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b3l564yrnxuh6j5l4n2n7eief\">添加 <code><a href=\"api/router/RouterOutlet\" class=\"code-anchor\">RouterOutlet</a></code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-routeroutlet\"><i class=\"material-icons\">link</i></a></h2>\n<!-- markdownlint-disable MD001 -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f52t8hfusj6jjcusxgyed5dq3\">打开 <code>AppComponent</code> 的模板，把 <code>&lt;app-heroes&gt;</code> 元素替换为 <code>&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;</code> 元素。</p>\n<code-example header=\"src/app/app.component.html (router-outlet)\" path=\"toh-pt5/src/app/app.component.html\" region=\"outlet\">\n&lt;h1&gt;{{title}}&lt;/h1&gt;\n&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;&lt;/<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;\n&lt;app-messages&gt;&lt;/app-messages&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7kwgia2hqe2g9cu245khcyd2s\"><code>AppComponent</code> 的模板不再需要 <code>&lt;app-heroes&gt;</code>，因为只有当用户导航到这里时，才需要显示 <code>HeroesComponent</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9turdmmngj6ivbrs4h6tyu76u\"><code>&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;</code> 会告诉路由器要在哪里显示路由的视图。</p>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1ep4llq0yr3srr8h2i37f3c6l\">能在 <code>AppComponent</code> 中使用 <code><a href=\"api/router/RouterOutlet\" class=\"code-anchor\">RouterOutlet</a></code>，是因为 <code>AppModule</code> 导入了 <code>AppRoutingModule</code>，而 <code>AppRoutingModule</code> 中导出了 <code><a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a></code>。在本教程开始时你运行的那个 <code>ng generate</code> 命令添加了这个导入，是因为 <code>--module=app</code> 标志。如果你没有使用 <code>ng generate</code> 命令来创建 <code>app-routing.module.ts</code>，就要把 <code>AppRoutingModule</code> 导入到 <code>app.module.ts</code> 中，并且把它添加到 <code><a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a></code> 的 <code>imports</code> 数组中。</p>\n</div>\n<!-- markdownlint-disable MD024 -->\n<h4 id=\"try-it\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5o8k80g83w0jrloe187y9vxwi\">试试看<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#try-it\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"du9dybw6qow1jvxsymi5zc79f\">如果应用服务器没有在运行，请执行 <code>ng serve</code> 命令，以便在浏览器中看到你的应用。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9kn2ghz87dduaf36gx4bsdh3n\">浏览器应该刷新，并显示着应用的标题，但是没有显示英雄列表。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"18zry3so0iywwt36wqfb7xss1\">看看浏览器的地址栏。URL 是以 <code>/</code> 结尾的。而到 <code>HeroesComponent</code> 的路由路径是 <code>/heroes</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bjr5r2q56ukjanngf3jxgu2qz\">在地址栏中把 <code>/heroes</code> 追加到 URL 后面。你应该能看到熟悉的主从结构的英雄显示界面。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ymh87m6pf1qs2lbxcpj005nj\">从浏览器地址栏中的 URL 中移除 <code>/heroes</code>。浏览器就会刷新，并且显示本应用的标题，而不显示英雄列表。</p>\n<!-- markdownlint-enable MD001 -->\n<!-- markdownlint-enable MD024 -->\n<p><a id=\"routerlink\"></a></p>\n<h2 id=\"add-a-navigation-link-using-routerlink\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2aeolkjezq5347rfkr9pmcxmg\">添加路由链接 (<code><a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a></code>)<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-a-navigation-link-using-routerlink\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1y2t24v11d4njl3i8kw8wyz2y\">理想情况下，用户应该能通过点击链接进行导航，而不用被迫把路由的 URL 粘贴到地址栏。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bzsp661gisp5hdeu8c8tupkje\">添加一个 <code>&lt;nav&gt;</code> 元素，并在其中放一个链接 <code>&lt;a&gt;</code> 元素，当点击它时，就会触发一个到 <code>HeroesComponent</code> 的导航。修改过的 <code>AppComponent</code> 模板如下：</p>\n<code-example header=\"src/app/app.component.html (heroes RouterLink)\" path=\"toh-pt5/src/app/app.component.html\" region=\"heroes\">\n&lt;h1&gt;{{title}}&lt;/h1&gt;\n&lt;nav&gt;\n  &lt;a <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/heroes\"&gt;Heroes&lt;/a&gt;\n&lt;/nav&gt;\n&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;&lt;/<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;\n&lt;app-messages&gt;&lt;/app-messages&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3z1of4vewx5ol3dy3d1jsu06q\"><a href=\"tutorial/tour-of-heroes/toh-pt5#routerlink\"><code>routerLink</code> 属性</a>的值为 <code>\"/heroes\"</code>，路由器会用它来匹配出指向 <code>HeroesComponent</code> 的路由。\n<code><a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a></code> 是 <a href=\"api/router/RouterLink\"><code>RouterLink</code> 指令</a>的选择器，它会把用户的点击转换为路由器的导航操作。\n它是 <code><a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a></code> 中的另一个公共指令。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"elrz92pnpou3dmevshrylddv2\">刷新浏览器，显示出了应用的标题和指向英雄列表的链接，但并没有显示英雄列表。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"63pn0i6mpnd4u2gbgogpplzll\">点击这个链接。地址栏变成了 <code>/heroes</code>，并且显示出了英雄列表。</p>\n<div class=\"alert is-helpful\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"10ljpazodqorqbw0zgzhu4qb9\">从下面的 <a href=\"tutorial/tour-of-heroes/toh-pt5#appcomponent\">最终代码</a>中把私有 CSS 样式添加到 <code>app.component.css</code> 中，可以让导航链接变得更好看一点。</p>\n</div>\n<h2 id=\"add-a-dashboard-view\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6j7a9hu24keu4ta1xz1fur0t9\">添加仪表盘视图<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-a-dashboard-view\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6sb1809bfq5giuhl08im13je5\">当你的的应用有多个视图时，路由会更有价值。不过目前的《英雄之旅》应用还只有一个英雄列表视图。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5t0y4tkav7xjbwrqx2xua1b61\">要想添加 <code>DashboardComponent</code>，请运行如下 <code>ng generate</code> 命令：</p>\n<code-example format=\"shell\" language=\"shell\">\n\nng generate component dashboard\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b6s1hp5v6y9xak98ejfdphire\">CLI 生成了 <code>DashboardComponent</code> 的相关文件，并把它声明到 <code>AppModule</code> 中。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4ovpji1ka7bdj2kyyajnpdzu5\">把这三个文件中的内容改成这样：</p>\n<code-tabs>\n    <code-pane header=\"src/app/dashboard/dashboard.component.html\" path=\"toh-pt5/src/app/dashboard/dashboard.component.1.html\">\n&lt;h2&gt;Top Heroes&lt;/h2&gt;\n&lt;div class=\"heroes-menu\"&gt;\n  &lt;a *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of heroes\"&gt;\n    {{hero.name}}\n  &lt;/a&gt;\n&lt;/div&gt;\n\n\n</code-pane>\n    <code-pane header=\"src/app/dashboard/dashboard.component.ts\" path=\"toh-pt5/src/app/dashboard/dashboard.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a>, <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> } from '@angular/core';\nimport { Hero } from '../hero';\nimport { HeroService } from '../hero.service';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: [ './dashboard.component.css' ]\n})\nexport class DashboardComponent implements <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> {\n  heroes: Hero[] = [];\n\n  constructor(private heroService: HeroService) { }\n\n  ngOnInit(): void {\n    this.getHeroes();\n  }\n\n  getHeroes(): void {\n    this.heroService.getHeroes()\n      .subscribe(heroes =&gt; this.heroes = heroes.slice(1, 5));\n  }\n}\n\n\n</code-pane>\n    <code-pane header=\"src/app/dashboard/dashboard.component.css\" path=\"toh-pt5/src/app/dashboard/dashboard.component.css\">\n/* DashboardComponent's private CSS styles */\n\nh2 {\n  text-align: center;\n}\n\n.heroes-menu {\n  padding: 0;\n  margin: auto;\n  max-width: 1000px;\n\n  /* flexbox */\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-content: flex-start;\n  align-items: flex-start;\n}\n\na {\n  background-color: #3f525c;\n  border-radius: 2px;\n  padding: 1rem;\n  font-size: 1.2rem;\n  text-decoration: none;\n  display: inline-block;\n  color: #fff;\n  text-align: center;\n  width: 100%;\n  min-width: 70px;\n  margin: .5rem auto;\n  box-sizing: border-box;\n\n  /* flexbox */\n  order: 0;\n  flex: 0 1 auto;\n  align-self: auto;\n}\n\n@media (min-width: 600px) {\n  a {\n    width: 18%;\n    box-sizing: content-box;\n  }\n}\n\na:hover {\n  background-color: #000;\n}\n\n\n</code-pane>\n</code-tabs>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7mjnnuoenxas7ty0iloc5l64s\">这个<em>模板</em>用来表示由英雄名字链接组成的一个阵列。</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bnh5x3egb6oeii1d6hlp6eske\"><code>*<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> 复写器为组件的 <code>heroes</code> 数组中的每个条目创建了一个链接。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9c7qbj7ofdgdxhk7ltedzhegr\">这些链接被 <code>dashboard.component.css</code> 中的样式格式化成了一些色块。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bbix3ik8g57d4kvlhacibz86t\">这些链接还没有指向任何地方。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"beq7i18altaovdeayudsmzbou\">这个<em>类</em>和 <code>HeroesComponent</code> 类很像。</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1lang4yzsgkicw05dqpmxyncr\">它定义了一个 <code>heroes</code> 数组属性。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6tz0xjb65lul2wra31dr4cwev\">它的构造函数希望 Angular 把 <code>HeroService</code> 注入到私有的 <code>heroService</code> 属性中。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e2gp11ckbiql8jpv0tbh0q4id\">在 <code>ngOnInit()</code> 生命周期钩子中调用 <code>getHeroes()</code>。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4gwlf6h79sj30uj2vyoqsd5bl\">这个 <code>getHeroes()</code> 函数会截取第 1 到 第 5 位英雄，也就是说只返回第二、第三、第四和第五个英雄。</p>\n<code-example header=\"src/app/dashboard/dashboard.component.ts\" path=\"toh-pt5/src/app/dashboard/dashboard.component.ts\" region=\"getHeroes\">\ngetHeroes(): void {\n  this.heroService.getHeroes()\n    .subscribe(heroes =&gt; this.heroes = heroes.slice(1, 5));\n}\n\n</code-example>\n<h3 id=\"add-the-dashboard-route\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5hy02e86h46ust748sh5u64vb\">添加仪表盘路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-the-dashboard-route\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4gi684uwl6i28pvl5scvitvjx\">要导航到仪表盘，路由器中就需要一个相应的路由。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2vtg6tnalayugobom5t6sl9tf\">把 <code>DashboardComponent</code> 导入到 <code>app-routing-module.ts</code> 中。</p>\n<code-example header=\"src/app/app-routing.module.ts (import DashboardComponent)\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"import-dashboard\">\nimport { DashboardComponent } from './dashboard/dashboard.component';\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5beyipx473mwj2pv2yrc21v3a\">把一个指向 <code>DashboardComponent</code> 的路由添加到 <code>routes</code> 数组中。</p>\n<code-example header=\"src/app/app-routing.module.ts\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"dashboard-route\">\n{ path: 'dashboard', component: DashboardComponent },\n\n</code-example>\n<h3 id=\"add-a-default-route\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"zds6xfzm0mci66cp8b4ld0m8\">添加默认路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-a-default-route\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2ryhnqg10sv4h986d5mlcg134\">当应用启动时，浏览器的地址栏指向了网站的根路径。它没有匹配到任何现存路由，因此路由器也不会导航到任何地方。<code>&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;</code> 下方是空白的。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d1ch7mj5j9g24t1scb4y20ddw\">要让应用自动导航到这个仪表盘，请把下列路由添加到 <code>routes</code> 数组中。</p>\n<code-example header=\"src/app/app-routing.module.ts\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"redirect-route\">\n{ path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4fi8c2l8spz5n9v9xvu8r2yda\">这个路由会把一个与空路径“完全匹配”的 URL 重定向到路径为 <code>'/dashboard'</code> 的路由。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dmqqu0r8pdy88zi7athgqmxsr\">浏览器刷新之后，路由器加载了 <code>DashboardComponent</code>，并且浏览器的地址栏会显示出 <code>/dashboard</code> 这个 URL。</p>\n<h3 id=\"add-dashboard-link-to-the-shell\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5oezov8zvfd55u4xwxnswwg1w\">把仪表盘链接添加到壳组件中<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-dashboard-link-to-the-shell\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"58cz4ui7g58fgds5xo0cgqsf3\">应该允许用户通过点击页面顶部导航区的各个链接在 <code>DashboardComponent</code> 和 <code>HeroesComponent</code> 之间来回导航。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cr5is7k6dt2vrmgussf184a97\">把仪表盘的导航链接添加到壳组件 <code>AppComponent</code> 的模板中，就放在 <em>Heroes</em> 链接的前面。</p>\n<code-example header=\"src/app/app.component.html\" path=\"toh-pt5/src/app/app.component.html\">\n&lt;h1&gt;{{title}}&lt;/h1&gt;\n&lt;nav&gt;\n  &lt;a <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/dashboard\"&gt;Dashboard&lt;/a&gt;\n  &lt;a <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/heroes\"&gt;Heroes&lt;/a&gt;\n&lt;/nav&gt;\n&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;&lt;/<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;\n&lt;app-messages&gt;&lt;/app-messages&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"19axb20mh2gg16pmpiheil56r\">刷新浏览器，你就能通过点击这些链接在这两个视图之间自由导航了。</p>\n<p><a id=\"hero-details\"></a></p>\n<h2 id=\"navigating-to-hero-details\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d4a4xmil4p80g89aw045y7nkl\">导航到英雄详情<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#navigating-to-hero-details\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4mekv3udwy1el80inp70ctgmf\"><code>HeroDetailComponent</code> 可以显示所选英雄的详情。此刻，<code>HeroDetailComponent</code> 只能在 <code>HeroesComponent</code> 的底部看到。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"blauwuciltiuiueq5c4bmloxd\">用户应该能通过三种途径看到这些详情。</p>\n<ol>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"47kj1bkq6ye27ib4ly0q3dz4c\">通过在仪表盘中点击某个英雄。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"comoj1aybyyjx9hoq8wk4hq1p\">通过在英雄列表中点击某个英雄。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"deyi7o8y7f004i1hmmtnmc8jc\">通过把一个“深链接” URL 粘贴到浏览器的地址栏中来指定要显示的英雄。</li>\n</ol>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"61ske9ctnqg8kcsny4vgia15o\">这一节弃用了导航到 <code>HeroDetailComponent</code> 的功能，并把它从 <code>HeroesComponent</code> 中解放出来。</p>\n<h3 id=\"delete-hero-details-from-heroescomponent\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"701dlpc7f9frscnqf1bid61ip\">从 <code>HeroesComponent</code> 中删除<em>英雄详情</em><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#delete-hero-details-from-heroescomponent\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8vizc4wdo1jinvgtub057di32\">当用户在 <code>HeroesComponent</code> 中点击某个英雄条目时，应用应该能导航到 <code>HeroDetailComponent</code>，从英雄列表视图切换到英雄详情视图。英雄列表视图将不再显示，而英雄详情视图要显示出来。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c3wt46jwyio29vwo1zqta2a0v\">打开 <code>heroes/heroes.component.html</code>，并从底部删除 <code>&lt;app-hero-detail&gt;</code> 元素。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2s2x1f1mf3nysmo0kdrr7sdn6\">目前，点击某个英雄条目还没有反应。不过当你启用了到 <code>HeroDetailComponent</code> 的路由之后，<a href=\"tutorial/tour-of-heroes/toh-pt5#heroes-component-links\">很快就能修复它</a>。</p>\n<h3 id=\"add-a-hero-detail-route\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"265xbcwk7scgp1unmtaluwpne\">添加<em>英雄详情</em>视图<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-a-hero-detail-route\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ek82xks2hube4rdzy0ve20gyf\">要导航到 <code>id</code> 为 <code>11</code> 的英雄的<em>详情</em>视图，类似于 <code>~/detail/11</code> 的 URL 将是一个不错的 URL。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4hzgv91chqpgghb2e0h0k35or\">打开 <code>app-routing.module.ts</code> 并导入 <code>HeroDetailComponent</code>。</p>\n<code-example header=\"src/app/app-routing.module.ts (import HeroDetailComponent)\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"import-herodetail\">\nimport { HeroDetailComponent } from './hero-detail/hero-detail.component';\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"16nsoexmeb3e1fhqdftnswrg5\">然后把一个<em>参数化</em>路由添加到 <code>routes</code> 数组中，它要匹配指向<em>英雄详情</em>视图的路径。</p>\n<code-example header=\"src/app/app-routing.module.ts\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"detail-route\">\n{ path: 'detail/:id', component: HeroDetailComponent },\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ca3f4h4jl6ulh73spijj3atfa\"><code>path</code> 中的冒号（<code>:</code>）表示 <code>:id</code> 是一个占位符，它表示某个特定英雄的 <code>id</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dfbjcmc2sby2r9giw8pgpmgkf\">此刻，应用中的所有路由都就绪了。</p>\n<code-example header=\"src/app/app-routing.module.ts (all routes)\" path=\"toh-pt5/src/app/app-routing.module.ts\" region=\"routes\">\nconst routes: <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> = [\n  { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n  { path: 'dashboard', component: DashboardComponent },\n  { path: 'detail/:id', component: HeroDetailComponent },\n  { path: 'heroes', component: HeroesComponent }\n];\n\n</code-example>\n<h3 id=\"dashboardcomponent-hero-links\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3w05n598ly7d8vpibs0k99li3\"><code>DashboardComponent</code> 中的英雄链接<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#dashboardcomponent-hero-links\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ehjoufypqyp08w1oeozd1v61s\">此刻，<code>DashboardComponent</code> 中的英雄连接还没有反应。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6bfkdkuk2sef2hj52no1bgzgo\">路由器已经有一个指向 <code>HeroDetailComponent</code> 的路由了，修改仪表盘中的英雄连接，让它们通过参数化的英雄详情路由进行导航。</p>\n<code-example header=\"src/app/dashboard/dashboard.component.html (hero links)\" path=\"toh-pt5/src/app/dashboard/dashboard.component.html\" region=\"click\">\n&lt;a *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of heroes\"\n  <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/detail/{{hero.id}}\"&gt;\n  {{hero.name}}\n&lt;/a&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5wijkhtvsfjrpsgaih5hyadfz\">你正在 <code>*<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> 复写器中使用 Angular 的<a href=\"guide/interpolation\">插值绑定</a>来把当前迭代的 <code>hero.id</code> 插入到每个 <a href=\"tutorial/tour-of-heroes/toh-pt5#routerlink\"><code>routerLink</code></a> 中。</p>\n<p><a id=\"heroes-component-links\"></a></p>\n<h3 id=\"heroescomponent-hero-links\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"m2rzxp74sts23516u32m9vkh\"><code>HeroesComponent</code> 中的英雄链接<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#heroescomponent-hero-links\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"do9k97ha706qhltkrhllq3j5d\"><code>HeroesComponent</code> 中的这些英雄条目都是 <code>&lt;li&gt;</code> 元素，它们的点击事件都绑定到了组件的 <code>onSelect()</code> 方法中。</p>\n<code-example header=\"src/app/heroes/heroes.component.html (list with onSelect)\" path=\"toh-pt4/src/app/heroes/heroes.component.html\" region=\"list\">\n&lt;ul class=\"heroes\"&gt;\n  &lt;li *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of heroes\"&gt;\n    &lt;button type=\"button\" (click)=\"onSelect(hero)\" [class.selected]=\"hero === selectedHero\"&gt;\n      &lt;span class=\"badge\"&gt;{{hero.id}}&lt;/span&gt;\n      &lt;span class=\"name\"&gt;{{hero.name}}&lt;/span&gt;\n    &lt;/button&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"854tu0g2snmigvvelne27n2wu\">移除 <code>&lt;li&gt;</code>，只保留它的 <code>*<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code>。把徽章（<code>&lt;badge&gt;</code>）和名字包裹进一个 <code>&lt;a&gt;</code> 元素中。\n像仪表盘的模板中那样为这个 <code>&lt;a&gt;</code> 元素添加一个 <code><a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a></code> 属性。</p>\n<code-example header=\"src/app/heroes/heroes.component.html (list with links)\" path=\"toh-pt5/src/app/heroes/heroes.component.html\" region=\"list\">\n&lt;ul class=\"heroes\"&gt;\n  &lt;li *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of heroes\"&gt;\n    &lt;a <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/detail/{{hero.id}}\"&gt;\n      &lt;span class=\"badge\"&gt;{{hero.id}}&lt;/span&gt; {{hero.name}}\n    &lt;/a&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6fidwauvvb2w4hto4os16k7f2\">还要修改 <code>heroes.component.css</code> 中的私有样式表，让列表恢复到以前的外观。\n修改后的样式表参阅本指南底部的<a href=\"tutorial/tour-of-heroes/toh-pt5#heroescomponent\">最终代码</a>。</p>\n<h4 id=\"remove-dead-code---optional\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2wbwstjkogjszw6neacsbkt30\">移除死代码（可选）<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#remove-dead-code---optional\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4zp16jarkwv3l5t4jtuigofg7\">虽然 <code>HeroesComponent</code> 类仍然能正常工作，但 <code>onSelect()</code> 方法和 <code>selectedHero</code> 属性已经没用了。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ekbhsmtkuo6qgnopq5dza5vhh\">为了将来更好维护，你最好清理掉它们。下面是删除了死代码之后的类。</p>\n<code-example header=\"src/app/heroes/heroes.component.ts (cleaned up)\" path=\"toh-pt5/src/app/heroes/heroes.component.ts\" region=\"class\">\nexport class HeroesComponent implements <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> {\n  heroes: Hero[] = [];\n\n  constructor(private heroService: HeroService) { }\n\n  ngOnInit(): void {\n    this.getHeroes();\n  }\n\n  getHeroes(): void {\n    this.heroService.getHeroes()\n    .subscribe(heroes =&gt; this.heroes = heroes);\n  }\n}\n\n</code-example>\n<h2 id=\"routable-herodetailcomponent\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2jbfumrprxkyjbowkjbjb3l5e\">支持路由的 <code>HeroDetailComponent</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#routable-herodetailcomponent\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8fs1az0ng953s126q9gwajnqk\">父组件 <code>HeroesComponent</code> 以前会设置 <code>HeroDetailComponent.hero</code> 属性，然后 <code>HeroDetailComponent</code> 就会显示这个英雄。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"41haougdjkdn4lcqp7o4pf9ar\"><code>HeroesComponent</code> 已经不会再那么做了。现在，当路由器会在响应形如 <code>~/detail/11</code> 的 URL 时创建 <code>HeroDetailComponent</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1jtarei6uwhrf2398ze88n0tm\"><code>HeroDetailComponent</code> 需要从一种新的途径获取<em>要显示的英雄</em>。本节会讲解如下操作：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"472zioscgwt5xkm3yxnlj16ec\">获取创建本组件的路由</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"sgtzlxgbpjyhrrdswyrxqio3\">从这个路由中提取出 <code>id</code></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2z96e65if8kyyv5oakxnls6lr\">通过 <code>HeroService</code> 从服务器上获取具有这个 <code>id</code> 的英雄数据。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"calslqvuuj0188cukzg9awi99\">先添加下列导入语句：</p>\n<code-example header=\"src/app/hero-detail/hero-detail.component.ts\" path=\"toh-pt5/src/app/hero-detail/hero-detail.component.ts\" region=\"added-imports\">\nimport { <a href=\"api/router/ActivatedRoute\" class=\"code-anchor\">ActivatedRoute</a> } from '@angular/router';\nimport { <a href=\"api/common/Location\" class=\"code-anchor\">Location</a> } from '@angular/common';\n\nimport { HeroService } from '../hero.service';\n\n</code-example>\n<p><a id=\"hero-detail-ctor\"></a></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"egrckdcz1vxnuzsbf57mxhbgm\">然后把 <code><a href=\"api/router/ActivatedRoute\" class=\"code-anchor\">ActivatedRoute</a></code>、<code>HeroService</code> 和 <code><a href=\"api/common/Location\" class=\"code-anchor\">Location</a></code> 服务注入到构造函数中，将它们的值保存到私有变量里：</p>\n<code-example header=\"src/app/hero-detail/hero-detail.component.ts\" path=\"toh-pt5/src/app/hero-detail/hero-detail.component.ts\" region=\"ctor\">\nconstructor(\n  private route: <a href=\"api/router/ActivatedRoute\" class=\"code-anchor\">ActivatedRoute</a>,\n  private heroService: HeroService,\n  private location: <a href=\"api/common/Location\" class=\"code-anchor\">Location</a>\n) {}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6hxhbb80f21otshzep8vjclt5\"><a href=\"api/router/ActivatedRoute\"><code>ActivatedRoute</code></a> 保存着到这个 <code>HeroDetailComponent</code> 实例的路由信息。这个组件对从 URL 中提取的路由参数感兴趣。其中的 <code>id</code> 参数就是要显示的英雄的 <code>id</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bohkvangcedtk2kyn30vd1gfy\"><a href=\"tutorial/tour-of-heroes/toh-pt4\"><code>HeroService</code></a> 从远端服务器获取英雄数据，本组件将使用它来获取要显示的英雄。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4fm7g1pltek4imwaw0r7h4skn\"><a href=\"api/common/Location\"><code>location</code></a> 是一个 Angular 的服务，用来与浏览器打交道。\n<a href=\"tutorial/tour-of-heroes/toh-pt5#goback\">稍后</a>，你就会使用它来导航回上一个视图。</p>\n<h3 id=\"extract-the-id-route-parameter\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bla3k0w1vv57225rrhm6blscv\">从路由参数中提取 <code>id</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#extract-the-id-route-parameter\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"buaq0qr88a3teg6nyvzuid1s9\">在 <code>ngOnInit()</code> <a href=\"guide/lifecycle-hooks#oninit\">生命周期钩子</a> 中调用 <code>getHero()</code>，代码如下。</p>\n<code-example header=\"src/app/hero-detail/hero-detail.component.ts\" path=\"toh-pt5/src/app/hero-detail/hero-detail.component.ts\" region=\"ngOnInit\">\nngOnInit(): void {\n  this.getHero();\n}\n\ngetHero(): void {\n  const id = Number(this.route.snapshot.paramMap.get('id'));\n  this.heroService.getHero(id)\n    .subscribe(hero =&gt; this.hero = hero);\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e1wn4mrmiwxlye4ulneoi3142\"><code>route.snapshot</code> 是一个路由信息的静态快照，抓取自组件刚刚创建完毕之后。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ace20n1533xmltbpvmdhpav14\"><code>paramMap</code> 是一个从 URL 中提取的路由参数值的字典。<code>\"id\"</code> 对应的值就是要获取的英雄的 <code>id</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8fofg2h73y5novng1e7mhmdfp\">路由参数总会是字符串。JavaScript 的 <code>Number</code> 函数会把字符串转换成数字，英雄的 <code>id</code> 就是数字类型。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dwbk3dcygtamcr22h44cqgqmv\">刷新浏览器，应用挂了。出现一个编译错误，因为 <code>HeroService</code> 没有一个名叫 <code>getHero()</code> 的方法。这就添加它。</p>\n<h3 id=\"add-heroservicegethero\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4q5fosxqtht52cvx5l66jbhxu\">添加 <code>HeroService.getHero()</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#add-heroservicegethero\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"36ti92hhd8zj858kwqb051jo5\">添加 <code>HeroService</code>，并在 <code>getHeroes()</code> 后面添加如下的 <code>getHero()</code> 方法，它接收 <code>id</code> 参数：</p>\n<code-example header=\"src/app/hero.service.ts (getHero)\" path=\"toh-pt5/src/app/hero.service.ts\" region=\"getHero\">\ngetHero(id: number): Observable&lt;Hero&gt; {\n  // For now, assume that a hero with the specified `id` always exists.\n  // Error handling will be added in the next step of the tutorial.\n  const hero = HEROES.find(h =&gt; h.id === id)!;\n  this.messageService.add(`HeroService: fetched hero id=${id}`);\n  return of(hero);\n}\n\n</code-example>\n<div class=\"alert is-important\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a11lhp24l70c9qzapx1ykokgo\"><strong>重要</strong>：<br>\n反引号 ( ` ) 用于定义 JavaScript 的 <a href=\"https://developer.mozilla.org/docs/Web/JavaScript/Reference/Template_literals\">模板字符串字面量</a>，以便嵌入 <code>id</code>。</p>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"acjtfla5bjrvsgct90p62jbj3\">像 <a href=\"tutorial/tour-of-heroes/toh-pt4#observable-heroservice\"><code>getHeroes()</code></a> 一样，<code>getHero()</code> 也有一个异步函数签名。它用 RxJS 的 <code>of()</code> 函数返回一个 <code>Observable</code> 形式的<em>模拟英雄数据</em>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"49kiib8r5r4z5e0n07dimyvlj\">你将来可以用一个真实的 <code>Http</code> 请求来重新实现 <code>getHero()</code>，而不用修改调用了它的 <code>HeroDetailComponent</code>。</p>\n<!-- markdownlint-disable MD024 -->\n<h4 id=\"try-it-1\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5o8k80g83w0jrloe187y9vxwi\">试试看<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#try-it-1\"><i class=\"material-icons\">link</i></a></h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ck60u2th9ifpuvvl7f7y5cj48\">刷新浏览器，应用又恢复正常了。你可以在仪表盘或英雄列表中点击一个英雄来导航到该英雄的详情视图。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d14wm6wj5337j8vnkc7d1hmox\">如果你在浏览器的地址栏中粘贴了 <code>localhost:4200/detail/11</code>，路由器也会导航到 <code>id: 11</code> 的英雄（\"Dr. Nice\"）的详情视图。</p>\n<!-- markdownlint-enable MD024 -->\n<p><a id=\"goback\"></a></p>\n<h3 id=\"find-the-way-back\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"adex0z1gbt7i0g794nxcooxh6\">回到原路<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#find-the-way-back\"><i class=\"material-icons\">link</i></a></h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cdz3bn3zjs0f30zg5z5l7ikq5\">通过点击浏览器的后退按钮，你可以回到前一页。它可能是英雄列表或仪表盘视图，这取决于你从哪里进入的详情视图。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ahxkspumcjc5jgd0qlvmdeao4\">如果能在 <code>HeroDetail</code> 视图中也有这么一个按钮就更好了。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dcrt2tb8x3gcfz1ogarshwiv5\">把一个<em>后退</em>按钮添加到组件模板的底部，并且把它绑定到组件的 <code>goBack()</code> 方法。</p>\n<code-example header=\"src/app/hero-detail/hero-detail.component.html (back button)\" path=\"toh-pt5/src/app/hero-detail/hero-detail.component.html\" region=\"back-button\">\n&lt;button type=\"button\" (click)=\"goBack()\"&gt;go back&lt;/button&gt;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e060dxcwnz9vwgiqm1jys84f6\">在组件类中添加一个 <code>goBack()</code> 方法，利用<a href=\"tutorial/tour-of-heroes/toh-pt5#hero-detail-ctor\">你以前注入的</a> <code><a href=\"api/common/Location\" class=\"code-anchor\">Location</a></code> 服务在浏览器的历史栈中后退一步。</p>\n<code-example header=\"src/app/hero-detail/hero-detail.component.ts (goBack)\" path=\"toh-pt5/src/app/hero-detail/hero-detail.component.ts\" region=\"goBack\">\ngoBack(): void {\n  this.location.back();\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7t2h59vtiaiwx0tap3iw5j9b\">刷新浏览器，并开始点击。用户能在应用中导航：从仪表盘到英雄详情再回来，从英雄列表到 mini 版英雄详情到英雄详情，再回到英雄列表。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6cm5t86wdsp7hq4dskqdmhxkx\">当你将一些私有 CSS 样式添加到 <code>hero-detail.component.css</code> 里之后，其细节看起来会更好，如下面的<a href=\"tutorial/tour-of-heroes/toh-pt5#final-code-review\">“查看最终代码”</a>标签页中所示。</p>\n<h2 id=\"final-code-review\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e9wa7wkqdj6wmwmxq53bbnpvt\">查看最终代码<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#final-code-review\"><i class=\"material-icons\">link</i></a></h2>\n<!-- markdownlint-disable MD001 -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eilmfylhtwekadywj9b0lljjc\">下面是本页所提到的源代码。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1cx69l53mvprqosqzbngsma2o\"><a id=\"approutingmodule\"></a>\n<a id=\"appmodule\"></a></p>\n<h4 id=\"approutingmodule-appmodule-and-heroservice\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9gckvbwv8tr4dkwaonexnu4x9\"><code>AppRoutingModule</code>、<code>AppModule</code> 和 <code>HeroService</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#approutingmodule-appmodule-and-heroservice\"><i class=\"material-icons\">link</i></a></h4>\n<code-tabs>\n    <code-pane header=\"src/app/app.module.ts\" path=\"toh-pt5/src/app/app.module.ts\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a> } from '@angular/platform-browser';\nimport { <a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a> } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { HeroDetailComponent } from './hero-detail/hero-detail.component';\nimport { HeroesComponent } from './heroes/heroes.component';\nimport { MessagesComponent } from './messages/messages.component';\n\nimport { AppRoutingModule } from './app-routing.module';\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [\n    <a href=\"api/platform-browser/BrowserModule\" class=\"code-anchor\">BrowserModule</a>,\n    <a href=\"api/forms/FormsModule\" class=\"code-anchor\">FormsModule</a>,\n    AppRoutingModule\n  ],\n  declarations: [\n    AppComponent,\n    DashboardComponent,\n    HeroesComponent,\n    HeroDetailComponent,\n    MessagesComponent\n  ],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n\n</code-pane>\n    <code-pane header=\"src/app/app-routing.module.ts\" path=\"toh-pt5/src/app/app-routing.module.ts\">\nimport { <a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a> } from '@angular/core';\nimport { <a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a>, <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> } from '@angular/router';\n\nimport { DashboardComponent } from './dashboard/dashboard.component';\nimport { HeroesComponent } from './heroes/heroes.component';\nimport { HeroDetailComponent } from './hero-detail/hero-detail.component';\n\nconst routes: <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> = [\n  { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n  { path: 'dashboard', component: DashboardComponent },\n  { path: 'detail/:id', component: HeroDetailComponent },\n  { path: 'heroes', component: HeroesComponent }\n];\n\n@<a href=\"api/core/NgModule\" class=\"code-anchor\">NgModule</a>({\n  imports: [ RouterModule.forRoot(routes) ],\n  exports: [ <a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a> ]\n})\nexport class AppRoutingModule {}\n\n</code-pane>\n    <code-pane header=\"src/app/hero.service.ts\" path=\"toh-pt5/src/app/hero.service.ts\">\nimport { <a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a> } from '@angular/core';\n\nimport { Observable, of } from 'rxjs';\n\nimport { Hero } from './hero';\nimport { HEROES } from './mock-heroes';\nimport { MessageService } from './message.service';\n\n@<a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a>({ providedIn: 'root' })\nexport class HeroService {\n\n  constructor(private messageService: MessageService) { }\n\n  getHeroes(): Observable&lt;Hero[]&gt; {\n    const heroes = of(HEROES);\n    this.messageService.add('HeroService: fetched heroes');\n    return heroes;\n  }\n\n  getHero(id: number): Observable&lt;Hero&gt; {\n    // For now, assume that a hero with the specified `id` always exists.\n    // Error handling will be added in the next step of the tutorial.\n    const hero = HEROES.find(h =&gt; h.id === id)!;\n    this.messageService.add(`HeroService: fetched hero id=${id}`);\n    return of(hero);\n  }\n}\n\n\n</code-pane>\n</code-tabs>\n<p><a id=\"appcomponent\"></a></p>\n<h4 id=\"appcomponent\"><code>AppComponent</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#appcomponent\"><i class=\"material-icons\">link</i></a></h4>\n<code-tabs>\n    <code-pane header=\"src/app/app.component.html\" path=\"toh-pt5/src/app/app.component.html\">\n&lt;h1&gt;{{title}}&lt;/h1&gt;\n&lt;nav&gt;\n  &lt;a <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/dashboard\"&gt;Dashboard&lt;/a&gt;\n  &lt;a <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/heroes\"&gt;Heroes&lt;/a&gt;\n&lt;/nav&gt;\n&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;&lt;/<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;\n&lt;app-messages&gt;&lt;/app-messages&gt;\n\n</code-pane>\n    <code-pane header=\"src/app/app.component.ts\" path=\"toh-pt5/src/app/app.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a> } from '@angular/core';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'Tour of Heroes';\n}\n\n\n</code-pane>\n    <code-pane header=\"src/app/app.component.css\" path=\"toh-pt5/src/app/app.component.css\">\n/* AppComponent's private CSS styles */\nh1 {\n  margin-bottom: 0;\n}\nnav a {\n  padding: 1rem;\n  text-decoration: none;\n  margin-top: 10px;\n  display: inline-block;\n  background-color: #e8e8e8;\n  color: #3d3d3d;\n  border-radius: 4px;\n}\n\nnav a:hover {\n  color: white;\n  background-color: #42545C;\n}\nnav a:active {\n  background-color: black;\n}\n\n\n</code-pane>\n</code-tabs>\n<p><a id=\"dashboardcomponent\"></a></p>\n<h4 id=\"dashboardcomponent\"><code>DashboardComponent</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#dashboardcomponent\"><i class=\"material-icons\">link</i></a></h4>\n<code-tabs>\n    <code-pane header=\"src/app/dashboard/dashboard.component.html\" path=\"toh-pt5/src/app/dashboard/dashboard.component.html\">\n&lt;h2&gt;Top Heroes&lt;/h2&gt;\n&lt;div class=\"heroes-menu\"&gt;\n  &lt;a *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of heroes\"\n    <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/detail/{{hero.id}}\"&gt;\n    {{hero.name}}\n  &lt;/a&gt;\n&lt;/div&gt;\n\n\n</code-pane>\n    <code-pane header=\"src/app/dashboard/dashboard.component.ts\" path=\"toh-pt5/src/app/dashboard/dashboard.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a>, <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> } from '@angular/core';\nimport { Hero } from '../hero';\nimport { HeroService } from '../hero.service';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-dashboard',\n  templateUrl: './dashboard.component.html',\n  styleUrls: [ './dashboard.component.css' ]\n})\nexport class DashboardComponent implements <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> {\n  heroes: Hero[] = [];\n\n  constructor(private heroService: HeroService) { }\n\n  ngOnInit(): void {\n    this.getHeroes();\n  }\n\n  getHeroes(): void {\n    this.heroService.getHeroes()\n      .subscribe(heroes =&gt; this.heroes = heroes.slice(1, 5));\n  }\n}\n\n\n</code-pane>\n    <code-pane header=\"src/app/dashboard/dashboard.component.css\" path=\"toh-pt5/src/app/dashboard/dashboard.component.css\">\n/* DashboardComponent's private CSS styles */\n\nh2 {\n  text-align: center;\n}\n\n.heroes-menu {\n  padding: 0;\n  margin: auto;\n  max-width: 1000px;\n\n  /* flexbox */\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-around;\n  align-content: flex-start;\n  align-items: flex-start;\n}\n\na {\n  background-color: #3f525c;\n  border-radius: 2px;\n  padding: 1rem;\n  font-size: 1.2rem;\n  text-decoration: none;\n  display: inline-block;\n  color: #fff;\n  text-align: center;\n  width: 100%;\n  min-width: 70px;\n  margin: .5rem auto;\n  box-sizing: border-box;\n\n  /* flexbox */\n  order: 0;\n  flex: 0 1 auto;\n  align-self: auto;\n}\n\n@media (min-width: 600px) {\n  a {\n    width: 18%;\n    box-sizing: content-box;\n  }\n}\n\na:hover {\n  background-color: #000;\n}\n\n\n</code-pane>\n</code-tabs>\n<p><a id=\"heroescomponent\"></a></p>\n<h4 id=\"heroescomponent\"><code>HeroesComponent</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#heroescomponent\"><i class=\"material-icons\">link</i></a></h4>\n<code-tabs>\n    <code-pane header=\"src/app/heroes/heroes.component.html\" path=\"toh-pt5/src/app/heroes/heroes.component.html\">\n&lt;h2&gt;My Heroes&lt;/h2&gt;\n&lt;ul class=\"heroes\"&gt;\n  &lt;li *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let hero of heroes\"&gt;\n    &lt;a <a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>=\"/detail/{{hero.id}}\"&gt;\n      &lt;span class=\"badge\"&gt;{{hero.id}}&lt;/span&gt; {{hero.name}}\n    &lt;/a&gt;\n  &lt;/li&gt;\n&lt;/ul&gt;\n\n\n</code-pane>\n    <code-pane header=\"src/app/heroes/heroes.component.ts\" path=\"toh-pt5/src/app/heroes/heroes.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a>, <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> } from '@angular/core';\n\nimport { Hero } from '../hero';\nimport { HeroService } from '../hero.service';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-heroes',\n  templateUrl: './heroes.component.html',\n  styleUrls: ['./heroes.component.css']\n})\nexport class HeroesComponent implements <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> {\n  heroes: Hero[] = [];\n\n  constructor(private heroService: HeroService) { }\n\n  ngOnInit(): void {\n    this.getHeroes();\n  }\n\n  getHeroes(): void {\n    this.heroService.getHeroes()\n    .subscribe(heroes =&gt; this.heroes = heroes);\n  }\n}\n\n\n</code-pane>\n    <code-pane header=\"src/app/heroes/heroes.component.css\" path=\"toh-pt5/src/app/heroes/heroes.component.css\">\n/* HeroesComponent's private CSS styles */\n.heroes {\n  margin: 0 0 2em 0;\n  list-style-type: none;\n  padding: 0;\n  width: 15em;\n}\n.heroes li {\n  position: relative;\n  cursor: pointer;\n}\n\n.heroes li:hover {\n  left: .1em;\n}\n\n.heroes a {\n  color: #333;\n  text-decoration: none;\n  background-color: #EEE;\n  margin: .5em;\n  padding: .3em 0;\n  height: 1.6em;\n  border-radius: 4px;\n  display: block;\n  width: 100%;\n}\n\n.heroes a:hover {\n  color: #2c3a41;\n  background-color: #e6e6e6;\n}\n\n.heroes a:active {\n  background-color: #525252;\n  color: #fafafa;\n}\n\n.heroes .badge {\n  display: inline-block;\n  font-size: small;\n  color: white;\n  padding: 0.8em 0.7em 0 0.7em;\n  background-color: #405061;\n  line-height: 1em;\n  position: relative;\n  left: -1px;\n  top: -4px;\n  height: 1.8em;\n  min-width: 16px;\n  text-align: right;\n  margin-right: .8em;\n  border-radius: 4px 0 0 4px;\n}\n\n\n</code-pane>\n</code-tabs>\n<p><a id=\"herodetailcomponent\"></a></p>\n<h4 id=\"herodetailcomponent\"><code>HeroDetailComponent</code><a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#herodetailcomponent\"><i class=\"material-icons\">link</i></a></h4>\n<code-tabs>\n    <code-pane header=\"src/app/hero-detail/hero-detail.component.html\" path=\"toh-pt5/src/app/hero-detail/hero-detail.component.html\">\n&lt;div *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"hero\"&gt;\n  &lt;h2&gt;{{hero.name | <a href=\"api/common/UpperCasePipe\" class=\"code-anchor\">uppercase</a>}} Details&lt;/h2&gt;\n  &lt;div&gt;&lt;span&gt;id: &lt;/span&gt;{{hero.id}}&lt;/div&gt;\n  &lt;div&gt;\n    &lt;label for=\"hero-name\"&gt;Hero name: &lt;/label&gt;\n    &lt;input id=\"hero-name\" [(<a href=\"api/forms/NgModel\" class=\"code-anchor\">ngModel</a>)]=\"hero.name\" placeholder=\"Hero name\"/&gt;\n  &lt;/div&gt;\n  &lt;button type=\"button\" (click)=\"goBack()\"&gt;go back&lt;/button&gt;\n&lt;/div&gt;\n\n\n</code-pane>\n    <code-pane header=\"src/app/hero-detail/hero-detail.component.ts\" path=\"toh-pt5/src/app/hero-detail/hero-detail.component.ts\">\nimport { <a href=\"api/core/Component\" class=\"code-anchor\">Component</a>, <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> } from '@angular/core';\nimport { <a href=\"api/router/ActivatedRoute\" class=\"code-anchor\">ActivatedRoute</a> } from '@angular/router';\nimport { <a href=\"api/common/Location\" class=\"code-anchor\">Location</a> } from '@angular/common';\n\nimport { Hero } from '../hero';\nimport { HeroService } from '../hero.service';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-hero-detail',\n  templateUrl: './hero-detail.component.html',\n  styleUrls: [ './hero-detail.component.css' ]\n})\nexport class HeroDetailComponent implements <a href=\"api/core/OnInit\" class=\"code-anchor\">OnInit</a> {\n  hero: Hero | undefined;\n\n  constructor(\n    private route: <a href=\"api/router/ActivatedRoute\" class=\"code-anchor\">ActivatedRoute</a>,\n    private heroService: HeroService,\n    private location: <a href=\"api/common/Location\" class=\"code-anchor\">Location</a>\n  ) {}\n\n  ngOnInit(): void {\n    this.getHero();\n  }\n\n  getHero(): void {\n    const id = Number(this.route.snapshot.paramMap.get('id'));\n    this.heroService.getHero(id)\n      .subscribe(hero =&gt; this.hero = hero);\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n}\n\n\n</code-pane>\n    <code-pane header=\"src/app/hero-detail/hero-detail.component.css\" path=\"toh-pt5/src/app/hero-detail/hero-detail.component.css\">\n/* HeroDetailComponent's private CSS styles */\nlabel {\n  color: #435960;\n  font-weight: bold;\n}\ninput {\n  font-size: 1em;\n  padding: .5rem;\n}\nbutton {\n  margin-top: 20px;\n  background-color: #eee;\n  padding: 1rem;\n  border-radius: 4px;\n  font-size: 1rem;\n}\nbutton:hover {\n  background-color: #cfd8dc;\n}\nbutton:disabled {\n  background-color: #eee;\n  color: #ccc;\n  cursor: auto;\n}\n\n\n</code-pane>\n</code-tabs>\n<!-- markdownlint-enable MD001 -->\n<h2 id=\"summary\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2fflknbbur8ttwdtn3o9w4vat\">总结<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#summary\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6gk133ek185c0kmnahbgtfg8y\">添加了 Angular <em>路由器</em>在各个不同组件之间导航</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4op51rpct5i79wg4gzip50l0\">你使用一些 <code>&lt;a&gt;</code> 链接和一个 <code>&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;</code> 把 <code>AppComponent</code> 转换成了一个导航用的壳组件</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ads3t4eprynmhq3zmapgb598m\">你在 <code>AppRoutingModule</code> 中配置了路由器</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8y6wlhfaq0u44c5apo1vsa8x8\">你定义了一些简单路由、一个重定向路由和一个参数化路由</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e6worg3jupwvp588qn6mk5rwa\">你在 <code>&lt;a&gt;</code> 元素中使用了 <code><a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a></code> 指令</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dtp7rfi4fxei80yzwo0go0qyo\">你把一个紧耦合的主从视图重构成了带路由的详情视图</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d02ydq7dg8spmyvqsuruhnv89\">你使用路由链接参数来导航到所选英雄的详情视图</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"26nbh1yz71hkjn9arswe81jc4\">在多个组件之间共享了 <code>HeroService</code> 服务</li>\n</ul>\n<h2 id=\"next-steps\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c4pkljueu68ifjoi5994e9l8o\">下一步<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/tour-of-heroes/toh-pt5#next-steps\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a8bucvijn9fkztty4k34gv8vr\"><a href=\"tutorial/tour-of-heroes/toh-pt6\">6. 从服务器获取数据</a></li>\n</ul>\n\n  <div class=\"reviewed\">最后复查时间：Mon Feb 28 2022</div>\n</div>\n\n\n<!-- links to this doc:\n - guide/example-apps-list\n - guide/localizing-angular\n - tutorial/tour-of-heroes/toh-pt4\n-->\n<!-- links from this doc:\n - api/common/CommonModule\n - api/common/Location\n - api/common/NgFor\n - api/common/NgIf\n - api/common/UpperCasePipe\n - api/core/Component\n - api/core/Injectable\n - api/core/NgModule\n - api/core/OnInit\n - api/forms/FormsModule\n - api/forms/NgModel\n - api/platform-browser/BrowserModule\n - api/router/ActivatedRoute\n - api/router/Route\n - api/router/RouterLink\n - api/router/RouterModule\n - api/router/RouterModule#forRoot\n - api/router/RouterOutlet\n - api/router/Routes\n - guide/interpolation\n - guide/lifecycle-hooks#oninit\n - tutorial/tour-of-heroes/toh-pt4\n - tutorial/tour-of-heroes/toh-pt4#observable-heroservice\n - tutorial/tour-of-heroes/toh-pt5#add-a-dashboard-view\n - tutorial/tour-of-heroes/toh-pt5#add-a-default-route\n - tutorial/tour-of-heroes/toh-pt5#add-a-hero-detail-route\n - tutorial/tour-of-heroes/toh-pt5#add-a-navigation-link-using-routerlink\n - tutorial/tour-of-heroes/toh-pt5#add-dashboard-link-to-the-shell\n - tutorial/tour-of-heroes/toh-pt5#add-heroservicegethero\n - tutorial/tour-of-heroes/toh-pt5#add-navigation-with-routing\n - tutorial/tour-of-heroes/toh-pt5#add-routeroutlet\n - tutorial/tour-of-heroes/toh-pt5#add-the-approutingmodule\n - tutorial/tour-of-heroes/toh-pt5#add-the-dashboard-route\n - tutorial/tour-of-heroes/toh-pt5#appcomponent\n - tutorial/tour-of-heroes/toh-pt5#approutingmodule-appmodule-and-heroservice\n - tutorial/tour-of-heroes/toh-pt5#dashboardcomponent\n - tutorial/tour-of-heroes/toh-pt5#dashboardcomponent-hero-links\n - tutorial/tour-of-heroes/toh-pt5#delete-hero-details-from-heroescomponent\n - tutorial/tour-of-heroes/toh-pt5#extract-the-id-route-parameter\n - tutorial/tour-of-heroes/toh-pt5#final-code-review\n - tutorial/tour-of-heroes/toh-pt5#find-the-way-back\n - tutorial/tour-of-heroes/toh-pt5#hero-detail-ctor\n - tutorial/tour-of-heroes/toh-pt5#herodetailcomponent\n - tutorial/tour-of-heroes/toh-pt5#heroescomponent\n - tutorial/tour-of-heroes/toh-pt5#heroescomponent-hero-links\n - tutorial/tour-of-heroes/toh-pt5#navigating-to-hero-details\n - tutorial/tour-of-heroes/toh-pt5#next-steps\n - tutorial/tour-of-heroes/toh-pt5#remove-dead-code---optional\n - tutorial/tour-of-heroes/toh-pt5#routable-herodetailcomponent\n - tutorial/tour-of-heroes/toh-pt5#routerlink\n - tutorial/tour-of-heroes/toh-pt5#routermoduleforroot\n - tutorial/tour-of-heroes/toh-pt5#routes\n - tutorial/tour-of-heroes/toh-pt5#summary\n - tutorial/tour-of-heroes/toh-pt5#try-it\n - tutorial/tour-of-heroes/toh-pt5#try-it-1\n - tutorial/tour-of-heroes/toh-pt6\n - https://developer.mozilla.org/docs/Web/JavaScript/Reference/Template_literals\n-->"}