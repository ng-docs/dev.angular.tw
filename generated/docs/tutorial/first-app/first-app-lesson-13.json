{"id":"tutorial/first-app/first-app-lesson-13","title":"第13課：嚮應用新增搜尋功能","contents":"<div class=\"content\">\n  <h1 id=\"lesson-13-add-the-search-feature-to-your-app\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1uo66mq216rxbc95fwg91vhr\">第13課：嚮應用新增搜尋功能<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#lesson-13-add-the-search-feature-to-your-app\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5ri4f0qpbj6n22ak13q8buxv0\">本教學課程示範瞭如何向 Angular 應用程式新增搜尋功能。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c7dvmzlmo2ncowu58w4zyfbma\">該應用程式將使用戶能夠搜尋應用程式提供的資料，並且只顯示與輸入的字詞對應的結果。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7yrs6yvmlabo3pu7w8cj5do0j\"><strong>預計時間</strong>：約15分鐘</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1rsbs0uwzaxhbxdj860z9mz6a\"><strong>起始程式碼：</strong> \n<live-example name=\"first-app-lesson-12\"></live-example></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aof2h34al9jfstgdmh31qv94x\"><strong>完成程式碼：</strong> \n<live-example name=\"first-app-lesson-13\"></live-example></p>\n<h2 id=\"what-youll-learn\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cy8qhuh22qozu5okjmjfdf3nx\">你將學到<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#what-youll-learn\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6g1lmj8k1tee2jfffp2y5n6a7\">應用程式將使用表單中的資料來搜尋相對應的房屋位置</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bhpubsar5bp6toybrkcfsgc1m\">應用程式將僅顯示對應的房屋位置</li>\n</ul>\n<h2 id=\"step-1---update-the-home-component-properties\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c0delkk5vrvumckg598vqf4gv\">第 1 步 - 更新 home 元件屬性<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#step-1---update-the-home-component-properties\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"97t94r82g0ciarl2nriaph019\">在此步驟中，你將更新 <code>HomeComponent</code> 類別以將資料儲存在供過濾的新陣列屬性中。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3viorynj93yamhp6ra0kilky2\">在 <code>src/app/home/home.component.ts</code> 中，將新屬性新增到名為 <code>filteredLocationList</code> 的類別中。</p>\n<code-example header=\"Add the filtered results property\" path=\"first-app-lesson-13/src/app/home/home.component.ts\" region=\"add-filtered-location-list\">\nfilteredLocationList: HousingLocation[] = [];\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"kbamvy5fnf9et06woxy5ml4y\"><code>filteredLocationList</code> 持有與使用者輸入的搜尋條件相對應的值。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7i2954z0dvutnai3nqjo8784u\">頁面載入時，<code>filteredLocationList</code> 應預設包含所有房屋位置值。更新 <code>HomeComponent</code> 的 <code>constructor</code> 以設定值。</p>\n<code-example header=\"Set the value of filteredLocationList\" path=\"first-app-lesson-13/src/app/home/home.component.ts\" region=\"update-constructor\">\nconstructor() {\n  this.housingLocationList = this.housingService.getAllHousingLocations();\n  this.filteredLocationList = this.housingLocationList;\n}\n\n</code-example>\n</li>\n</ol>\n<h2 id=\"step-2---update-the-home-component-template\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4o71ryjluzwldpwrkwpf0bbpm\">第 2 步 - 更新 home 元件範本<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#step-2---update-the-home-component-template\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bs277uh7qym65atyq89y2pqm5\"><code>HomeComponent</code> 已經包含一個輸入欄位，你將使用它來捕獲使用者的輸入。該字串文字將用於過濾結果。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"crhswb7kmllt1tmj90e6a2wxa\">更新\n<code>HomeComponent</code>範本，包含一個在\n<input>元素中稱為\n<code>#filter</code>的範本變數。</p>\n<code-example header=\"Add a template variable to HomeComponent's template\" format=\"html\" language=\"html\">\n    &lt;input type=\"text\" placeholder=\"Filter by city\" #filter&gt;\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cjv5t9ifxvjvdrfiz13ag4g31\">這個範例使用一個\n<a href=\"/guide/template-reference-variables\">範本引用變數</a>來訪問\n<input>元素的值。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"23eqp257h2hrq7kez96r0uc6d\">接下來，更新元件範本，為\"搜尋\"按鈕附加一個事件處理程式。</p>\n<code-example header=\"Bind the click event\" format=\"html\" language=\"html\">\n    &lt;button class=\"primary\" type=\"button\" (click)=\"filterResults(filter.value)\"&gt;Search&lt;/button&gt;\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4hi58uusa95bhm99mssdgpx1x\">透過在\n<button>元素上繫結<code>click</code>事件，可以呼叫<code>filterResults</code>函式。函式的引數是<code>filter</code>範本變數的<code>value</code>屬性。具體來說，是<input> HTML 元素的<code>.value</code>屬性。</button></p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"368eogs13g9df70ulq15p5q3b\">最後的範本更新是針對 <code><a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> 指令的。更新 <code><a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a></code> 值以迭代 <code>filteredLocationList</code> 陣列中的值。</p>\n<code-example header=\"Update the ngFor directive value\" format=\"html\" language=\"html\">\n    &lt;app-housing-location *<a href=\"api/common/NgFor\" class=\"code-anchor\">ngFor</a>=\"let housingLocation of filteredLocationList\" [housingLocation]=\"housingLocation\"&gt;&lt;/app-housing-location&gt;\n</code-example>\n</li>\n</ol>\n<h2 id=\"step-3---implement-the-event-handler-function\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"419nwajfbx8buh9junplh824i\">第 3 步 - 實現事件處理函式<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#step-3---implement-the-event-handler-function\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"agaviuvdq9iplo8umcu80aif5\">範本已更新為將 <code>filterResults</code> 函式繫結到 <code>click</code> 事件。接下來，你的任務是在 <code>HomeComponent</code> 類別中實現 <code>filterResults</code> 函式。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4zgp89gs0lw5qrfkk392y1rf6\">更新 <code>HomeComponent</code> 類別以包含 <code>filterResults</code> 函式的實現。</p>\n<code-example header=\"Add the filterResults function implementation\" path=\"first-app-lesson-13/src/app/home/home.component.ts\" region=\"add-filter-results-fn\">\nfilterResults(text: string) {\n  if (!text) {\n    this.filteredLocationList = this.housingLocationList;\n    return;\n  }\n\n  this.filteredLocationList = this.housingLocationList.filter(\n    housingLocation =&gt; housingLocation?.city.toLowerCase().includes(text.toLowerCase())\n  );\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"v4dnjrbzpe1nukhgk9efjeoc\">這個函式使用\n<code>String</code>的\n<code>filter</code>函式來比較\n<code>text</code>引數的值與\n<code>housingLocation.city</code>屬性的值。你可以更新這個函式來與任何屬性或多個屬性對應，以進行有趣的練習。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d9bvruz5d6s4tuafhg77ynow5\">儲存你的程式碼。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1e52w2xz9oidcys9mezsvaw50\">重新整理瀏覽器，輸入文字後點擊『搜尋』按鈕，確認這樣可以按城市搜尋房源位置資料。</p>\n</li>\n</ol>\n<section class=\"lightbox\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2rqro2iytmduovczsc0f8xmt\"><img alt=\"filtered search results based on user input\" src=\"generated/images/guide/faa/homes-app-lesson-13-step-3.png\" width=\"2342\" height=\"1964\"></section>\n<h2 id=\"lesson-review\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ckmo8mg671uh3oxv2z72tuj64\">課程回顧<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#lesson-review\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d5ud8w00ppczgc6czqimjxyvo\">在這節課中，你將應用更新為：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"28dtbrzqtgoyylifr7zxdh9lp\">使用範本變數與範本值互動</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5ewr78yiaca574zldpms6ip4i\">使用事件繫結和數組函式來新增搜尋功能</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2vi4aou9du2w1ijyabax7x8qx\">如果你在學習這節課時遇到了任何問題，可以在<live-example></live-example>檢視完整程式碼。</p>\n<h2 id=\"next-steps\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c4pkljueu68ifjoi5994e9l8o\">下一步<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#next-steps\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ecre6fw1n2l9fh5dlhc8zrl68\"><a href=\"tutorial/first-app/first-app-lesson-14\">第 14 課 - 為應用程式新增 HTTP 通訊</a></li>\n</ul>\n<h2 id=\"more-information\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a4i4l0z1p0mxth3he9lk6m2op\">更多訊息<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-13#more-information\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ep5mlw3d5q1ucm62jzem9a7pc\">有關這節課中涵蓋的主題的更多訊息，請訪問：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2u0zcimz3se9no0e5fhxefpy0\"><a href=\"/guide/template-reference-variables\">範本變數</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2u1dsgiofhh0vc96dd6wht2rf\"><a href=\"/guide/event-binding\">事件處理</a></li>\n</ul>\n\n  <div class=\"reviewed\">最後複查時間：Tue Jul 11 2023</div>\n</div>\n\n\n<!-- links to this doc:\n - tutorial/first-app/first-app-lesson-12\n-->\n<!-- links from this doc:\n - /guide/event-binding\n - /guide/template-reference-variables\n - api/common/NgFor\n - tutorial/first-app/first-app-lesson-13#lesson-13-add-the-search-feature-to-your-app\n - tutorial/first-app/first-app-lesson-13#lesson-review\n - tutorial/first-app/first-app-lesson-13#more-information\n - tutorial/first-app/first-app-lesson-13#next-steps\n - tutorial/first-app/first-app-lesson-13#step-1---update-the-home-component-properties\n - tutorial/first-app/first-app-lesson-13#step-2---update-the-home-component-template\n - tutorial/first-app/first-app-lesson-13#step-3---implement-the-event-handler-function\n - tutorial/first-app/first-app-lesson-13#what-youll-learn\n - tutorial/first-app/first-app-lesson-14\n-->"}