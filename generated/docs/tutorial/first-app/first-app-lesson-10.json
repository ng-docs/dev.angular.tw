{"id":"tutorial/first-app/first-app-lesson-10","title":"第10课：向应用添加路由","contents":"<div class=\"content\">\n  <h1 id=\"lesson-10-add-routes-to-the-application\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c7z740vafwnteg0xjorcqsg9p\">第10课：向应用添加路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#lesson-10-add-routes-to-the-application\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7pnuaavzyhhrm89gwf1grnl6d\">本课程示范了如何将路由添加到应用程序。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7yrs6yvmlabo3pu7w8cj5do0j\"><strong>预计时间</strong>：约15分钟</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9rwfmxeghm6viri9jyba7m0r5\"><strong>起始代码：</strong> \n<live-example name=\"first-app-lesson-09\"></live-example></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bbvydc88zl5rvp63und4z5dwz\"><strong>完成代码：</strong> \n<live-example name=\"first-app-lesson-10\"></live-example></p>\n<h2 id=\"what-youll-learn\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cy8qhuh22qozu5okjmjfdf3nx\">你将学到<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#what-youll-learn\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2htwp70wdm9qzp9ue1w7e1urt\">在这节课结束时，应用程序将支持路由。</p>\n<h2 id=\"conceptual-preview-of-routing\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4ic90p2mqh2eopm1cqjdcr7t2\">路由的概念性预览<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#conceptual-preview-of-routing\"><i class=\"material-icons\">link</i></a></h2>\n<!-- markdownLint-disable MD001 -->\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cx4vj5td2x4vajeede9ra3vcp\">本教程介绍了 Angular 中的路由。路由是从应用程序中的一个组件导航到另一个组件的能力。在单页应用程序（SPA）中，只更新页面的部分以表示用户请求的视图。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eu72ouciwwo0sjb3k0jpjjp19\"><a href=\"/guide/router-tutorial\">Angular 路由器（Router）</a>使用户能够声明路由并指定在应用程序请求该路由时应在屏幕上显示哪个组件。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a1z37vtn2997jeik4hni99ct\">在这节课中，你将在应用程序中启用路由以导航到详情页。</p>\n<h2 id=\"step-1---create-a-default-details-component\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9a5saklgzcd1b137c50st794f\">第 1 步 - 创建默认详情组件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#step-1---create-a-default-details-component\"><i class=\"material-icons\">link</i></a></h2>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cyz2tyrpaxwbzmc1qr1i3txm5\">从终端输入以下命令以创建 <code>DetailsComponent</code>：</p>\n<code-example format=\"shell\" language=\"shell\">\n\nng generate component details --inline-template --skip-tests\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9qyzd9wfupfeemulln6ziziay\">该组件将展现详情页面，该页面提供有关给定房屋位置的更多信息。</p>\n</li>\n</ol>\n<h2 id=\"step-2---add-routing-to-the-application\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"czpk59jk54vey5q3yt3buk624\">第 2 步 - 向应用程序添加路由<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#step-2---add-routing-to-the-application\"><i class=\"material-icons\">link</i></a></h2>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"chey5c05omlzrlj1hxk8u23ck\">在 <code>src/app</code> 目录中，创建一个名为 <code>routes.ts</code> 的文件。该文件是我们将在应用程序中定义路由的地方。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ag33tjdfxsndlqqkmw1ejmqpa\">在 <code>main.ts</code> 中，进行以下更新以在应用程序中启用路由：</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1f9ro8u0raf4wzwkd1uii0dp5\">导入路由文件和 <code><a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a></code> 函数：</p>\n<code-example header=\"Import routing details in src/main.ts\" path=\"first-app-lesson-10/src/main.ts\" region=\"add-router-imports\">\nimport { <a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a> } from '@angular/router';\nimport routeConfig from './app/routes';\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7tmmr1ni7lxtrs0i6edrh38zn\">更新对 <code><a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a></code> 的调用以包含路由配置：</p>\n<code-example header=\"Add router configuration in src/main.ts\" path=\"first-app-lesson-10/src/main.ts\" region=\"add-router-config\">\n<a href=\"api/platform-browser/bootstrapApplication\" class=\"code-anchor\">bootstrapApplication</a>(AppComponent,\n  {\n    providers: [\n      <a href=\"api/platform-browser/provideProtractorTestingSupport\" class=\"code-anchor\">provideProtractorTestingSupport</a>(),\n      <a href=\"api/router/provideRouter\" class=\"code-anchor\">provideRouter</a>(routeConfig)\n    ]\n  }\n).catch(err =&gt; console.error(err));\n\n</code-example>\n</li>\n</ol>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9ttrf662tcjt66o9c9xy7x1n3\">在 <code>src/app/app.component.ts</code> 中，更新组件以使用路由：</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"95izc590f7yx9a7tixwwj5ecb\">为 <code>RoutingModule</code> 添加文件级导入：</p>\n<code-example header=\"Import RouterModule in src/app/app.component.ts\" path=\"first-app-lesson-10/src/app/app.component.ts\" region=\"import-router-module\">\nimport { <a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a> } from '@angular/router';\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e8aaca1rvudx0y7vgovxu4zwv\">将 <code><a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a></code> 添加到 <code>@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a></code> 元数据的 <code>imports</code> 中</p>\n<code-example header=\"Import RouterModule in src/app/app.component.ts\" path=\"first-app-lesson-10/src/app/app.component.ts\" region=\"import-router-module-deco\">\nimports: [\n  HomeComponent,\n  <a href=\"api/router/RouterModule\" class=\"code-anchor\">RouterModule</a>,\n],\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a5cwv94fwmli3cw8pvae2e0mh\">在 <code>template</code> 属性中，将 <code>&lt;app-home&gt;&lt;/app-home&gt;</code> 标记替换为 <code>&lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;</code> 指令并添加返回主页的链接。你的代码应与此代码匹配：</p>\n<code-example header=\"Add router-outlet in src/app/app.component.ts\" path=\"first-app-lesson-10/src/app/app.component.ts\" region=\"add-router-outlet\">\ntemplate: `\n  &lt;main&gt;\n    &lt;a [<a href=\"api/router/RouterLink\" class=\"code-anchor\">routerLink</a>]=\"['/']\"&gt;\n      &lt;header class=\"brand-name\"&gt;\n        &lt;<a href=\"api/common/NgOptimizedImage\" class=\"code-anchor\">img</a> class=\"brand-logo\" src=\"/assets/logo.svg\" alt=\"logo\" aria-hidden=\"true\"&gt;\n      &lt;/header&gt;\n    &lt;/a&gt;\n    &lt;section class=\"content\"&gt;\n      &lt;<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;&lt;/<a href=\"api/router/RouterOutlet\" class=\"code-anchor\">router-outlet</a>&gt;\n    &lt;/section&gt;\n  &lt;/main&gt;\n`,\n\n</code-example>\n</li>\n</ol>\n</li>\n</ol>\n<h2 id=\"step-3---add-route-to-new-component\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6k39z10w418ogww6861jli5ho\">第 3 步 - 将路由添加到新组件<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#step-3---add-route-to-new-component\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"96n7i18y0gj50m4pvv3whfjv6\">在上一步中，你删除了模板中对 <code>&lt;app-home&gt;</code> 组件的引用。在此步骤中，你将向该组件添加一条新路由。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9nmwv7knwjpwz7geerv7evkv\">在 <code>routes.ts</code> 中，执行以下更新以创建路由。</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"918x3v9jwxfmzn0w7te6cq0uo\">为你将在路由定义中使用的 <code>HomeComponent</code> 、 <code>DetailsComponent</code> 和 <code><a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a></code> 类型添加文件级导入。</p>\n<code-example header=\"Import components and Routes\" path=\"first-app-lesson-10/src/app/routes.ts\" region=\"import-routes-components\">\nimport { <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> } from '@angular/router';\nimport { HomeComponent } from './home/home.component';\nimport { DetailsComponent } from './details/details.component';\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d2fg4zrss8jxdsl1gp1sn7hk2\">定义一个名为 <code>routeConfig</code> 的变量，类型为 <code><a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a></code> 并为应用程序定义两个路由：</p>\n<code-example header=\"Add routes to the app\" path=\"first-app-lesson-10/src/app/routes.ts\" region=\"define-app-routes\">\nconst routeConfig: <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a> = [\n  {\n    path: '',\n    component: HomeComponent,\n    title: 'Home page'\n  },\n  {\n    path: 'details/:id',\n    component: DetailsComponent,\n    title: 'Home details'\n  }\n];\n\nexport default routeConfig;\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d1kozbysd4c3o5pxf96scs3ic\"><code>routeConfig</code> 数组中的条目表示应用程序中的路由。只要 url 与 <code>''</code> 匹配，第一个条目就会导航到 <code>HomeComponent</code>。第二个条目使用了一些特殊的格式，将在以后的课程中重新讨论。</p>\n</li>\n</ol>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4obo43r22ctzdr9yqijfpgpq4\">保存所有更改并确认应用程序正在浏览器中运行。该应用程序应该仍旧显示着房屋位置列表。</p>\n</li>\n</ol>\n<h2 id=\"lesson-review\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ckmo8mg671uh3oxv2z72tuj64\">课程回顾<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#lesson-review\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4h06qojdhqm9mike4maykx0kf\">在这节课中，你在应用程序中启用了路由并定义了新路由。现在应用程序可以支持视图之间的导航。在下一课中，你将学习导航到给定房屋位置的“详情”页面。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7iwc2ld8v68pbopw6q6c2q5kw\">应用程序取得了很大进步，干得好。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2vi4aou9du2w1ijyabax7x8qx\">如果你在学习这节课时遇到了任何问题，可以在<live-example></live-example>查看完整代码。</p>\n<h2 id=\"next-steps\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c4pkljueu68ifjoi5994e9l8o\">下一步<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#next-steps\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6uau6qfl4lj3u62qks1sll50a\"><a href=\"tutorial/first-app/first-app-lesson-11\">第 11 课 - 将详情页面集成到应用程序中</a></li>\n</ul>\n<h2 id=\"more-information\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a4i4l0z1p0mxth3he9lk6m2op\">更多信息<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-10#more-information\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ep5mlw3d5q1ucm62jzem9a7pc\">有关这节课中涵盖的主题的更多信息，请访问：</p>\n<!-- vale Angular.Google_WordListSuggestions = NO -->\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5wc0wso0svyx9fy32c092lgxb\"><a href=\"guide/routing-overview\">Angular 中的路由概述</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8oyj9tbcjzx3f5tulz3jzptvl\"><a href=\"guide/router\">常见路由任务</a></li>\n</ul>\n\n  <div class=\"reviewed\">最后复查时间：Tue Oct 24 2023</div>\n</div>\n\n\n<!-- links to this doc:\n - tutorial/first-app/first-app-lesson-09\n-->\n<!-- links from this doc:\n - /guide/router-tutorial\n - /guide/router-tutorial#using-angular-routes-in-a-single-page-application\n - api/common/NgOptimizedImage\n - api/core/Component\n - api/platform-browser/bootstrapApplication\n - api/platform-browser/provideProtractorTestingSupport\n - api/router/RouterLink\n - api/router/RouterModule\n - api/router/RouterOutlet\n - api/router/Routes\n - api/router/provideRouter\n - guide/router\n - guide/routing-overview\n - tutorial/first-app/first-app-lesson-10#conceptual-preview-of-routing\n - tutorial/first-app/first-app-lesson-10#lesson-10-add-routes-to-the-application\n - tutorial/first-app/first-app-lesson-10#lesson-review\n - tutorial/first-app/first-app-lesson-10#more-information\n - tutorial/first-app/first-app-lesson-10#next-steps\n - tutorial/first-app/first-app-lesson-10#step-1---create-a-default-details-component\n - tutorial/first-app/first-app-lesson-10#step-2---add-routing-to-the-application\n - tutorial/first-app/first-app-lesson-10#step-3---add-route-to-new-component\n - tutorial/first-app/first-app-lesson-10#what-youll-learn\n - tutorial/first-app/first-app-lesson-11\n-->"}