{"id":"tutorial/first-app/first-app-lesson-12","title":"第12課：向你的 Angular 應用新增表單","contents":"<div class=\"content\">\n  <h1 id=\"lesson-12-adding-a-form-to-your-angular-app\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a5o1xn2kgqphqokhzwbvt1g2m\">第12課：向你的 Angular 應用新增表單<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#lesson-12-adding-a-form-to-your-angular-app\"><i class=\"material-icons\">link</i></a></h1>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8huukcyl0kdq1y7h4s4kie9a4\">本教程示範如何向 Angular 應用新增一個收集使用者資料的表單。 本課程從一個功能性的 Angular 應用開始，展示如何向其新增一個表單。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"90gt8hcprkf00ewlpa354pzl9\">表單收集的資料只會傳送到應用程式的服務，後者會將其寫入瀏覽器的控制台。這節課不涉及使用 REST API 傳送和接收表單資料。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7yrs6yvmlabo3pu7w8cj5do0j\"><strong>預計時間</strong>：約15分鐘</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"349tcskryua8cfopplz4fvl62\"><strong>起始程式碼：</strong> \n<live-example name=\"first-app-lesson-11\"></live-example></p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2qkcfm7d1jss00xfbch2pzv9l\"><strong>完成程式碼：</strong> \n<live-example name=\"first-app-lesson-12\"></live-example></p>\n<h2 id=\"what-youll-learn\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cy8qhuh22qozu5okjmjfdf3nx\">你將學到<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#what-youll-learn\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ejcqli3fghbzwtgi0agwh05fa\">應用程式有一個表單，使用者可以在其中輸入要傳送給服務的資料。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3sia5qrztr0us8mwr9hm8ggl1\">該服務將表單中的資料寫入瀏覽器的控制台日誌。</li>\n</ul>\n<h2 id=\"step-1---add-a-method-to-send-form-data\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c5k4lgowygnz8ex2qt5kxp77h\">第 1 步 - 新增傳送表單資料的方法<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#step-1---add-a-method-to-send-form-data\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cqvyorqsmy1zbnqact9amp1xl\">此步驟會向服務中新增一個方法，該方法接收要傳送到資料目的地的表單資料。在此範例中，該方法將表單中的資料寫入瀏覽器的控制台日誌。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9r6pgvig5ms9l5ukrbwsza8xg\">在 IDE 的<strong>編輯</strong>窗格中：</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cofmepmqpr0h7uw7kqynkjez4\">在 <code>src/app/housing.service.ts</code> 的 <code>HousingService</code> 類別中，將此方法貼上到類別定義的底部。</p>\n<code-example header=\"Submit method in src/app/housing.service.ts\" path=\"first-app-lesson-12/src/app/housing.service.ts\" region=\"submit-method\">\nsubmitApplication(firstName: string, lastName: string, <a href=\"api/forms/EmailValidator\" class=\"code-anchor\">email</a>: string) {\n  console.log(`Homes application received: firstName: ${firstName}, lastName: ${lastName}, <a href=\"api/forms/EmailValidator\" class=\"code-anchor\">email</a>: ${<a href=\"api/forms/EmailValidator\" class=\"code-anchor\">email</a>}.`);\n}\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8zz0za5ogwktknzyeafgd8ja5\">確保應用在建立時沒有錯誤。在繼續下一步之前更正所有錯誤。</p>\n</li>\n</ol>\n<h2 id=\"step-2---add-the-form-functions-to-the-details-page\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"31sidf2rxvkttvwupfoyi5ewz\">第 2 步 - 將表單功能新增到詳情頁面<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#step-2---add-the-form-functions-to-the-details-page\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9ac005oru1yuw86xa180e7umd\">這一步將在詳情頁面中新增處理表單互動的程式碼。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4dsv4oviqhfvaxgte930agsn\">在 IDE 的<strong>編輯</strong>窗格中，開啟 <code>src/app/details/details.component.ts</code> 檔案：</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8u4pr8c2vsvjuhofoh9gsmbyw\">在檔案頂部的 <code>import</code> 語句之後，新增以下程式碼以匯入 Angular 表單類。</p>\n<code-example header=\"Forms imports in src/app/details/details.component.ts\" path=\"first-app-lesson-12/src/app/details/details.component.ts\" region=\"form-imports\">\nimport { <a href=\"api/forms/FormControl\" class=\"code-anchor\">FormControl</a>, <a href=\"api/forms/FormGroup\" class=\"code-anchor\">FormGroup</a>, <a href=\"api/forms/ReactiveFormsModule\" class=\"code-anchor\">ReactiveFormsModule</a> } from '@angular/forms';\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9ugf7nma7wdaeuh77kw65zpuo\">在 <code>DetailsComponent</code> 裝飾器的元資料中，使用以下程式碼更新 <code>imports</code> 屬性：</p>\n<code-example header=\"imports directive in src/app/details/details.component.ts\" path=\"first-app-lesson-12/src/app/details/details.component.ts\" region=\"component-imports\">\nimports: [\n  <a href=\"api/common/CommonModule\" class=\"code-anchor\">CommonModule</a>,\n  <a href=\"api/forms/ReactiveFormsModule\" class=\"code-anchor\">ReactiveFormsModule</a>\n],\n\n</code-example>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d3ua8wzi9hp747a9yj4rygwgs\">在 <code>DetailsComponent</code> 類別中的 <code>constructor()</code> 方法之前，新增以下程式碼以建立表單物件。</p>\n<code-example header=\"template directive in src/app/details/details.component.ts\" path=\"first-app-lesson-12/src/app/details/details.component.ts\" region=\"form-code\">\napplyForm = new <a href=\"api/forms/FormGroup\" class=\"code-anchor\">FormGroup</a>({\n  firstName: new <a href=\"api/forms/FormControl\" class=\"code-anchor\">FormControl</a>(''),\n  lastName: new <a href=\"api/forms/FormControl\" class=\"code-anchor\">FormControl</a>(''),\n  <a href=\"api/forms/EmailValidator\" class=\"code-anchor\">email</a>: new <a href=\"api/forms/FormControl\" class=\"code-anchor\">FormControl</a>('')\n});\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"apa91uzre2samh0zaim4bxfmg\">在 Angular 中，<code><a href=\"api/forms/FormGroup\" class=\"code-anchor\">FormGroup</a></code> 和 <code><a href=\"api/forms/FormControl\" class=\"code-anchor\">FormControl</a></code> 是能幫你建立出表單的型別。<code><a href=\"api/forms/FormControl\" class=\"code-anchor\">FormControl</a></code> 型別可以提供預設值並塑造表單資料的形態。在此範例中，<code>firstName</code> 是一個 <code>string</code>，預設值為空字串。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"665eqx8ffhldpnwbrs0ddihrl\">在 <code>DetailsComponent</code> 類別中的 <code>constructor()</code> 方法之後，新增以下程式碼來處理 <strong>Apply now</strong> 的點選事件。</p>\n<code-example header=\"template directive in src/app/details/details.component.ts\" path=\"first-app-lesson-12/src/app/details/details.component.ts\" region=\"form-submit\">\nsubmitApplication() {\n  this.housingService.submitApplication(\n    this.applyForm.value.firstName ?? '',\n    this.applyForm.value.lastName ?? '',\n    this.applyForm.value.email ?? ''\n  );\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8x5x648o1f8mlw2sg9jedmatc\">此按鈕尚不存在 - 你將在下一步中新增它。在上面的程式碼中，<code><a href=\"api/forms/FormControl\" class=\"code-anchor\">FormControl</a></code> 可能會回傳 <code>null</code>。如果值為 <code>null</code>，此程式碼使用空值合併運算符 <code>??</code> 將其預設為空字串。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8zz0za5ogwktknzyeafgd8ja5\">確保應用在建立時沒有錯誤。在繼續下一步之前更正所有錯誤。</p>\n</li>\n</ol>\n<h2 id=\"step-3---add-the-forms-markup-to-the-details-page\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3p4ztka6ypu1xgg48pac2k47j\">第 3 步 - 將表單的標記新增到詳情頁面<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#step-3---add-the-forms-markup-to-the-details-page\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"azh2j20s0kg92kg4h6k4y6gww\">此步驟將標記新增到顯示錶單的詳情頁面。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e4dsv4oviqhfvaxgte930agsn\">在 IDE 的<strong>編輯</strong>窗格中，開啟 <code>src/app/details/details.component.ts</code> 檔案：</p>\n<ol>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"73khy28pqe5d694vqjswl5dkm\">在 <code>DetailsComponent</code> 裝飾器的元資料中，把 <code>template</code> 的 HTML 更新成如下程式碼，以新增表單的標記。</p>\n<code-example header=\"template directive in src/app/details/details.component.ts\" path=\"first-app-lesson-12/src/app/details/details.component.ts\" region=\"component-template\">\ntemplate: `\n  &lt;article&gt;\n    &lt;<a href=\"api/common/NgOptimizedImage\" class=\"code-anchor\">img</a> class=\"listing-photo\" [src]=\"housingLocation?.photo\"\n      alt=\"Exterior photo of {{housingLocation?.name}}\"/&gt;\n    &lt;section class=\"listing-description\"&gt;\n      &lt;h2 class=\"listing-heading\"&gt;{{housingLocation?.name}}&lt;/h2&gt;\n      &lt;p class=\"listing-location\"&gt;{{housingLocation?.city}}, {{housingLocation?.state}}&lt;/p&gt;\n    &lt;/section&gt;\n    &lt;section class=\"listing-features\"&gt;\n      &lt;h2 class=\"section-heading\"&gt;About this housing location&lt;/h2&gt;\n      &lt;ul&gt;\n        &lt;li&gt;Units available: {{housingLocation?.availableUnits}}&lt;/li&gt;\n        &lt;li&gt;Does this location have wifi: {{housingLocation?.wifi}}&lt;/li&gt;\n        &lt;li&gt;Does this location have laundry: {{housingLocation?.laundry}}&lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/section&gt;\n    &lt;section class=\"listing-apply\"&gt;\n      &lt;h2 class=\"section-heading\"&gt;Apply now to live here&lt;/h2&gt;\n      &lt;form [formGroup]=\"applyForm\" (submit)=\"submitApplication()\"&gt;\n        &lt;label for=\"first-name\"&gt;First Name&lt;/label&gt;\n        &lt;input id=\"first-name\" type=\"text\" <a href=\"api/forms/FormControlName\" class=\"code-anchor\">formControlName</a>=\"firstName\"&gt;\n\n        &lt;label for=\"last-name\"&gt;Last Name&lt;/label&gt;\n        &lt;input id=\"last-name\" type=\"text\" <a href=\"api/forms/FormControlName\" class=\"code-anchor\">formControlName</a>=\"lastName\"&gt;\n\n        &lt;label for=\"<a href=\"api/forms/EmailValidator\" class=\"code-anchor\">email</a>\"&gt;Email&lt;/label&gt;\n        &lt;input id=\"<a href=\"api/forms/EmailValidator\" class=\"code-anchor\">email</a>\" type=\"<a href=\"api/forms/EmailValidator\" class=\"code-anchor\">email</a>\" <a href=\"api/forms/FormControlName\" class=\"code-anchor\">formControlName</a>=\"<a href=\"api/forms/EmailValidator\" class=\"code-anchor\">email</a>\"&gt;\n        &lt;button type=\"submit\" class=\"primary\"&gt;Apply now&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/section&gt;\n  &lt;/article&gt;\n`,\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2olloryyp16sl39q8qqrvz9pp\">樣板現在包含一個事件處理程式\n<code>(submit)=\"submitApplication()\"</code>。Angular 在樣板程式碼中使用括號語法來定義事件。等號右側的程式碼是在觸發此事件時應該執行的程式碼。你可以繫結到瀏覽器事件和自定義事件。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8zz0za5ogwktknzyeafgd8ja5\">確保應用在建立時沒有錯誤。在繼續下一步之前更正所有錯誤。</p>\n</li>\n</ol>\n    <section class=\"lightbox\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5hybsbeuqik4ymrwtaf05pbp\"><img alt=\"details page with a form for applying to live at this location\" src=\"generated/images/guide/faa/homes-app-lesson-12-step-3.png\" width=\"1920\" height=\"1159\"></section>\n<h2 id=\"step-4---test-your-apps-new-form\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7of8s9yx3uljmrou6sx7diarb\">第 4 步 - 測試應用的新表單<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#step-4---test-your-apps-new-form\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eb6pquxre9wgiv9jqb7xuq8qy\">此步驟會測試新表單，以檢視當表單資料送出到應用程式時，表單資料會出現在控制台日誌中。</p>\n<ol>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eun2hq10lipuafmoogreki2qx\">在 IDE 的<strong>終端</strong>窗格中，執行 <code>ng serve</code> （如果它尚未執行）。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ij39tsl3uxmqdwp93hhtiadx\">在你的瀏覽器中，透過 <code>http://localhost:4200</code> 開啟應用程式。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cv2mklpk168c514fnxc6g17rr\">在瀏覽器中右鍵單擊應用，在上下文選單中選擇\n<strong>檢查</strong>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"79kzsbe1a1bi2qh9bqm2p4kzd\">在開發者工具視窗中，選擇<strong>控制台</strong>頁籤。確保開發者工具視窗對後續步驟可見</li>\n<li>In your app:\n<ol>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9pkxszgje31wcnb313b7seq4k\">選擇房屋位置並單擊<strong>瞭解更多</strong>，以檢視有關房屋的詳情。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3eacschvrmvbosskht8t7hpeg\">在房屋的詳情頁面中，捲動到底部以找到新表格。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"arbrr0uu27vlpawtqrc2v5e3x\">在表單的欄位中輸入資料 - 任何資料都可以。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"awk6nxdg2bwjphzl786u1sgka\">選擇<strong>立即應用</strong>以送出資料。</li>\n</ol>\n</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cgwa8ncn3qbsxr5gs34kq8c41\">在開發者工具視窗中，檢視日誌輸出以找到你的表單資料。</li>\n</ol>\n<h2 id=\"lesson-review\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ckmo8mg671uh3oxv2z72tuj64\">課程回顧<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#lesson-review\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d5ud8w00ppczgc6czqimjxyvo\">在這節課中，你將應用更新為：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bi6ptx1z548skrjururrpf8d0\">使用 Angular 的表單功能新增表單</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6sd890kg3psuqy4iy2k6gl7el\">使用事件處理程式將表單中捕獲的資料連線到元件</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2vi4aou9du2w1ijyabax7x8qx\">如果你在學習這節課時遇到了任何問題，可以在<live-example></live-example>檢視完整程式碼。</p>\n<h2 id=\"next-steps\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c4pkljueu68ifjoi5994e9l8o\">下一步<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#next-steps\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1x2x5y9450asnlujbunykf0xv\"><a href=\"tutorial/first-app/first-app-lesson-13\">第 13 課 - 將搜尋功能新增到應用程式</a></li>\n</ul>\n<h2 id=\"more-information\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a4i4l0z1p0mxth3he9lk6m2op\">更多訊息<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"tutorial/first-app/first-app-lesson-12#more-information\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ep5mlw3d5q1ucm62jzem9a7pc\">有關這節課中涵蓋的主題的更多訊息，請訪問：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1bf8oke082sgdrbpi2xwifmec\"><a href=\"/guide/forms\">Angular 表單</a></li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2u1dsgiofhh0vc96dd6wht2rf\"><a href=\"/guide/event-binding\">事件處理</a></li>\n</ul>\n\n  <div class=\"reviewed\">最後複查時間：Wed Jul 12 2023</div>\n</div>\n\n\n<!-- links to this doc:\n - tutorial/first-app/first-app-lesson-11\n-->\n<!-- links from this doc:\n - /guide/event-binding\n - /guide/forms\n - api/common/CommonModule\n - api/common/NgOptimizedImage\n - api/forms/EmailValidator\n - api/forms/FormControl\n - api/forms/FormControlName\n - api/forms/FormGroup\n - api/forms/ReactiveFormsModule\n - tutorial/first-app/first-app-lesson-12#lesson-12-adding-a-form-to-your-angular-app\n - tutorial/first-app/first-app-lesson-12#lesson-review\n - tutorial/first-app/first-app-lesson-12#more-information\n - tutorial/first-app/first-app-lesson-12#next-steps\n - tutorial/first-app/first-app-lesson-12#step-1---add-a-method-to-send-form-data\n - tutorial/first-app/first-app-lesson-12#step-2---add-the-form-functions-to-the-details-page\n - tutorial/first-app/first-app-lesson-12#step-3---add-the-forms-markup-to-the-details-page\n - tutorial/first-app/first-app-lesson-12#step-4---test-your-apps-new-form\n - tutorial/first-app/first-app-lesson-12#what-youll-learn\n - tutorial/first-app/first-app-lesson-13\n-->"}