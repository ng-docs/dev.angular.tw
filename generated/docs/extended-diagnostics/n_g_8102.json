{"id":"extended-diagnostics/NG8102","title":"NG8102: Nullish coalescing not nullable","contents":"<div class=\"content\">\n\n  <h1 id=\"ng8102-nullish-coalescing-not-nullable\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ejdsvwfok5cauqzlrbwoxu0vk\">NG8102: Nullish coalescing not nullable<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics/NG8102#ng8102-nullish-coalescing-not-nullable\"><i class=\"material-icons\">link</i></a></h1>\n\n  <div class=\"diagnostic-description\">\n    <h2 id=\"description\">說明<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics/NG8102#description\"><i class=\"material-icons\">link</i></a></h2>\n    <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"all8c7xq5q130p957tl5xz9wh\">此診斷會在 Angular 樣板中檢測到無用的空值合併運算符（<code>??</code>）字元。具體來說，它會查詢輸入不可『為空』的操作，這意味著其型別不包括 <code>null</code> 或 <code>undefined</code>。對於這樣的值，<code>??</code> 的右側永遠不會被使用。</p>\n<code-example format=\"typescript\" language=\"typescript\">\n\nimport {<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>} from '@angular/core';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  // Template displays `foo` if present, falls back to 'bar' if it is `null`\n  // or `undefined`.\n  template: `<div>{{ foo ?? 'bar' }}</div>`,\n  // …\n})\nclass MyComponent {\n  // `foo` is declared as a `string` which *cannot* be `null` or `undefined`.\n  foo: string = 'test';\n}\n\n</code-example>\n<h2 id=\"whats-wrong-with-that\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dyj3fm6hh05czc2euad3kejpb\">那有什麼問題？<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics/NG8102#whats-wrong-with-that\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"ac8oecznz7xzqv0bto9lsclig\">將空值合併運算符與不可為空的輸入一起使用沒有任何效果，並且揭示出允許的值型別與它在樣板中的渲染方式之間可能存在差異。開發人員可能會合理地假定在某些情況下會顯示空值合併運算符的右側，但它永遠不會真正顯示出來。這可能會導致對程式的預期輸出感到困惑。</p>\n<h2 id=\"what-should-i-do-instead\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7bicb9bjjdedhs8bfd5vdiby7\">我該怎麼辦？<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics/NG8102#what-should-i-do-instead\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5z5levvvnvph5qw6f6d8hzs0v\">更新樣板和宣告的型別以同步兩者。仔細檢查輸入的型別，並確認它是否真是可空的。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2dpiewxoav4u6u8ff050fmbu3\">如果輸入應該是可空的，請在其型別中新增 <code>null</code> 或 <code>undefined</code> 以表明這一點。</p>\n<code-example format=\"typescript\" language=\"typescript\">\n\nimport {<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>} from '@angular/core';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  template: `<div>{{ foo ?? 'bar' }}</div>`,\n  // …\n})\nclass MyComponent {\n  // `foo` is now nullable. If it is ever set to `null`, 'bar' will be displayed.\n  foo: string | null = 'test';\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4br0x5ql1lj3fk54rk29l4q1y\">如果輸入<em>不</em>應該為空，請刪除 <code>??</code> 運算符及其右操作數，因為 TypeScript 會保證該值始終不可為空。</p>\n<code-example format=\"typescript\" language=\"typescript\">\n\nimport {<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>} from '@angular/core';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  // Template always displays `foo`, which is guaranteed to never be `null` or\n  // `undefined`.\n  template: `<div>{{ foo }}</div>`,\n  // …\n})\nclass MyComponent {\n  foo: string = 'test';\n}\n\n</code-example>\n<h2 id=\"configuration-requirements\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bwdhyfdm5yb1t69cyimmn0hs0\">設定要求<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics/NG8102#configuration-requirements\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"mzki3k6nu128544v2a1y6zdt\">必須啟用 <a href=\"guide/template-typecheck#strict-mode\"><code>strictTemplates</code></a> 才能發出任何擴充套件診斷。還必須啟用 <a href=\"guide/template-typecheck#strict-null-checks\"><code>strictNullChecks</code></a> 才能發出任何 <code>nullishCoalescingNotNullable</code> 診斷訊息。</p>\n<h2 id=\"what-if-i-cant-avoid-this\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"duupn560xw3oqrkqmgen1ccwo\">如果我無法避免這種情況怎麼辦？<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"extended-diagnostics/NG8102#what-if-i-cant-avoid-this\"><i class=\"material-icons\">link</i></a></h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bzu6yb6isvsmddbdryz1qwy7l\">可以透過編輯專案的 <code>tsconfig.json</code> 檔案來停用此診斷：</p>\n<code-example format=\"json\" language=\"json\">\n\n{\n  \"angularCompilerOptions\": {\n    \"extendedDiagnostics\": {\n      \"checks\": {\n        \"nullishCoalescingNotNullable\": \"suppress\"\n      }\n    }\n  }\n}\n\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1tl6suaasu3xo2b1onvdft0o9\">有關更多訊息，請參閱<a href=\"extended-diagnostics#configuration\">擴充套件診斷設定</a>。</p>\n<!-- links -->\n<!-- external links -->\n<!-- end links -->\n\n  </div>\n\n</div>\n\n<!-- links to this doc:\n - extended-diagnostics\n-->\n<!-- links from this doc:\n - api/core/Component\n - extended-diagnostics#configuration\n - extended-diagnostics/NG8102#configuration-requirements\n - extended-diagnostics/NG8102#description\n - extended-diagnostics/NG8102#ng8102-nullish-coalescing-not-nullable\n - extended-diagnostics/NG8102#what-if-i-cant-avoid-this\n - extended-diagnostics/NG8102#what-should-i-do-instead\n - extended-diagnostics/NG8102#whats-wrong-with-that\n - guide/template-typecheck#strict-mode\n - guide/template-typecheck#strict-null-checks\n-->"}