<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/router</span><div class="docs-reference-title"><div><h1>RouterConfigOptions</h1><div class="docs-api-item-label" data-mode="full" data-type="interface">interface</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/router/src/router_config.ts#L55-L124" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_ref_id="7elozeys9raldtag2dn8ia0hq">可以与 
<code>withRouterConfig</code> 函数一起使用的额外配置选项。</p><p></p></header><div data-tab="API" data-tab-url="api"><div class="docs-reference-api-tab"><div class="docs-code"><pre class="docs-mini-scroll-track"><code><div class="hljs-ln-line "><span class="hljs-keyword">interface</span> <span class="hljs-title class_">RouterConfigOptions</span> {</div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="canceledNavigationResolution">  canceledNavigationResolution?: <span class="hljs-string">"replace"</span> | <span class="hljs-string">"computed"</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="onSameUrlNavigation">  onSameUrlNavigation?: <span class="hljs-title class_">OnSameUrlNavigation</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="paramsInheritanceStrategy">  paramsInheritanceStrategy?: <span class="hljs-string">"emptyOnly"</span> | <span class="hljs-string">"always"</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="urlUpdateStrategy">  urlUpdateStrategy?: <span class="hljs-string">"deferred"</span> | <span class="hljs-string">"eager"</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="resolveNavigationPromiseOnError">  resolveNavigationPromiseOnError?: <span class="hljs-built_in">boolean</span>;</button><div class="hljs-ln-line ">}</div></code></pre></div></div></div><div class="docs-reference-members-container"><div class="docs-reference-members"><div id="canceledNavigationResolution" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>canceledNavigationResolution</h3><div><code>"replace" | "computed"</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c6j12kmrg5nhgnm82fm3bqumh">配置在取消导航时路由器如何尝试恢复状态。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2emdyon6ztttor9x93usbkube">'replace' - 始终使用 <code>location.replaceState</code> 将浏览器状态设置为导航开始前的路由器状态。这意味着如果浏览器的 URL 在取消导航 <em> 之前 </em> 更新，则路由器将简单地替换历史记录中的项目，而不是尝试恢复到会话历史记录中的先前位置。这种情况最常发生在 <code>urlUpdateStrategy: 'eager'</code> 和使用浏览器后退/前进按钮的导航中。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="37kt6dw8stne9nzzgwcws8q43">“comped” - 当导航被取消时，将尝试返回会话历史记录中与 Angular 路由对应的同一个索引。例如，如果单击浏览器后退按钮并取消导航，则路由器将触发向前导航，反之亦然。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="7n90guvt39xdvtp6pewcdu58e">注意：'computed' 选项与任何只处理部分 URL 的 
<code>UrlHandlingStrategy</code> 不兼容，因为历史记录恢复会导航到浏览器历史记录中的上一个位置，而不是简单地重置部分 URL。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="at2ua60b8iahfznkbfkrl3kua">默认值是未设置时的 <code>replace</code>。</p></div></div></div></div><div id="onSameUrlNavigation" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>onSameUrlNavigation</h3><div><code>OnSameUrlNavigation</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7so56rifnf8llmq16blem1hy1">配置处理对当前 URL 的导航请求的默认值。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="6jdbx3bvyowfcig62kwarzaqw">如果未设置，
<code>Router</code> 将使用 
<code>'ignore'</code>。</p></div></div></div></div><div id="paramsInheritanceStrategy" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>paramsInheritanceStrategy</h3><div><code>"emptyOnly" | "always"</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_ref_id="b93skb64dc8wk430ynnvtelj2">定义路由器如何将参数、数据和已求解的数据从父路由合并到子路由。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="acaxc7lhq8yu2givkw88nh7kt">默认情况下（'emptyOnly'），当路由本身具有空路径（即配置为 path: ''）或父路由未设置任何组件时，路由继承父路由的参数。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9aw4h2a4rlvv4btso3925pc7d">设置为 “always” 时会始终启用父参数的无条件继承。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="90pkx8lky26minbcoz5wf5qsl">请注意，在处理矩阵参数时，「parent」指的是父 
<code>Route</code> 配置，不一定意味着「左侧的 URL 段」。当 
<code>Route</code> 的 
<code>path</code> 包含多个段时，矩阵参数必须出现在最后一个段。例如，
<code>{path: 'a/b', component: MyComp}</code> 的矩阵参数应显示为 
<code>a/b;foo=bar</code>，而不是 
<code>a;foo=bar/b</code>。</p></div></div></div></div><div id="urlUpdateStrategy" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>urlUpdateStrategy</h3><div><code>"deferred" | "eager"</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bpvt1lqpdr4h9hmq9uklyg9uc">定义路由器要何时更新浏览器 URL。默认情况下（“deferred”），在成功导航后进行更新。如果希望在导航开始时更新 URL，则设置为 “eager”。以便早期更新 URL，这样可以通过显示带有失败 URL 的错误消息来处理导航失败。</p></div></div></div></div><div id="resolveNavigationPromiseOnError" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>resolveNavigationPromiseOnError</h3><div><code>boolean</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_ref_id="ccrakk592ygxkbeq1dk2cudv7">当为 
<code>true</code> 时，
<code>Promise</code> 将求解为 
<code>false</code>，就像其他失败的导航（例如，守卫被拒绝时）一样。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="44oapm3zr0bu0elph6zlbpc9b">否则，如果发生错误，路由器导航返回的 
<code>Promise</code> 将被拒绝。</p></div></div></div></div></div></div></div>