<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/platform-browser</span><div class="docs-reference-title"><div><h1>DomSanitizer</h1><div class="docs-api-item-label" data-mode="full" data-type="undecorated_class">Class</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/platform-browser/src/security/dom_sanitization_service.ts#L107-L163" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ecmiobnc3h5t0j8zcg59omozz">DomSanitizer 可以把值净化为在不同 DOM 上下文中的安全内容，来帮你防范跨站脚本攻击（XSS）类的安全问题。</p><p></p></header><div data-tab="API" data-tab-url="api"><div class="docs-reference-api-tab"><div class="docs-code"><pre class="docs-mini-scroll-track"><code><div class="hljs-ln-line "><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DomSanitizer</span> {</div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="sanitize">  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">sanitize</span>(<span class="hljs-attr">context</span>: <span class="hljs-title class_">SecurityContext</span>, <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> | <span class="hljs-title class_">SafeValue</span>): <span class="hljs-built_in">string</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="bypassSecurityTrustHtml">  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">bypassSecurityTrustHtml</span>(<span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">SafeHtml</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="bypassSecurityTrustStyle">  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">bypassSecurityTrustStyle</span>(<span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">SafeStyle</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="bypassSecurityTrustScript">  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">bypassSecurityTrustScript</span>(<span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">SafeScript</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="bypassSecurityTrustUrl">  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">bypassSecurityTrustUrl</span>(<span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">SafeUrl</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="bypassSecurityTrustResourceUrl">  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">bypassSecurityTrustResourceUrl</span>(<span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">SafeResourceUrl</span>;</button><div class="hljs-ln-line ">}</div></code></pre></div></div></div><div data-tab="说明" data-tab-url="description"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ecmiobnc3h5t0j8zcg59omozz">DomSanitizer 可以把值净化为在不同 DOM 上下文中的安全内容，来帮你防范跨站脚本攻击（XSS）类的安全问题。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="6m0a8nsqzxd8694o7m2ai9g65">例如，在 
<code>&lt;a [href]="someValue"&gt;</code> 超链接中绑定某个 URL 时，
<code>someValue</code> 会被无害化，以防止攻击者注入如 
<code>javascript:</code> 的 URL，从而在网站上执行代码。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="85nrta872bsgqix2j4dczmvxa">在特定场景下，可能要禁用净化机制，比如，如果应用程序真的需要生成具有动态值的 <code>javascript:</code> 链接。用户可以通过使用 <code>bypassSecurityTrust...</code> 方法来构建出一个值，以绕过安全性检查，并在模板中绑定它。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="esqkmt957siaolx72cuuupe7y">这种场景其实非常罕见，必须特别小心，避免引入跨站脚本攻击（XSS）类的安全风险。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9253ei9bj0k285eu9fxy71lqq">当使用 <code>bypassSecurityTrust...</code> 时，请尽量确保尽早调用该方法，并且让他尽可能接近值的来源，以便能更容易地验证使用它时有没有引入安全风险。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1nmt4h02cd5y6ke09xri68rg1">如果该值本身是安全的，则不需要绕过安全性检查，比如那些没有使用可疑协议的 URL 或者不包含危险代码的 HTML 片段。净化器会确保值的安全性。</p></div></div><div class="docs-reference-members-container"><div class="docs-reference-members"><div id="sanitize" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>sanitize</h3><div><code>string</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dm1u3obnl7141vuhefjspsuc7">从已知安全值或安全性未知的值中获取安全值。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="2b8dqkzykznv3eyjej76xy7r2">如果给定值已经是 
<code>SafeValue</code>，此方法返回解包后的值。如果安全上下文是 HTML，且给定值是一个普通字符串，此方法会对字符串进行消毒，去除任何潜在的不安全内容。对于任何其他安全上下文，如果提供了普通字符串，此方法会抛出错误。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">context</span><code>SecurityContext</code><div class="docs-parameter-description"></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">value</span><code>string | SafeValue</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string</code></div></div></div></div><div id="bypassSecurityTrustHtml" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>bypassSecurityTrustHtml</h3><div><code>SafeHtml</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3wumly91t4orlm1jht6md11hn">绕过安全检查，并信任给定的值是一个安全的 HTML。只有当要绑定的 HTML 是不安全内容（比如包含 <code>&lt;script&gt;</code>）而且你确实希望运行这些代码时，才需要使用它。净化器会确保安全 HTML 的完整性，因此在大多数场景下都不需要使用该方法。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1c6cgq2tf49pqo4ftjy9r1p3n"><strong>警告：</strong> 使用不可信的用户数据调用此方法将会让你的应用暴露在 XSS 安全风险之下！</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">value</span><code>string</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>SafeHtml</code></div></div></div></div><div id="bypassSecurityTrustStyle" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>bypassSecurityTrustStyle</h3><div><code>SafeStyle</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a77nr6k0g0ecqtygebz146ylw">绕过安全检查，并信任给定的值是一个安全的样式（CSS）。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1c6cgq2tf49pqo4ftjy9r1p3n"><strong>警告：</strong> 使用不可信的用户数据调用此方法将会让你的应用暴露在 XSS 安全风险之下！</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">value</span><code>string</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>SafeStyle</code></div></div></div></div><div id="bypassSecurityTrustScript" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>bypassSecurityTrustScript</h3><div><code>SafeScript</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6h2k682gruvzp1hwtd8rqfz71">绕过安全检查，并信任给定的值是一个安全的 JavaScript。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1c6cgq2tf49pqo4ftjy9r1p3n"><strong>警告：</strong> 使用不可信的用户数据调用此方法将会让你的应用暴露在 XSS 安全风险之下！</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">value</span><code>string</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>SafeScript</code></div></div></div></div><div id="bypassSecurityTrustUrl" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>bypassSecurityTrustUrl</h3><div><code>SafeUrl</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ar2khtetas58t19qj47qc2tl">绕过安全检查，并信任给定的值是一个安全的样式 URL。也就是说该值可安全地用在链接或 <code>&lt;img src&gt;</code> 中。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1c6cgq2tf49pqo4ftjy9r1p3n"><strong>警告：</strong> 使用不可信的用户数据调用此方法将会让你的应用暴露在 XSS 安全风险之下！</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">value</span><code>string</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>SafeUrl</code></div></div></div></div><div id="bypassSecurityTrustResourceUrl" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>bypassSecurityTrustResourceUrl</h3><div><code>SafeResourceUrl</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="38af75vgfr4nst9vn8az8wz8z">绕过安全检查，并信任给定的值是一个安全的资源 URL。也就是说该地址可以安全的用于加载可执行代码，比如 <code>&lt;script src&gt;</code> 或 <code>&lt;iframe src&gt;</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1c6cgq2tf49pqo4ftjy9r1p3n"><strong>警告：</strong> 使用不可信的用户数据调用此方法将会让你的应用暴露在 XSS 安全风险之下！</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">value</span><code>string</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>SafeResourceUrl</code></div></div></div></div></div></div></div>