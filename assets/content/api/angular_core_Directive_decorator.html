<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/core</span><div class="docs-reference-title"><div><h1>指令</h1><div class="docs-api-item-label type-decorator full">decorator</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/core/src/metadata/directives.ts#L378-L384" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">程式碼</i></a></div><section class="docs-reference-description"><p>用來將某個類標記為 Angular 指令的裝飾器。你可以定義自己的指令，以便將自定義行為附著到 DOM 中的元素。</p></section></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="docs-mini-scroll-track"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">  <code>
    <span class="line ">@<span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Directive">Directive</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ({</span></span><button aria-describedby="jump-msg" type="button" class="line " member-id="selector"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="inputs"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  inputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">alias</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">required</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">transform</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">value</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; })[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="outputs"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  outputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="providers"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  providers</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/Provider">Provider</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="exportAs"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  exportAs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="queries"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  queries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="host"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  host</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="jit"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  jit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> true</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="standalone"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  standalone</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="hostDirectives"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  hostDirectives</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Type">Type</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">directive</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/Type">Type</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">inputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">outputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; })[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><span class="line "><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span>
  </code>
  </pre></pre></div></div><div class="docs-reference-members"><div class="docs-reference-members"><div id="selector" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>selector</h3><code>string | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>用於在樣板中識別此指令並觸發指令實例化的 CSS 選擇器。</p>
<p>宣告為以下選項之一：</p>

    <ul class="docs-list">
      <li><code>element-name</code>：透過元素名稱選擇。</li>
<li><code>.class</code>：透過類別名稱選擇。</li>
<li><code>[attribute]</code>：透過屬性名選擇。</li>
<li><code>[attribute=value]</code>：透過屬性名和值選擇。</li>
<li><code>:not(sub_selector)</code>：僅當元素與 <code>sub_selector</code> 不對應時選擇。</li>
<li><code>selector1, selector2</code>：如果 <code>selector1</code> 或 <code>selector2</code> 對應，則選擇。</li>

    </ul>
    <p>Angular 只允許指令應用於不跨越元素邊界的 CSS 選擇器。</p>
<p>對於以下樣板 HTML，帶有 <code>input[type=text]</code> 選擇器的指令將僅在 <code>&lt;input type="text"&gt;</code> 元素上實例化。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">form</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D"><a href="/api/core/input">input</a></span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"text"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D"><a href="/api/core/input">input</a></span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"radio"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">form</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
        </pre>
      </div></div></div></div></div><div id="inputs" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>inputs</h3><code>(string | { name: string; alias?: string | undefined; required?: boolean | undefined; transform?: ((value: any) =&gt; any) | undefined; })[] | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>列舉指令的資料繫結輸入屬性集</p>
<p>Angular 在變更檢測期間自動更新輸入屬性。<code>inputs</code> 屬性接受字串或物件字面量，它們設定應該作為輸入公開的指令屬性。</p>
<p>當傳入物件字面量時，<code>name</code> 屬性指示輸入應該寫入到類別上的哪個屬性，而 <code>alias</code> 確定輸入在樣板繫結中可用的名稱。<code>required</code> 屬性指示輸入是必要的，如果在使用指令時未傳入該輸入，則會觸發編譯時錯誤。</p>
<p>當字串傳入 <code>inputs</code> 陣列時，它可以具有 <code>'name'</code> 或 <code>'name: alias'</code> 的格式，其中 <code>name</code> 是指令應該寫入的類別上的屬性，而 <code>alias</code> 確定輸入在樣板繫結中可用的名稱。基於字串的輸入定義被假定為是可選的。</p></div></div></div></div><div id="outputs" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>outputs</h3><code>string[] | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>列舉事件繫結輸出屬性的集合。</p>
<p>當輸出屬性發出事件時，將呼叫樣板中附著到該事件的事件處理器。</p>
<p><code>outputs</code> 屬性定義了一組 <code>directiveProperty</code> 到 <code>alias</code> 的設定：</p>

    <ul class="docs-list">
      <li><code>directiveProperty</code> 指定發出事件的元件屬性。</li>
<li><code>alias</code> 指定事件處理器附著的 DOM 屬性。</li>

    </ul></div></div></div></div><div id="providers" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>providers</h3><code><a href="/api/core/Provider">Provider</a>[] | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>使用對映到依賴提供者的令牌來設定此指令或元件的注入器。</p></div></div></div></div><div id="exportAs" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>exportAs</h3><code>string | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>定義可在樣板中用於將此指令賦值給變數的名稱。</p></div></div></div></div><div id="queries" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>queries</h3><code>{ [key: string]: any; } | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>設定將注入到指令中的查詢。</p>
<p>內容查詢在 <code>ngAfterContentInit</code> 回呼被呼叫之前設定。檢視查詢在 <code>ngAfterViewInit</code> 回呼被呼叫之前設定。</p></div></div></div></div><div id="host" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>host</h3><code>{ [key: string]: string; } | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>使用一組鍵值對，將類 Property 對映到宿主元素的 Property、Attribute 和事件繫結。</p>
<p>在變更檢測期間，Angular 會自動檢查宿主 Property 繫結。如果繫結發生更改，Angular 會更新該指令的宿主元素。</p>
<p>當鍵是宿主元素的 Property 時，Property 值會傳播到指定的 DOM 屬性。</p>
<p>當鍵是 DOM 中的靜態 Attribute 時，Attribute 值會傳播到宿主元素中指定的 Property。</p>
<p>對於事件處理：</p>

    <ul class="docs-list">
      <li>鍵是指令所監聽的 DOM 事件。要監聽全域事件，請將目標新增到事件名稱中。目標可以是 <code>window</code>、<code>document</code> 或 <code>body</code>。</li>
<li>該值是事件發生時要執行的語句。如果語句求值為 <code>false</code>，則會對 DOM 事件應用 <code>preventDefault</code>。處理函式方法可以引用 <code>$event</code> 區域性變數。</li>

    </ul></div></div></div></div><div id="jit" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>jit</h3><code>true | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>如果存在，預先編譯器將忽略此指令/元件。它會保留在已分發的程式碼中，即時編譯器會嘗試在執行時在瀏覽器中對其進行編譯。為了確保行為正確，應用必須匯入 <code>@angular/compiler</code>。</p></div></div></div></div><div id="standalone" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>standalone</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>標記為 <code>standalone</code> 的 Angular 指令不需要在 NgModule 中宣告。此類指令不依賴 NgModule 的任何『中間上下文』（例如，設定的提供者）。</p>
<p>關於 standalone 元件、指令和通道的更多訊息，請參見<a href="guide/components/importing">本指南</a>。</p></div></div></div></div><div id="hostDirectives" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>hostDirectives</h3><code>(<a href="/api/core/Type">Type</a>&lt;unknown&gt; | { directive: <a href="/api/core/Type">Type</a>&lt;unknown&gt;; inputs?: string[] | undefined; outputs?: string[] | undefined; })[] | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>每當指令對應時，都應應用於宿主的獨立指令。預設情況下，宿主指令的任何輸入或輸出在宿主上都不可用，除非它們在 <code>inputs</code> 或 <code>outputs</code> 屬性中指定。</p>
<p>你還可以透過在原始輸入或輸出名稱後加上冒號和別名來為輸入和輸出設定別名。例如，如果透過 <code>hostDirectives</code> 應用的指令定義了一個名為 <code>menuDisabled</code> 的輸入，你可以透過將 <code>'menuDisabled: disabled'</code> 作為條目新增到 <code>inputs</code> 中，將其別名為 <code>disabled</code>。</p></div></div></div></div></div></div><div class="docs-reference-section"><h2 id="description" class="docs-reference-section-heading"><a href="#description" aria-label="Link to Description section" tabindex="-1">描述</a></h2><div><p>用來將某個類標記為 Angular 指令的裝飾器。你可以定義自己的指令，以便將自定義行為附著到 DOM 中的元素。</p>
<p>這些選項提供了設定元資料，這些元資料決定了指令在執行時應如何處理、實例化和使用。</p>
<p>指令類（如元件類別）可以實現<a href="guide/components/lifecycle">生命週期鉤子</a>，以影響其設定和行為。</p></div></div><div class="docs-reference-section"><h2 id="usage-notes" class="docs-reference-section-heading"><a href="#usage-notes" aria-label="Link to Usage Notes section" tabindex="-1">使用須知</a></h2><div><p>要定義指令，請使用裝飾器標記該類別並提供元資料。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {Directive} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Directive">Directive</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'my-directive'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> MyDirective</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
        </pre>
      </div>
    
      <h3 id="declaring-directives" class="docs-reference-section-heading docs-reference-section-heading--sub">
        <a href="#declaring-directives" aria-label="Link to Declaring directives section" tabindex="-1">宣告指令</a>
      </h3>
    <p>為了使指令可用於應用中的其他元件，你應該執行以下操作之一：</p>

    <ul class="docs-list">
      <li>或者將指令標記為 <a href="guide/components/importing">standalone</a>，</li>
<li>或者透過將其新增到 <code>declarations</code> 和 <code>exports</code> 欄位中，在 NgModule 中宣告它。</li>

    </ul>
    <p>** 將指令標記為 standalone **</p>
<p>你可以將 <code>standalone: true</code> 標誌新增到 Directive 裝飾器元資料，以將其宣告為 <a href="guide/components/importing">standalone</a>：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Directive">Directive</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  standalone: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'my-directive'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> MyDirective</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span></code></pre>
        </pre>
      </div>
    <p>將指令標記為 standalone 時，請確保該指令尚未在 NgModule 中宣告。</p>
<p>** 在 NgModule 中宣告指令 **</p>
<p>另一種方法是在 NgModule 中宣告指令：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Directive">Directive</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'my-directive'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> MyDirective</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/NgModule">NgModule</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  declarations: [MyDirective, SomeComponent],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  exports: [MyDirective], </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// making it available outside of this module</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SomeNgModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span></code></pre>
        </pre>
      </div>
    <p>在 NgModule 中宣告指令時，請確保：</p>

    <ul class="docs-list">
      <li>該指令恰好在一個 NgModule 中宣告。</li>
<li>該指令不是 standalone 的。</li>
<li>你不要重新宣告從另一個模組匯入的指令。</li>
<li>如果要使此指令可供 NgModule 外部的元件訪問，則該指令也包含在 <code>exports</code> 欄位中。</li>

    </ul>
    </div></div></div>