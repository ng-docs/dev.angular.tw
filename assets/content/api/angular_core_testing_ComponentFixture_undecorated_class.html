<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/core/testing</span><div class="docs-reference-title"><div><h1>ComponentFixture</h1><div class="docs-api-item-label" data-mode="full" data-type="undecorated_class">Class</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/core/testing/src/component_fixture.ts#L38-L180" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7r7i319l1xjhqv7iujwbcqioa">用于调试和测试组件的夹具。</p><p></p></header><div data-tab="API" data-tab-url="api"><div class="docs-reference-api-tab"><div class="docs-code"><pre class="docs-mini-scroll-track"><code><div class="hljs-ln-line "><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentFixture</span> {</div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="debugElement">  <span class="hljs-attr">debugElement</span>: <span class="hljs-title class_">DebugElement</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="componentInstance">  <span class="hljs-attr">componentInstance</span>: T;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="nativeElement">  <span class="hljs-attr">nativeElement</span>: <span class="hljs-built_in">any</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="elementRef">  <span class="hljs-attr">elementRef</span>: <span class="hljs-title class_">ElementRef</span>&lt;<span class="hljs-built_in">any</span>&gt;;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="changeDetectorRef">  <span class="hljs-attr">changeDetectorRef</span>: <span class="hljs-title class_">ChangeDetectorRef</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="ngZone">  <span class="hljs-attr">ngZone</span>: <span class="hljs-title class_">NgZone</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="detectChanges">  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">detectChanges</span>(checkNoChanges?: <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="checkNoChanges">  <span class="hljs-title function_">checkNoChanges</span>(): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="autoDetectChanges">  <span class="hljs-keyword">abstract</span> <span class="hljs-title function_">autoDetectChanges</span>(autoDetect?: <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="isStable">  <span class="hljs-title function_">isStable</span>(): <span class="hljs-built_in">boolean</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="whenStable">  <span class="hljs-title function_">whenStable</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt;;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="getDeferBlocks">  <span class="hljs-title function_">getDeferBlocks</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">DeferBlockFixture</span>[]&gt;;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="whenRenderingDone">  <span class="hljs-title function_">whenRenderingDone</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">any</span>&gt;;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="destroy">  <span class="hljs-title function_">destroy</span>(): <span class="hljs-built_in">void</span>;</button><div class="hljs-ln-line ">}</div></code></pre></div></div></div><div class="docs-reference-members-container"><div class="docs-reference-members"><div id="debugElement" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>debugElement</h3><div><code>DebugElement</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="60t1z3d0tea192hv947cbmk2">与该组件的根元素关联的 DebugElement。</p></div></div></div></div><div id="componentInstance" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>componentInstance</h3><div><code>T</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="w3rg2izx6xqix8scdb8mlrbt">根组件类的实例。</p></div></div></div></div><div id="nativeElement" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>nativeElement</h3><div><code>any</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7glbdy2zp6taquloxrdkkp2vt">组件根部的原生元素。</p></div></div></div></div><div id="elementRef" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>elementRef</h3><div><code>ElementRef&lt;any&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1hhawu9044xyi6o8vbe22mr98">位于组件根目录的元素的 ElementRef。</p></div></div></div></div><div id="changeDetectorRef" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>changeDetectorRef</h3><div><code>ChangeDetectorRef</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4uyl2159kguso68c76gecc30l">组件的 ChangeDetectorRef</p></div></div></div></div><div id="ngZone" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>ngZone</h3><div><code>NgZone</code></div></div></header></div><div id="detectChanges" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>detectChanges</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b4wi9jgvfmons9y2nuny8ylmp">触发组件的变更检测周期。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">checkNoChanges</span><code>boolean</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="checkNoChanges" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>checkNoChanges</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dwm1ktwu59wv4unq58ya1xrl3">进行变更检测以确保没有更改。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="autoDetectChanges" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>autoDetectChanges</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="d25akz02r2xzzhdfknnohv9cq">设置夹具是否应自动检测变化。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="r2apx84nagahlv76zh0j0wp9">还运行一次 detectChanges，以检测出任何现有更改。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">autoDetect</span><code>boolean</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="isStable" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>isStable</h3><div><code>boolean</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bm8dvx81u6as5zg4kkocn5v7q">返回此夹具当前是否稳定或具有尚未完成的异步任务。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>boolean</code></div></div></div></div><div id="whenStable" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>whenStable</h3><div><code>Promise&lt;any&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6i2wflksxruv46x52ocvygpic">当夹具稳定时解析的承诺。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ajznjqj6uh6k8lypc5tfkuarz">当事件已触发异步活动或异步变更检测后，可用此方法继续执行测试。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;any&gt;</code></div></div></div></div><div id="getDeferBlocks" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>getDeferBlocks</h3><div><code>Promise&lt;DeferBlockFixture[]&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_ref_id="dorqevrfgxbw0dr403o8u4qsf">检索组件夹具中所有推迟块夹具。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;DeferBlockFixture[]&gt;</code></div></div></div></div><div id="whenRenderingDone" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>whenRenderingDone</h3><div><code>Promise&lt;any&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a4yefnpkr39m4zdw4vj6hwv9r">获得一个承诺，可以解决以下动画中 ui 状态何时稳定的问题。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;any&gt;</code></div></div></div></div><div id="destroy" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>destroy</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4qt5og7tutemtxiw5qbiw1u8">触发组件的销毁。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div></div></div></div>