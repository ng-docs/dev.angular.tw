<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/common/upgrade</span><div class="docs-reference-title"><div><h1>$locationShim</h1><div class="docs-api-item-label" data-mode="full" data-type="undecorated_class">Class</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/common/upgrade/src/location_shim.ts#L34-L741" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a4xnzkama47qq0a1f4pfqmrva">位置服务，提供对 AngularJS 中提供的 $location 服务的直接替代品。</p><p></p><nav class="docs-pill-row"><a class="docs-pill" href="guide/upgrade#using-the-unified-angular-location-service" data-ng_translator_product="100" data-ng_translator_ref_id="5c0mvnf92kvc7e0gdt17a1f1">使用 Angular 统一位置服务</a></nav></header><div data-tab="API" data-tab-url="api"><div class="docs-reference-api-tab"><div class="docs-code"><pre class="docs-mini-scroll-track"><code><div class="hljs-ln-line "><span class="hljs-keyword">class</span> <span class="hljs-title class_">$locationShim</span> {</div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="onChange">  <span class="hljs-title function_">onChange</span>(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">url: <span class="hljs-built_in">string</span>, state: <span class="hljs-built_in">unknown</span>, oldUrl: <span class="hljs-built_in">string</span>, oldState: <span class="hljs-built_in">unknown</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>, err?: <span class="hljs-function">(<span class="hljs-params">e: <span class="hljs-built_in">Error</span></span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="$$parse">  $$parse(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="$$parseLinkUrl">  $$parseLinkUrl(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, relHref?: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="absUrl">  <span class="hljs-title function_">absUrl</span>(): <span class="hljs-built_in">string</span>;</button><div class="hljs-ln-group"><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="url">  <span class="hljs-title function_">url</span>(): <span class="hljs-built_in">string</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="url">  <span class="hljs-title function_">url</span>(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-variable language_">this</span>;</button></div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="protocol">  <span class="hljs-title function_">protocol</span>(): <span class="hljs-built_in">string</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="host">  <span class="hljs-title function_">host</span>(): <span class="hljs-built_in">string</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="port">  <span class="hljs-title function_">port</span>(): <span class="hljs-built_in">number</span>;</button><div class="hljs-ln-group"><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="path">  <span class="hljs-title function_">path</span>(): <span class="hljs-built_in">string</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="path">  <span class="hljs-title function_">path</span>(<span class="hljs-attr">path</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>): <span class="hljs-variable language_">this</span>;</button></div><div class="hljs-ln-group"><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="search">  <span class="hljs-title function_">search</span>(): { [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">unknown</span>; };</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="search">  <span class="hljs-title function_">search</span>(<span class="hljs-attr">search</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | { [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">unknown</span>; }): <span class="hljs-variable language_">this</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="search">  <span class="hljs-title function_">search</span>(<span class="hljs-attr">search</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | { [<span class="hljs-attr">key</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">unknown</span>; }, <span class="hljs-attr">paramValue</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-built_in">boolean</span> | <span class="hljs-built_in">string</span>[]): <span class="hljs-variable language_">this</span>;</button></div><div class="hljs-ln-group"><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="hash">  <span class="hljs-title function_">hash</span>(): <span class="hljs-built_in">string</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="hash">  <span class="hljs-title function_">hash</span>(<span class="hljs-attr">hash</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>): <span class="hljs-variable language_">this</span>;</button></div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="replace">  <span class="hljs-title function_">replace</span>(): <span class="hljs-variable language_">this</span>;</button><div class="hljs-ln-group"><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="state">  <span class="hljs-title function_">state</span>(): <span class="hljs-built_in">unknown</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="state">  <span class="hljs-title function_">state</span>(<span class="hljs-attr">state</span>: <span class="hljs-built_in">unknown</span>): <span class="hljs-variable language_">this</span>;</button></div><div class="hljs-ln-line ">}</div></code></pre></div></div></div><div class="docs-reference-members-container"><div class="docs-reference-members"><div id="onChange" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>onChange</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="50earoasae81olbly73fdqmk9">注册对 URL 更改的监听器。该 API 用于捕获 AngularJS 框架执行的更新。<code>$locationChangeStart</code> 和 <code>$locationChangeSuccess</code> 事件的子集，这些事件在 AngularJS 更新其内部引用的浏览器 URL 版本时触发。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6la7uc18ewcy8hi8i3nfn37bg"><code>$locationChange</code> 事件有可能发生，但浏览器的 URL（window.location）保持不变。仅当 AngularJS 实际上更新浏览器 URL（window.location）时，才会触发此 <code>onChange</code></p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">fn</span><code>(url: string, state: unknown, oldUrl: string, oldState: unknown) =&gt; void</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5mtm76ugypisgkdtgo0muncvc">URL 更改时为监听器触发的回调函数。</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">err</span><code>(e: Error) =&gt; void</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="454rlkgffkpzrzqce4hpn1p69">发生错误时触发的回调函数。</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="$$parse" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>$$parse</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c4cmsoiwf3r050fi7hvmfamc6">解析此 URL，并将当前 URL 设置为解析结果。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">url</span><code>string</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4bdet9xzsf4spq8n7rt6angei">URL 字符串。</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="$$parseLinkUrl" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>$$parseLinkUrl</h3><div><code>boolean</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cfofbub6nm1e9dtwawiobznh1">解析提供的 URL 及其相对 URL。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">url</span><code>string</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c3u20ll9ee8wdvwcdnb9sw0p9">完整的 URL 字符串。</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">relHref</span><code>string</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="f3feecaz5ph6ktiwue1mb7xjp">相对于完整 URL 字符串的 URL 字符串。</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>boolean</code></div></div></div></div><div id="absUrl" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>absUrl</h3><div><code>string</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dd2qd78otfgs5g0spe9i1wvup">检索完整的 URL 表示形式，其中包含根据 <a href="https://tools.ietf.org/html/rfc3986">RFC 3986 中</a> 指定的规则编码过的所有段。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-comment">// given URL http://example.com/#/some/path?foo=bar&amp;baz=xoxo</span></span><span class="hljs-ln-line"><span class="hljs-keyword">let</span> absUrl = $location.<span class="hljs-title function_">absUrl</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; "http://example.com/#/some/path?foo=bar&amp;baz=xoxo"</span></span>
          </code>
        </pre>
      </div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string</code></div></div></div></div><div id="url" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>url</h3><div><span>2 overloads</span></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ahnevyz7d02z0d6f3dh8wj3r7">检索当前 URL，或设置新 URL。设置 URL 时，更改路径、搜索和哈希，并返回对其自身实例的引用。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-comment">// given URL http://example.com/#/some/path?foo=bar&amp;baz=xoxo</span></span><span class="hljs-ln-line"><span class="hljs-keyword">let</span> url = $location.<span class="hljs-title function_">url</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; "/some/path?foo=bar&amp;baz=xoxo"</span></span>
          </code>
        </pre>
      </div></div><div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string</code></div></div><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">url</span><code>string</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>this</code></div></div></div></div><div id="protocol" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>protocol</h3><div><code>string</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5hgl2rq5owpwyvufkg56kulxk">检索当前 URL 的协议。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-comment">// given URL http://example.com/#/some/path?foo=bar&amp;baz=xoxo</span></span><span class="hljs-ln-line"><span class="hljs-keyword">let</span> protocol = $location.<span class="hljs-title function_">protocol</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; "http"</span></span>
          </code>
        </pre>
      </div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string</code></div></div></div></div><div id="host" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>host</h3><div><code>string</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5hgl2rq5owpwyvufkg56kulxk">检索当前 URL 的协议。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5t4dgxhcauogdiu4m6n47j83k">与非 AngularJS 版本不同，其 <code>location.host</code> 会返回 <code>hostname:port</code> ，而这里会返回 <code>hostname</code> 部分。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-comment">// given URL http://example.com/#/some/path?foo=bar&amp;baz=xoxo</span></span><span class="hljs-ln-line"><span class="hljs-keyword">let</span> host = $location.<span class="hljs-title function_">host</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; "example.com"</span></span><span class="hljs-ln-line"></span><span class="hljs-ln-line"><span class="hljs-comment">// given URL http://user:password@example.com:8080/#/some/path?foo=bar&amp;baz=xoxo</span></span><span class="hljs-ln-line">host = $location.<span class="hljs-title function_">host</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; "example.com"</span></span><span class="hljs-ln-line">host = location.<span class="hljs-property">host</span>;</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; "example.com:8080"</span></span>
          </code>
        </pre>
      </div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string</code></div></div></div></div><div id="port" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>port</h3><div><code>number</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5hy47dqmn0p995ga12kq98lgt">检索当前 URL 的端口。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-comment">// given URL http://example.com/#/some/path?foo=bar&amp;baz=xoxo</span></span><span class="hljs-ln-line"><span class="hljs-keyword">let</span> port = $location.<span class="hljs-title function_">port</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; 80</span></span>
          </code>
        </pre>
      </div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>number</code></div></div></div></div><div id="path" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>path</h3><div><span>2 overloads</span></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="16euqwzetfs7w33eaero2t92f">检索当前 URL 的路径，或更改路径并返回对其自身实例的引用。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6oe7o0lq4b9nk9el7pdtjly6p">路径应始终以正斜杠（/）开头。如果缺少此斜杠，则此方法将添加它。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-comment">// given URL http://example.com/#/some/path?foo=bar&amp;baz=xoxo</span></span><span class="hljs-ln-line"><span class="hljs-keyword">let</span> path = $location.<span class="hljs-title function_">path</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; "/some/path"</span></span>
          </code>
        </pre>
      </div></div><div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string</code></div></div><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">path</span><code>string | number</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>this</code></div></div></div></div><div id="search" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>search</h3><div><span>3 overloads</span></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8bie50hj8rzrzoyd1fqij2qw4">检索当前 URL 的搜索参数的映射，或更改搜索部分并返回对其自身实例的引用。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-comment">// given URL http://example.com/#/some/path?foo=bar&amp;baz=xoxo</span></span><span class="hljs-ln-line"><span class="hljs-keyword">let</span> searchObject = $location.<span class="hljs-title function_">search</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; {foo: 'bar', baz: 'xoxo'}</span></span><span class="hljs-ln-line"></span><span class="hljs-ln-line"><span class="hljs-comment">// set foo to 'yipee'</span></span><span class="hljs-ln-line">$location.<span class="hljs-title function_">search</span>(<span class="hljs-string">'foo'</span>, <span class="hljs-string">'yipee'</span>);</span><span class="hljs-ln-line"><span class="hljs-comment">// $location.search() =&gt; {foo: 'yipee', baz: 'xoxo'}</span></span>
          </code>
        </pre>
      </div></div><div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>{ [key: string]: unknown; }</code></div></div><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">search</span><code>string | number | { [key: string]: unknown; }</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>this</code></div></div><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">search</span><code>string | number | { [key: string]: unknown; }</code><div class="docs-parameter-description"></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">paramValue</span><code>string | number | boolean | string[]</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>this</code></div></div></div></div><div id="hash" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>hash</h3><div><span>2 overloads</span></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3qqropy43i9bh16v9045gjw3t">检索当前哈希片段，或更改哈希片段并返回对其自身实例的引用。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-comment">// given URL http://example.com/#/some/path?foo=bar&amp;baz=xoxo#hashValue</span></span><span class="hljs-ln-line"><span class="hljs-keyword">let</span> hash = $location.<span class="hljs-title function_">hash</span>();</span><span class="hljs-ln-line"><span class="hljs-comment">// =&gt; "hashValue"</span></span>
          </code>
        </pre>
      </div></div><div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string</code></div></div><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">hash</span><code>string | number</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>this</code></div></div></div></div><div id="replace" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>replace</h3><div><code>this</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9i436yuspwybterdmd46wjhug">当前 <code>$digest</code> 期间对 <code>$location</code> 更改将替换当前历史记录，而不是添加新的记录。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>this</code></div></div></div></div><div id="state" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>state</h3><div><span>2 overloads</span></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cltai7bqb6bsxvxhtjfbrb9gi">当不带任何参数调用时将检索历史状态对象。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="3q1pqpykehjcj6v6ddat92avu">用一个参数调用时更改历史状态对象，并返回 
<code>$location</code>。状态对象稍后会传递给 
<code>pushState</code> 或 
<code>replaceState</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1c79jpmbexas5jp0gpf375rzo">仅在 HTML5 模式下以及在支持 HTML5 History API 方法（比如 <code>pushState</code> 和
<code>replaceState</code>）的浏览器中才支持此方法。如果你需要支持较旧的浏览器（比如 Android
&lt;4.0），请不要使用此方法。</p></div><div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>unknown</code></div></div><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">state</span><code>unknown</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>this</code></div></div></div></div></div></div></div>