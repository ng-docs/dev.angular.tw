<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/localize/init</span><div class="docs-reference-title"><div><h1>$localize</h1><div class="docs-api-item-label type-constant full">常數</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/localize/src/localize/src/localize.ts#L146-L161" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">程式碼</i></a></div><section class="docs-reference-description"><p>標記要本地化的樣板字面量字串。</p></section></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="docs-mini-scroll-track"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">  <code>
    <span class="line "><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> <a href="/api/localize/init/$localize">$localize</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> LocalizeFn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
  </code>
  </pre></pre></div></div><div class="docs-reference-section"><h2 id="description" class="docs-reference-section-heading"><a href="#description" aria-label="Link to Description section" tabindex="-1">說明</a></h2><div><p>標記要本地化的樣板字面量字串。</p>
<p>例如：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"><a href="/api/localize/init/$localize">$localize</a> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`some string to localize`</span></span></code></pre>
        </pre>
      </div>
    <p><strong>提供 meaning、description 和 id</strong></p>
<p>你可以選擇性地為一個本地化的字串指定一個或多個 <code>meaning</code>、<code>description</code> 和 <code>id</code>，方法是在字串前面加上一個冒號分隔的控制區塊，格式如下：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/localize/init/$localize">$localize</a></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`:meaning|description@@id:source message text`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/localize/init/$localize">$localize</a></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`:meaning|:source message text`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/localize/init/$localize">$localize</a></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`:description:source message text`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/localize/init/$localize">$localize</a></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`:@@id:source message text`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span></code></pre>
        </pre>
      </div>
    <p>這種格式與 Angular 樣板中用於 <code>i18n</code> 標記的格式相同。請參閱 <a href="guide/i18n/prepare#mark-text-in-component-template">Angular i18n 指南</a>。</p>
<p><strong>命名佔位符</strong></p>
<p>如果樣板字面量字串包含表示式，那麼這些表示式將自動與佔位符名稱關聯。</p>
<p>例如：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"><a href="/api/localize/init/$localize">$localize</a> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`Hi ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}! There are ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">items</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">length</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">} items.`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span></code></pre>
        </pre>
      </div>
    <p>將生成訊息源 <code>Hi {$PH}! There are {$PH_1} items</code>。</p>
<p>推薦的做法是為每個表示式關聯的佔位符命名。</p>
<p>要做到這一點，請在表示式之後直接提供用 <code>:</code> 字元包裹的佔位符名稱。這些佔位符名稱將從渲染後的本地化字串中剝離出來。</p>
<p>例如，要將 <code>items.length</code> 表示式佔位符命名為 <code>itemCount</code>，你可以這樣寫：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"><a href="/api/localize/init/$localize">$localize</a> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`There are ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">items</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">length</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}:itemCount: items`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span></code></pre>
        </pre>
      </div>
    <p><strong>轉義冒號標記</strong></p>
<p>如果你需要在標記字串的開頭直接使用 <code>:</code> 字元（該字串沒有元資料區塊），或者在沒有名稱的替換表示式之後直接使用 <code>:</code> 字元，則必須透過在 <code>:</code> 前面加上反斜槓來轉義它：</p>
<p>例如：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// message has a metadata block so no need to escape colon</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"><a href="/api/localize/init/$localize">$localize</a> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`:some description::this message starts with a colon (:)`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// no metadata block so the colon must be escaped</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"><a href="/api/localize/init/$localize">$localize</a> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">this message starts with a colon (:)`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span></code></pre>
        </pre>
      </div>
    
      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// named substitution so no need to escape colon</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"><a href="/api/localize/init/$localize">$localize</a> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">label</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}:label:: ${}`</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// anonymous substitution so colon must be escaped</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"><a href="/api/localize/init/$localize">$localize</a> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">label</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ${}`</span></span></code></pre>
        </pre>
      </div>
    <p><strong>處理本地化的字串：</strong></p>
<p>有三種場景：</p>

    <ul class="docs-list">
      <li><p><strong>編譯時行內</strong>：<code><a href="/api/localize/init/$localize">$localize</a></code> 標記在編譯時由轉譯器轉換，移除該標記，並使用從提供給轉譯工具的翻譯集合中獲得的已翻譯字面量字串替換樣板字面量字串。</p>
</li>
<li><p><strong>執行時求值</strong>：<code><a href="/api/localize/init/$localize">$localize</a></code> 標記是一個執行時函式，它使用執行時載入的翻譯集合中的字串替換和重排樣板字面量字串的各個部分（靜態字串和表示式）。</p>
</li>
<li><p><strong>直通式求值</strong>：<code><a href="/api/localize/init/$localize">$localize</a></code> 標記是一個執行時函式，它只是對原始樣板字面量字串求值，而不對其各個部分應用任何翻譯。此版本用於開發期間或不需要翻譯本地化樣板字面量的地方。</p>
</li>

    </ul></div></div></div>