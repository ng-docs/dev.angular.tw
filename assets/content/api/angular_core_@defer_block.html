<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/core</span><div class="docs-reference-title"><div><h1>@defer</h1><div class="docs-api-item-label" data-mode="full" data-type="block">block</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/tools/manual_api_docs/blocks/defer.md#L0-L0" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_ref_id="go1db2n8bc527d7jw8s8head">一种 
<a href="api/core/@defer">控制块</a>，可用于延迟加载组件、指令和管道在组件模板中使用的 JavaScript。</p><p></p></header><div data-tab="说明" data-tab-url="description"><div><p data-ng_translator_product="100" data-ng_translator_ref_id="go1db2n8bc527d7jw8s8head">一种 
<a href="api/core/@defer">控制块</a>，可用于延迟加载组件、指令和管道在组件模板中使用的 JavaScript。</p>
<h2 data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8p44mx807exjp3s0k9dwbuxla">语法</h2>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line">@defer ( on <span class="hljs-tag">&lt;<span class="hljs-name">trigger</span>&gt;</span>; when <span class="hljs-tag">&lt;<span class="hljs-name">condition</span>&gt;</span>; prefetch on <span class="hljs-tag">&lt;<span class="hljs-name">trigger</span>&gt;</span>; prefetch when <span class="hljs-tag">&lt;<span class="hljs-name">condition</span>&gt;</span> ) {</span><span class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- deferred template fragment --&gt;</span></span><span class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">calendar-cmp</span> /&gt;</span></span><span class="hljs-ln-line">} @placeholder ( minimum? <span class="hljs-tag">&lt;<span class="hljs-name">duration</span>&gt;</span> ) {</span><span class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- placeholder template fragment --&gt;</span></span><span class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Placeholder<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-ln-line">} @loading ( minimum? <span class="hljs-tag">&lt;<span class="hljs-name">duration</span>&gt;</span>; after? <span class="hljs-tag">&lt;<span class="hljs-name">duration</span>&gt;</span> ) {</span><span class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- loading template fragment --&gt;</span></span><span class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"loading image"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"loading.gif"</span> /&gt;</span></span><span class="hljs-ln-line">} @error {</span><span class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- error template fragment --&gt;</span></span><span class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>An loading error occurred<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><span class="hljs-ln-line">}</span>
          </code>
        </pre>
      </div>
    <h2 data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ar5q09mdsagdppsbze96eagxl">说明</h2>
<h3 data-ng_translator_product="100" data-ng_translator_ref_id="a5xwaqbi0e61umqg5kpxpysa">控制块</h3>
<p data-ng_translator_product="100" data-ng_translator_ref_id="fz14b5siewn3b2bucmq1u9xw">延迟加载控制块的支持部分。注意：只有 @defer 控制块模板片段是延迟加载的，其余的可选控制块是急性加载的。</p>

      <div class="docs-table docs-scroll-track-transparent">
        <table>
          <thead>
            <tr>
<th>block</th>
<th data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ar5q09mdsagdppsbze96eagxl">说明</th>
</tr>

          </thead>
          <tbody>
            <tr>
<td><code>@defer</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="7ncdykqvxmui9lthmnzkzkvha">延迟加载的内容块</td>
</tr>
<tr>
<td><code>@placeholder</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="5xafrdqxrdjav9cebsv6hbc1t">延迟加载之前显示的内容（可选）</td>
</tr>
<tr>
<td><code>@loading</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="4vlykd9modrk3p8sc0a6hrwb8">延迟加载期间显示的内容（可选）</td>
</tr>
<tr>
<td><code>@error</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="6nv3souilty4zrn78uppsvv08">延迟加载出错时显示的内容（可选）</td>
</tr>

          </tbody>
        </table>
      </div>
    <h3 data-ng_translator_product="100" data-ng_translator_ref_id="7vgcf722ylvmkj1nb28q7j5wh">触发器</h3>

<p data-ng_translator_product="100" data-ng_translator_ref_id="1acyfqgrtitgtwtdjrflj0ly4">触发器提供延迟加载发生的条件。某些允许模板引用变量作为可选参数。用分号分隔多个触发器。</p>

      <div class="docs-table docs-scroll-track-transparent">
        <table>
          <thead>
            <tr>
<th>trigger</th>
<th data-ng_translator_product="100" data-ng_translator_ref_id="chrftc36h0dra0jgjcecpi2r5">触发器...</th>
</tr>

          </thead>
          <tbody>
            <tr>
<td><code>on idle</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="53x6wpl3jqd6wiewxsngsmnut">当浏览器报告空闲状态时（默认）</td>
</tr>
<tr>
<td><code>on viewport(&lt;elementRef&gt;?)</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="baz9r7qizgyn8zn2k0nbi9715">当元素进入视口时</td>
</tr>
<tr>
<td><code>on interaction(&lt;elementRef&gt;?)</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="f37a8qfrr4r3ewivrlck9if2q">当被点击、触碰或聚焦时</td>
</tr>
<tr>
<td><code>on hover(&lt;elementRef&gt;?)</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="9kvfnil1dgpoub07wzaq496le">当元素被悬停时</td>
</tr>
<tr>
<td><code>on immediate</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="eausq0hfjn34pjomy76ivhjhz">当页面渲染完成时</td>
</tr>
<tr>
<td><code>on timer(&lt;duration&gt;)</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="f4fe7homtdj5wbykva9lab3hf">在特定超时之后</td>
</tr>
<tr>
<td><code>when &lt;condition&gt;</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="1nggkx2xdfznn3imve6x4yxjh">在自定义条件下</td>
</tr>

          </tbody>
        </table>
      </div>
    <h2 data-ng_translator_product="100" data-ng_translator_ref_id="1fumgg87uab6lcwe4e1hafk3y">预取</h2>

<p data-ng_translator_product="100" data-ng_translator_ref_id="4wba0b5cjr12nqfiskcouz93n">配置在 
<code>@defer</code> 参数中使用的延迟块的预取，但不影响渲染。渲染由标准的 
<code>on</code> 和 
<code>when</code> 条件处理。用分号分隔多个预取配置。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line">@defer (prefetch on <span class="hljs-tag">&lt;<span class="hljs-name">trigger</span>&gt;</span>; prefetch when <span class="hljs-tag">&lt;<span class="hljs-name">condition</span>&gt;</span>) {</span><span class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- deferred template fragment --&gt;</span></span><span class="hljs-ln-line">}</span>
          </code>
        </pre>
      </div>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="azw45pjb9kmfio5ql9fe1spna">在 
<a href="guide/defer">延迟加载指南</a> 中了解更多信息。</p></div></div></div>