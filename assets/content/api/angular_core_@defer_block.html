<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/core</span><div class="docs-reference-title"><div><h1>@defer</h1><div class="docs-api-item-label type-block full">控制區塊</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/tools/manual_api_docs/blocks/defer.md#L0-L0" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">程式碼</i></a></div><section class="docs-reference-description"><p>一種<a href="api/core/@defer">控制區塊</a>型別，可用於為元件、指令和通道（在元件樣板中使用）延遲載入 JavaScript。</p>

      <h2 id="syntax" class="docs-reference-section-heading docs-reference-section-heading--sub">
        <a href="#syntax" aria-label="Link to Syntax section" tabindex="-1">語法</a>
      </h2>
    
      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ( on </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">trigger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; when </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">condition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; prefetch on </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">trigger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; prefetch when </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">condition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ) {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  &lt;!-- deferred template fragment --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">calendar-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ( minimum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">duration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ) {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  &lt;!--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> placeholder template fragment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">--&gt;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">Placeholder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">p</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@loading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ( minimum</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">duration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; after</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">duration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ) {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  &lt;!--</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> loading template fragment </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">--&gt;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">img alt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"loading image"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"loading.gif"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  &lt;!-- error template fragment --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;An loading error occurred&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
        </pre>
      </div>
    
      <h2 id="description" class="docs-reference-section-heading docs-reference-section-heading--sub">
        <a href="#description" aria-label="Link to Description section" tabindex="-1">描述</a>
      </h2>
    
      <h3 id="blocks" class="docs-reference-section-heading docs-reference-section-heading--sub">
        <a href="#blocks" aria-label="Link to Blocks section" tabindex="-1">控制區塊</a>
      </h3>
    <p>defer 控制塊中受支援的 section。注意：只有 @defer 控制區塊樣板片段是延遲載入的。其餘可選控制區塊是急性載入的。</p>

      <div class="docs-table docs-scroll-track-transparent">
        <table>
          <thead>
          <tr>
<th>控制區塊</th>
<th>描述</th>
</tr>

          </thead>
          <tbody>
          <tr>
<td><code>@defer</code></td>
<td>延遲載入的控制區塊的內容</td>
</tr>
<tr>
<td><code>@placeholder</code></td>
<td>在延遲載入之前顯示的內容（可選）</td>
</tr>
<tr>
<td><code>@loading</code></td>
<td>在延遲載入期間顯示的內容（可選）</td>
</tr>
<tr>
<td><code>@error</code></td>
<td>當延遲載入錯誤發生時顯示的內容（可選）</td>
</tr>

          </tbody>
        </table>
      </div>
    <h3>觸發器</h3>

<p>觸發器為延遲載入發生時提供條件。有些允許使用樣板引用變數作為可選引數。用分號分隔多個觸發器。</p>

      <div class="docs-table docs-scroll-track-transparent">
        <table>
          <thead>
          <tr>
<th>trigger</th>
<th>Triggers...</th>
</tr>

          </thead>
          <tbody>
          <tr>
<td><code>on idle</code></td>
<td>當瀏覽器報告空閒狀態時（預設）</td>
</tr>
<tr>
<td><code>on viewport(&lt;elementRef&gt;?)</code></td>
<td>當元素進入視口時</td>
</tr>
<tr>
<td><code>on interaction(&lt;elementRef&gt;?)</code></td>
<td>當點選、觸碰或聚焦時</td>
</tr>
<tr>
<td><code>on hover(&lt;elementRef&gt;?)</code></td>
<td>當元素已被懸停時</td>
</tr>
<tr>
<td><code>on immediate</code></td>
<td>當頁面完成渲染時</td>
</tr>
<tr>
<td><code>on timer(&lt;duration&gt;)</code></td>
<td>在特定超時之後</td>
</tr>
<tr>
<td><code>when &lt;condition&gt;</code></td>
<td>當自定義條件時</td>
</tr>

          </tbody>
        </table>
      </div>
    <h2>預取</h2>

<p>設定在 <code>@defer</code> 引數中使用的 defer 控制區塊的預取，但不影響渲染。渲染由標準的 <code>on</code> 和 <code>when</code> 條件處理。用分號分隔多個預取設定。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">          <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (prefetch on </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">trigger</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; prefetch when </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">condition</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  &lt;!-- deferred template fragment --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
        </pre>
      </div>
    <p>在<a href="guide/defer">延遲載入指南</a>中瞭解更多。</p></section></header></div>