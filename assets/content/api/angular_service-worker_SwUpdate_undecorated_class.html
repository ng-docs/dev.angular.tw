<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/service-worker</span><div class="docs-reference-title"><div><h1>SwUpdate</h1><div class="docs-api-item-label" data-mode="full" data-type="undecorated_class">Class</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/service-worker/src/update.ts#L27-L118" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3z7nb50mrqmdibqau1dkcu2ry">订阅来自 Service Worker 的更新通知、触发更新检查以及强制激活更新。</p><p></p><nav class="docs-pill-row"><a class="docs-pill" href="api/service-worker/ecosystem" data-ng_translator_product="100" data-ng_translator_ref_id="6dwillw6mlv9lz1ppkjthp2y1">/service-workers/communications Service worker 通信指南</a></nav></header><div data-tab="API" data-tab-url="api"><div class="docs-reference-api-tab"><div class="docs-code"><pre class="docs-mini-scroll-track"><code><div class="hljs-ln-line "><span class="hljs-keyword">class</span> <span class="hljs-title class_">SwUpdate</span> {</div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="versionUpdates">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">versionUpdates</span>: <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-title class_">VersionEvent</span>&gt;;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="unrecoverable">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">unrecoverable</span>: <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-title class_">UnrecoverableStateEvent</span>&gt;;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="isEnabled">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">isEnabled</span>: <span class="hljs-built_in">boolean</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="checkForUpdate">  <span class="hljs-title function_">checkForUpdate</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="activateUpdate">  <span class="hljs-title function_">activateUpdate</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">boolean</span>&gt;;</button><div class="hljs-ln-line ">}</div></code></pre></div></div></div><div class="docs-reference-members-container"><div class="docs-reference-members"><div id="versionUpdates" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>versionUpdates</h3><div><code>Observable&lt;VersionEvent&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_ref_id="du5h2u25nq9k95rdw6dx23e6j">每当在服务器上检测到新版本时，触发 
<code>VersionDetectedEvent</code> 事件。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="2yzo47pwbq9t089em0lg4f826">每当检查或下载新版本失败时，触发 
<code>VersionInstallationFailedEvent</code> 事件。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8xp4n2es79cw1l92rpikyn2fe">每当新版本已下载并准备激活时，触发 
<code>VersionReadyEvent</code> 事件。</p></div></div></div></div><div id="unrecoverable" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>unrecoverable</h3><div><code>Observable&lt;UnrecoverableStateEvent&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_ref_id="3z9s8s68r72xdno7wk64mbteh">每当服务工作线程用于服务此客户端的应用版本处于无法通过不完全页面重新加载恢复的破损状态时，触发 
<code>UnrecoverableStateEvent</code> 事件。</p></div></div></div></div><div id="isEnabled" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>isEnabled</h3><div><code>boolean</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_ref_id="190g8rxmdii80rfqdlat2nos8">如果 Service Worker 已启用（由浏览器支持并通过 
<code>ServiceWorkerModule</code> 启用），则为 True。</p></div></div></div></div><div id="checkForUpdate" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>checkForUpdate</h3><div><code>Promise&lt;boolean&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="aubx2t78tsdural70dm9n6rkd">检查更新并等到从服务器下载新版本并准备好激活。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;boolean&gt;</code></div></div></div></div><div id="activateUpdate" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>activateUpdate</h3><div><code>Promise&lt;boolean&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8qchexbmdrmvqq99zattx8sjq">将当前客户端（即浏览器选项卡）更新到可激活的最新版本。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2rnfpeesmxdtwfsh0y3ct49dd">在大多数情况下，你不应该使用此方法，而应该通过重新加载页面来更新客户端。</p>
<div class="alert is-important">

<p data-ng_translator_product="100" data-ng_translator_ref_id="1auupk8m4y7sm9jdzr7984vvt">在不重新加载客户端的情况下更新，可能会由于应用外壳和其他页面资源（如延迟加载的块）之间的版本不匹配，轻易导致应用破损，这些资源的文件名可能在版本之间发生变化。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="w4r2q6nsecrjxz74pv8qr9o6">仅在你确定它对你的特定使用案例是安全时使用此方法。</p>
</div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;boolean&gt;</code></div></div></div></div></div></div></div>