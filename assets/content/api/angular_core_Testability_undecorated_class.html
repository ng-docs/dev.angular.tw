<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/core</span><div class="docs-reference-title"><div><h1 data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bd016rcmesx3cea1p6yjy9tmy">可测试性</h1><div class="docs-api-item-label" data-mode="full" data-type="undecorated_class">Class</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/core/src/testability/testability.ts#L82-L239" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9tav3ytzyf2ocvi3lse6ewc94">Testability 服务提供了可以从浏览器访问的测试钩子。</p><p></p></header><div data-tab="API" data-tab-url="api"><div class="docs-reference-api-tab"><div class="docs-code"><pre class="docs-mini-scroll-track"><code><div class="hljs-ln-line "><span class="hljs-keyword">class</span> <span class="hljs-title class_">Testability</span> {</div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="isStable">  <span class="hljs-title function_">isStable</span>(): <span class="hljs-built_in">boolean</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="whenStable">  <span class="hljs-title function_">whenStable</span>(<span class="hljs-attr">doneCb</span>: <span class="hljs-title class_">Function</span>, timeout?: <span class="hljs-built_in">number</span>, updateCb?: <span class="hljs-title class_">Function</span>): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="findProviders">  <span class="hljs-title function_">findProviders</span>(<span class="hljs-attr">using</span>: <span class="hljs-built_in">any</span>, <span class="hljs-attr">provider</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">exactMatch</span>: <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">any</span>[];</button><div class="hljs-ln-line ">}</div></code></pre></div></div></div><div data-tab="说明" data-tab-url="description"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9tav3ytzyf2ocvi3lse6ewc94">Testability 服务提供了可以从浏览器访问的测试钩子。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="7tyt7wa3f3ize87a8ma1vwi53">使用 NgModule 引导（通过 
<code>@NgModule.bootstrap</code> 字段）的 Angular 应用默认会实例化 Testability（在开发和生产模式中均如此）。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="5b4ic9pmnxo5vuw0cn0rzqrmy">对于使用 
<code>bootstrapApplication</code> 函数引导的应用，默认不包含 Testability。你可以通过使用 
<code>provideProtractorTestingSupport()</code> 函数获取必要提供者列表并将其添加到 
<code>options.providers</code> 数组中，从而将其包含在你的应用中。示例：</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-keyword">import</span> {provideProtractorTestingSupport} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser'</span>;</span><span class="hljs-ln-line"></span><span class="hljs-ln-line"><span class="hljs-keyword">await</span> <span class="hljs-title function_">bootstrapApplication</span>(<span class="hljs-title class_">RootComponent</span>, <span class="hljs-attr">providers</span>: [<span class="hljs-title function_">provideProtractorTestingSupport</span>()]);</span>
          </code>
        </pre>
      </div></div></div><div class="docs-reference-members-container"><div class="docs-reference-members"><div id="isStable" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>isStable</h3><div><code>boolean</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="49tq5n181uk4oq6ejw3va7o9s">关联的应用程序是否稳定</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>boolean</code></div></div></div></div><div id="whenStable" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>whenStable</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bum869iloajix0jfnxbakpx1v">等待应用程序稳定并超时。如果在此之前已达到超时，则回调将收到未决的宏任务的列表，否则为 null。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">doneCb</span><code>Function</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c13xsw2pwsaf3zxgiwne1xlij">当 Angular 稳定或超时到期时调用的回调，以先到者为准。</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">timeout</span><code>number</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bn8xalwhr6vv3z7tqjmqi35o5">可选的。等待 Angular 稳定下来的最长时间。如果未指定，那么 whenStable() 将永远等待。</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">updateCb</span><code>Function</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1t7selqmq1tfgmedo10leszfx">可选的。如果指定，则每当挂起的宏任务集发生更改时，都会调用此回调。如果此回调返回 true，那么将不会调用 doneCb，并且不会发出进一步的更新。</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="findProviders" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>findProviders</h3><div><code>any[]</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="crk4g0144ep9xx3dvees3okq2">按名称查找提供者</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">using</span><code>any</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="d038xvgjgy7fppl74d0sonc8k">要搜索的根元素</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">provider</span><code>string</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="812qr6m5ytk2u8t654shi8233">绑定变量的名称</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">exactMatch</span><code>boolean</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6dvw33jj4kr531y1agwkgfbt5">是否使用 exactMatch</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>any[]</code></div></div></div></div></div></div></div>