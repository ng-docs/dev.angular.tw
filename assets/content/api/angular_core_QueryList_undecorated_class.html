<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/core</span><div class="docs-reference-title"><div><h1>QueryList</h1><div class="docs-api-item-label" data-mode="full" data-type="undecorated_class">Class</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/core/src/linker/query_list.ts#L46-L202" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1su5ac26kswbbfp9z557jxoa3">一个不可修改的条目列表，当应用状态变化时，Angular 会保证它是最新的。</p><p></p></header><div data-tab="API" data-tab-url="api"><div class="docs-reference-api-tab"><div class="docs-code"><pre class="docs-mini-scroll-track"><code><div class="hljs-ln-line "><span class="hljs-keyword">class</span> <span class="hljs-title class_">QueryList</span> {</div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="dirty">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">dirty</span>: <span class="hljs-literal">true</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="length">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">length</span>: <span class="hljs-built_in">number</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="first">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">first</span>: T;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="last">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">last</span>: T;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="changes">  <span class="hljs-keyword">readonly</span> <span class="hljs-attr">changes</span>: <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-built_in">any</span>&gt;;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="get">  <span class="hljs-title function_">get</span>(<span class="hljs-attr">index</span>: <span class="hljs-built_in">number</span>): T;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="map">  <span class="hljs-title function_">map</span>(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">item: T, index: <span class="hljs-built_in">number</span>, array: T[]</span>) =&gt;</span> U): U[];</button><div class="hljs-ln-group"><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="filter">  <span class="hljs-title function_">filter</span>(<span class="hljs-attr">predicate</span>: <span class="hljs-function">(<span class="hljs-params">value: T, index: <span class="hljs-built_in">number</span>, array: <span class="hljs-keyword">readonly</span> T[]</span>) =&gt;</span> value is S): S[];</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="filter">  <span class="hljs-title function_">filter</span>(<span class="hljs-attr">predicate</span>: <span class="hljs-function">(<span class="hljs-params">value: T, index: <span class="hljs-built_in">number</span>, array: <span class="hljs-keyword">readonly</span> T[]</span>) =&gt;</span> <span class="hljs-built_in">unknown</span>): T[];</button></div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="find">  <span class="hljs-title function_">find</span>(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">item: T, index: <span class="hljs-built_in">number</span>, array: T[]</span>) =&gt;</span> <span class="hljs-built_in">boolean</span>): T;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="reduce">  <span class="hljs-title function_">reduce</span>(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">prevValue: U, curValue: T, curIndex: <span class="hljs-built_in">number</span>, array: T[]</span>) =&gt;</span> U, <span class="hljs-attr">init</span>: U): U;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="forEach">  <span class="hljs-title function_">forEach</span>(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">item: T, index: <span class="hljs-built_in">number</span>, array: T[]</span>) =&gt;</span> <span class="hljs-built_in">void</span>): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="some">  <span class="hljs-title function_">some</span>(<span class="hljs-attr">fn</span>: <span class="hljs-function">(<span class="hljs-params">value: T, index: <span class="hljs-built_in">number</span>, array: T[]</span>) =&gt;</span> <span class="hljs-built_in">boolean</span>): <span class="hljs-built_in">boolean</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="toArray">  <span class="hljs-title function_">toArray</span>(): T[];</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="toString">  <span class="hljs-title function_">toString</span>(): <span class="hljs-built_in">string</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="reset">  <span class="hljs-title function_">reset</span>(<span class="hljs-attr">resultsTree</span>: (<span class="hljs-built_in">any</span>[] | T)[], identityAccessor?: <span class="hljs-function">(<span class="hljs-params">value: T</span>) =&gt;</span> <span class="hljs-built_in">unknown</span>): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="notifyOnChanges">  <span class="hljs-title function_">notifyOnChanges</span>(): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="setDirty">  <span class="hljs-title function_">setDirty</span>(): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="destroy">  <span class="hljs-title function_">destroy</span>(): <span class="hljs-built_in">void</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="[Symbol.iterator]">  [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]: <span class="hljs-function">() =&gt;</span> <span class="hljs-title class_">Iterator</span>&lt;T, <span class="hljs-built_in">any</span>, <span class="hljs-literal">undefined</span>&gt;;</button><div class="hljs-ln-line ">}</div></code></pre></div></div></div><div data-tab="说明" data-tab-url="description"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1su5ac26kswbbfp9z557jxoa3">一个不可修改的条目列表，当应用状态变化时，Angular 会保证它是最新的。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="d64wa5nowbtdgfy7cqwvd6klk"><a href="api/core/ViewChildren "><code>ViewChildren</code></a>、{@link ContentChildren} 和 {@link QueryList} 提供的对象类型。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4ipkxaxv8pyy7n7o10rsf2ucj">实现了可迭代接口，因此可以在 ES6 JavaScript 
<code>for (var i of items)</code> 循环中使用，也可以在 Angular 模板中使用 
<code>*ngFor="let i of myList"</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="bbgkjnfmxztfjap0d7o90edka">可以通过订阅 changes 
<code>Observable</code> 来观察变化。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3h7jl9arafvpwy52wrsbgf5cm">注意：将来此类将会实现 <code>Observable</code> 接口。</p></div></div><div data-tab="用法说明" data-tab-url="usage-notes"><div><h3 data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="lzz2v4ucg07faxnpe2bu1wa1">范例</h3>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-meta">@Component</span>({...})</span><span class="hljs-ln-line"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Container</span> {</span>
          </code>
        </pre>
      </div>
    </div></div><div class="docs-reference-members-container"><div class="docs-reference-members"><div id="dirty" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>dirty</h3><div><code>true</code></div></div></header></div><div id="length" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>length</h3><div><code>number</code></div></div></header></div><div id="first" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>first</h3><div><code>T</code></div></div></header></div><div id="last" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>last</h3><div><code>T</code></div></div></header></div><div id="changes" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>changes</h3><div><code>Observable&lt;any&gt;</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_ref_id="cpvybdxr8ao7e9po79fqnxo46">返回一个 
<code>Observable</code> 的 
<code>QueryList</code>，通知订阅者变更。</p></div></div></div></div><div id="get" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>get</h3><div><code>T</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bzbqy2c104js5b4zjm6svqw9e">返回位于 <code>index</code> 处的 QueryList 条目。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>T</code></div></div></div></div><div id="map" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>map</h3><div><code>U[]</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="42gkntgvurks7y66a4w504ch9">参见
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map">Array.map</a></p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">fn</span><code>(item: T, index: number, array: T[]) =&gt; U</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>U[]</code></div></div></div></div><div id="filter" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>filter</h3><div><span>2 overloads</span></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a6c3y839guad3ay6oymzckj1t">参见
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter">Array.filter</a></p></div><div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">predicate</span><code>(value: T, index: number, array: readonly T[]) =&gt; value is S</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>S[]</code></div></div><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">predicate</span><code>(value: T, index: number, array: readonly T[]) =&gt; unknown</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>T[]</code></div></div></div></div><div id="find" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>find</h3><div><code>T</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4tnpns3h6i774t6dk5s9pyvkk">参见
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find">Array.find</a></p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">fn</span><code>(item: T, index: number, array: T[]) =&gt; boolean</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>T</code></div></div></div></div><div id="reduce" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>reduce</h3><div><code>U</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="18sdtuxmmrfi8xpqwjgpqaegc">参见
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce">Array.reduce</a></p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">fn</span><code>(prevValue: U, curValue: T, curIndex: number, array: T[]) =&gt; U</code><div class="docs-parameter-description"></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">init</span><code>U</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>U</code></div></div></div></div><div id="forEach" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>forEach</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6tbphqql6xm5vfs1itrcb9q4i">参见
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">Array.forEach</a></p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">fn</span><code>(item: T, index: number, array: T[]) =&gt; void</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="some" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>some</h3><div><code>boolean</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2bz3o9b896gi5v0lm9py57kx1">参见
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some">Array.some</a></p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">fn</span><code>(value: T, index: number, array: T[]) =&gt; boolean</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>boolean</code></div></div></div></div><div id="toArray" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>toArray</h3><div><code>T[]</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="31gk9rcjm5q35nayjrad3qdzd">以数组形式返回内部结果列表的副本。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>T[]</code></div></div></div></div><div id="toString" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>toString</h3><div><code>string</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string</code></div></div></div></div><div id="reset" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>reset</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="44a8j1t2ew34bpyrqmhboiuoy">更新查询列表中存储的数据，并将 <code>dirty</code> 标志重置为
<code>false</code>，以便当检测到变更时，除非发生新变更，否则不会通知这些查询的变更。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">resultsTree</span><code>(any[] | T)[]</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="15eje9uxvvtq0g1okfoycx1ut">要存储的查询结果</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">identityAccessor</span><code>(value: T) =&gt; unknown</code><div class="docs-parameter-description"><p data-ng_translator_product="100" data-ng_translator_ref_id="37na8i49d2f9bh9dyqbwg9u2h">用于从数组中的值提取稳定对象标识的可选函数。此函数在比较当前查询列表与新列表（作为 
<code>reset</code> 函数的第一个参数提供）时，为查询结果列表的每个元素执行，以检测列表是否不同。如果未提供此函数，则按原样比较元素（不进行任何预处理）。</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="notifyOnChanges" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>notifyOnChanges</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p data-ng_translator_product="100" data-ng_translator_ref_id="2xyfvek7s9tutz4y5su4nieih">通过在 
<code>changes</code> 
<a href="api/core/EventEmitter "><code>EventEmitter</code></a> 上发射来触发变更事件。</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="setDirty" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>setDirty</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>internal</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="destroy" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>destroy</h3><div><code>void</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>internal</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>void</code></div></div></div></div><div id="[Symbol.iterator]" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>[Symbol.iterator]</h3><div><code>() =&gt; Iterator&lt;T, any, undefined&gt;</code></div></div></header></div></div></div></div>