<div class="api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/router</span><div class="docs-reference-title"><div><h1>InMemoryScrollingOptions</h1><div class="docs-api-item-label" data-mode="full" data-type="interface">interface</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/router/src/router_config.ts#L132-L177" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><p class="docs-reference-description"></p><p data-ng_translator_product="100" data-ng_translator_ref_id="7oanqolrm3ktnsf3esc0f8tqe">滚动特性的配置选项，可与 
<code>withInMemoryScrolling</code> 函数一起使用。</p><p></p></header><div data-tab="API" data-tab-url="api"><div class="docs-reference-api-tab"><div class="docs-code"><pre class="docs-mini-scroll-track"><code><div class="hljs-ln-line "><span class="hljs-keyword">interface</span> <span class="hljs-title class_">InMemoryScrollingOptions</span> {</div><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="anchorScrolling">  anchorScrolling?: <span class="hljs-string">"disabled"</span> | <span class="hljs-string">"enabled"</span>;</button><button aria-describedby="jump-msg" type="button" class="hljs-ln-line " member-id="scrollPositionRestoration">  scrollPositionRestoration?: <span class="hljs-string">"disabled"</span> | <span class="hljs-string">"enabled"</span> | <span class="hljs-string">"top"</span>;</button><div class="hljs-ln-line ">}</div></code></pre></div></div></div><div class="docs-reference-members-container"><div class="docs-reference-members"><div id="anchorScrolling" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>anchorScrolling</h3><div><code>"disabled" | "enabled"</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3iycgdka329qvzy2n87wr9ned">设置为 “enabled” 时，如果 URL 有一个片段，就滚动到锚点元素。默认情况下，锚定滚动是禁用的。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="25klvzuefrk045w0d4syorrcl">锚点滚动不会在 “popstate” 上发生。相反，我们会恢复存储的位置或滚动到顶部。</p></div></div></div></div><div id="scrollPositionRestoration" class="docs-reference-member-card" tabindex="-1"><header><div class="docs-reference-header"><h3>scrollPositionRestoration</h3><div><code>"disabled" | "enabled" | "top"</code></div></div></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="43gk3wgynamjc67yoyatvrlmx">配置是否需要在导航回来的时候恢复滚动位置。</p>

    <ul class="docs-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b4rnssawhbhjdtvlmlkki5b8z">'disabled' - 什么也不做（默认）。在导航时，会自动维护滚动位置。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="d50llwu19ns9i4v88xmmnnsk">'top' - 在任何一次导航中都把滚动位置设置为 x=0, y=0。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="tuh6jjq2xbesqln7jf3bxzf0">'enabled' —— 当向后导航时，滚动到以前的滚动位置。当向前导航时，如果提供了锚点，则自动滚动到那个锚点，否则把滚动位置设置为 [0, 0]。该选项将来会变成默认值。</li>

    </ul>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9u8k17y030c7usclpwztx9xhe">你可以像下面的例子一样适配它启用时的行为，来自定义恢复滚动位置的策略：。</p>

      <div class="docs-code" role="group">
        <pre class="docs-mini-scroll-track">
          <code>
            <span class="hljs-ln-line"><span class="hljs-keyword">class</span> <span class="hljs-title class_">AppComponent</span> {</span><span class="hljs-ln-line">  <span class="hljs-attr">movieData</span>: <span class="hljs-built_in">any</span>;</span><span class="hljs-ln-line"></span><span class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> router: Router, <span class="hljs-keyword">private</span> viewportScroller: ViewportScroller,</span><span class="hljs-ln-line">changeDetectorRef: ChangeDetectorRef</span>) {</span><span class="hljs-ln-line">  router.<span class="hljs-property">events</span>.<span class="hljs-title function_">pipe</span>(<span class="hljs-title function_">filter</span>((<span class="hljs-attr">event</span>: <span class="hljs-title class_">Event</span>): event is <span class="hljs-title class_">Scroll</span> =&gt; event <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Scroll</span>)</span><span class="hljs-ln-line">    ).<span class="hljs-title function_">subscribe</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> {</span><span class="hljs-ln-line">      <span class="hljs-title function_">fetch</span>(<span class="hljs-string">'http://example.com/movies.json'</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {</span><span class="hljs-ln-line">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">movieData</span> = response.<span class="hljs-title function_">json</span>();</span><span class="hljs-ln-line">        <span class="hljs-comment">// update the template with the data before restoring scroll</span></span><span class="hljs-ln-line">        changeDetectorRef.<span class="hljs-title function_">detectChanges</span>();</span><span class="hljs-ln-line"></span><span class="hljs-ln-line">        <span class="hljs-keyword">if</span> (e.<span class="hljs-property">position</span>) {</span><span class="hljs-ln-line">          viewportScroller.<span class="hljs-title function_">scrollToPosition</span>(e.<span class="hljs-property">position</span>);</span><span class="hljs-ln-line">        }</span><span class="hljs-ln-line">      });</span><span class="hljs-ln-line">    });</span><span class="hljs-ln-line">  }</span><span class="hljs-ln-line">}</span>
          </code>
        </pre>
      </div></div></div></div></div></div></div></div>