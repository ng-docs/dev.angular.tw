<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">擴充套件診斷</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/reference/extended-diagnostics/overview.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p>從技術上講，許多編碼模式對於編譯器或執行時都是有效的，但它們可能具有複雜的細微差別或注意事項。
這些模式可能無法達到開發人員預期的效果，這通常會導致 Bug。
Angular 編譯器包含了『擴充套件診斷』，用於識別許多此類模式，以便警告開發人員潛在的問題，並在程式碼庫中強制執行通用的最佳實踐。</p>

  <h2 id="diagnostics">
    <a href="#diagnostics" class="docs-anchor" tabindex="-1" aria-label="Link to Diagnostics">診斷</a>
  </h2>
  <p>目前，Angular 支援以下擴充套件診斷：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">程式碼</th>
<th align="left">名稱</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>NG8101</code></td>
<td align="left"><a href="extended-diagnostics/NG8101"><code>invalidBananaInBox</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8102</code></td>
<td align="left"><a href="extended-diagnostics/NG8102"><code>nullishCoalescingNotNullable</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8103</code></td>
<td align="left"><a href="extended-diagnostics/NG8103"><code>missingControlFlowDirective</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8104</code></td>
<td align="left"><a href="extended-diagnostics/NG8104"><code>textAttributeNotBinding</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8105</code></td>
<td align="left"><a href="extended-diagnostics/NG8105"><code>missingNgForOfLet</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8106</code></td>
<td align="left"><a href="extended-diagnostics/NG8106"><code>suffixNotSupported</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8107</code></td>
<td align="left"><a href="extended-diagnostics/NG8107"><code>optionalChainNotNullable</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8108</code></td>
<td align="left"><a href="extended-diagnostics/NG8108"><code>skipHydrationNotStatic</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8109</code></td>
<td align="left"><a href="extended-diagnostics/NG8109"><code>interpolatedSignalNotInvoked</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8111</code></td>
<td align="left"><a href="extended-diagnostics/NG8111"><code>uninvokedFunctionInEventBinding</code></a></td>
</tr>
<tr>
<td align="left"><code>NG8113</code></td>
<td align="left"><a href="extended-diagnostics/NG8113"><code>unusedStandaloneImports</code></a></td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h2 id="configuration">
    <a href="#configuration" class="docs-anchor" tabindex="-1" aria-label="Link to Configuration">設定</a>
  </h2>
  <p>預設情況下，擴充套件診斷是警告，不會阻止編譯。
每個診斷都可以設定為以下類別之一：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">錯誤類別</th>
<th align="left">效果</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>warning</code></td>
<td align="left">預設 - 編譯器將診斷作為警告發出，但不會阻止編譯。即使發出警告，編譯器仍將以狀態程式碼 0 退出。</td>
</tr>
<tr>
<td align="left"><code>error</code></td>
<td align="left">編譯器將診斷作為錯誤發出，並使編譯失敗。如果發出一個或多個錯誤，編譯器將以非零狀態程式碼退出。</td>
</tr>
<tr>
<td align="left"><code>suppress</code></td>
<td align="left">編譯器<em>完全不</em>發出診斷。</td>
</tr>

      </tbody>
    </table>
  </div>
  <p>檢查嚴重程度可以設定為<a href="reference/configs/angular-compiler-options">Angular 編譯器選項</a>：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">{</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  "angularCompilerOptions"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    "extendedDiagnostics"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // The categories to use for specific diagnostics.</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">      "checks"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        // Maps check name to its category.</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        "invalidBananaInBox"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"suppress"</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      },</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // The category to use for any diagnostics not listed in `checks` above.</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">      "defaultCategory"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"error"</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
    </pre>
  </div><p><code>checks</code> 欄位將各個診斷的名稱對映到其關聯的類別。
請參閱<a href="#diagnostics">診斷</a>，獲取擴充套件診斷的完整清單以及用於設定它們的名字。</p>
<p><code>defaultCategory</code> 欄位用於任何未在 <code>checks</code> 下明確列出的診斷。
如果未設定，則此類診斷將視為 <code>warning</code>。</p>
<p>當啟用 <a href="tools/cli/template-typecheck#strict-mode"><code>strictTemplates</code></a> 時，將發出擴充套件診斷。
這是必需的，以便編譯器更好地理解 Angular 樣板型別，並提供準確且有意義的診斷。</p>

  <h2 id="semantic-versioning">
    <a href="#semantic-versioning" class="docs-anchor" tabindex="-1" aria-label="Link to Semantic Versioning">語義化版本控制</a>
  </h2>
  <p>Angular 團隊計劃在 Angular 的<strong>次要</strong>版本中新增或啟用新的擴充套件診斷（參見 <a href="https://docs.npmjs.com/about-semantic-versioning" target="_blank">semver</a>）。
這意味著升級 Angular 可能會在現有程式碼庫中顯示新的警告。
這使團隊能夠更快地交付屬性，並使開發人員更容易獲得擴充套件診斷。</p>
<p>但是，設定 <code>"defaultCategory": "error"</code> 會將此類警告提升為硬錯誤。
這可能會導致次要版本升級引入編譯錯誤，這可能被視為不符合 semver 規範的重大更改。
任何新的診斷都可以透過上面的<a href="#configuration">設定</a>來抑制或降級為警告，因此，對於預設將擴充套件診斷視為錯誤的專案，新診斷的影響應該是最小的。
預設設定為錯誤是一個非常強大的工具；只是在決定 <code>error</code> 是否是你的專案的正確預設設定時，請注意這個 semver 注意事項。</p>

  <h2 id="new-diagnostics">
    <a href="#new-diagnostics" class="docs-anchor" tabindex="-1" aria-label="Link to New Diagnostics">新的診斷</a>
  </h2>
  <p>Angular 團隊始終樂於接受關於可以新增的新診斷的建議。
擴充套件診斷通常應該：</p>

  <ul class="docs-list">
    <li>檢測 Angular 樣板中常見的、不明顯的開發人員錯誤</li>
<li>清楚地說明為什麼這種模式可能導致 Bug 或意外行為</li>
<li>提出一個或多個明確的解決方案</li>
<li>具有較低的誤報率，最好是零誤報率</li>
<li>適用於絕大多數 Angular 應用（不特定於非官方函式庫）</li>
<li>提高程式的正確性或效能（而不是樣式，這應由 linter 負責）</li>

  </ul>
  <p>如果你對符合這些標準的擴充套件診斷有想法，請考慮送出<a href="https://github.com/angular/angular/issues/new?template=2-feature-request.yaml" target="_blank">屬性請求</a>。</p>
