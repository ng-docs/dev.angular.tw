<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3xilqqmq59uyuxok90y18qh86">Angular 编译器选项</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/reference/configs/angular-compiler-options.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="36a91ylpbqgixpwgpfr14ya15">当你使用
<a href="tools/cli/aot-compiler">预先编译 (AOT)</a>时，可以通过在
<a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank">TypeScript 配置文件</a>中指定 Angular 编译器选项来控制应用的编译方式。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="51fmvd3cl0p7go8lbml8irjxh">Angular 选项对象 
<code>angularCompilerOptions</code> 是 
<code>compilerOptions</code> 对象的兄弟对象，后者为 TypeScript 编译器提供标准选项。</p>
<div class="docs-code" path="adev/src/content/examples/angular-compiler-options/tsconfig.json" visiblelines="1,2,3,4,24,25,26,27,30,31" header="tsconfig.json">
    <div class="docs-code-header"><h3>tsconfig.json</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">/* To learn more about this file see: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */</div><div class="hljs-ln-line">{</div><div class="hljs-ln-line">  <span class="hljs-string">"compileOnSave"</span>:<span class="hljs-built_in"> false</span>,</div><div class="hljs-ln-line">  <span class="hljs-string">"compilerOptions"</span>: {</div><div class="hljs-ln-line">    <span class="hljs-string">"baseUrl"</span>: <span class="hljs-string">"./"</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"outDir"</span>: <span class="hljs-string">"./dist/out-tsc"</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"forceConsistentCasingInFileNames"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"strict"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"noImplicitOverride"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"noPropertyAccessFromIndexSignature"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"noImplicitReturns"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"noFallthroughCasesInSwitch"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"sourceMap"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"declaration"</span>:<span class="hljs-built_in"> false</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"downlevelIteration"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"experimentalDecorators"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"moduleResolution"</span>: <span class="hljs-string">"node"</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"importHelpers"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"target"</span>: <span class="hljs-string">"es2020"</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"module"</span>: <span class="hljs-string">"es2020"</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"lib"</span>: [</div><div class="hljs-ln-line">      <span class="hljs-string">"es2020"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"dom"</span></div><div class="hljs-ln-line">    ]</div><div class="hljs-ln-line">  },</div><div class="hljs-ln-line">  <span class="hljs-string">"angularCompilerOptions"</span>: {</div><div class="hljs-ln-line">    <span class="hljs-string">"enableI18nLegacyMessageIdFormat"</span>:<span class="hljs-built_in"> false</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"strictInjectionParameters"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"strictInputAccessModifiers"</span>:<span class="hljs-built_in"> true</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"strictTemplates"</span>:<span class="hljs-built_in"> true</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
  <h2 id="configuration-inheritance-with-extends">
    <a href="#configuration-inheritance-with-extends" class="docs-anchor" tabindex="-1" aria-label="Link to Configuration inheritance with <code>extends</code>" data-ng_translator_product="100" data-ng_translator_ref_id="51vx8ucmqbonm2n0hcp27ms0g">使用 
<code>extends</code> 进行配置继承</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1ehkqx7p5g030v8vwso9qi16r">像 TypeScript 编译器一样，Angular 的 AOT 编译器也支持对 TypeScript 配置文件中的 <code>angularCompilerOptions</code> 进行 <code>extends</code>。<code>extends</code> 属性位于顶层，和 <code>compilerOptions</code> 和 <code>angularCompilerOptions</code> 平级。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1ongwx6r7mnx878tfpja7n1s">使用 <code>extends</code> 属性，TypeScript 配置可以从另一个文件中继承设置。首先从基础文件中加载配置项，然后被继承自它的配置文件中的配置项覆写。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4reizjf10jcs1ftw359bt1ndz">比如：</p>
<div class="docs-code" path="adev/src/content/examples/angular-compiler-options/tsconfig.app.json" visiblelines="1,2,3,4,6,29,30,31,34,35" header="tsconfig.app.json">
    <div class="docs-code-header"><h3>tsconfig.app.json</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-comment">/* To learn more about this file see: https://www.typescriptlang.org/docs/handbook/tsconfig-json.html. */</span></div><div class="hljs-ln-line">{</div><div class="hljs-ln-line">    <span class="hljs-string">"extends"</span>: <span class="hljs-string">"./tsconfig.json"</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">"compilerOptions"</span>: {</div><div class="hljs-ln-line">      <span class="hljs-string">"outDir"</span>: <span class="hljs-string">"./out-tsc/app"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"types"</span>: []</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    <span class="hljs-string">"files"</span>: [</div><div class="hljs-ln-line">      <span class="hljs-string">"src/main.ts"</span></div><div class="hljs-ln-line">    ],</div><div class="hljs-ln-line">    <span class="hljs-string">"include"</span>: [</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.d.ts"</span></div><div class="hljs-ln-line">    ],</div><div class="hljs-ln-line">    <span class="hljs-string">"exclude"</span>: [</div><div class="hljs-ln-line">      <span class="hljs-string">"src/test.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.spec.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*-specs.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.avoid.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.0.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.1.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.1b.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.2.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.3.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.4.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.5.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.6.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/*.7.ts"</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"src/**/testing"</span></div><div class="hljs-ln-line">    ],</div><div class="hljs-ln-line">    <span class="hljs-string">"angularCompilerOptions"</span>: {</div><div class="hljs-ln-line">      <span class="hljs-string">"strictTemplates"</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"preserveWhitespaces"</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"sourceMap"</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-string">"declaration"</span>: <span class="hljs-literal">false</span></div><div class="hljs-ln-line">    }</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="a1alv9hgyggljxu926c9ggc5q">欲了解更多信息，请参阅 
<a href="https://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank">TypeScript 手册</a>。</p>

  <h2 id="template-options">
    <a href="#template-options" class="docs-anchor" tabindex="-1" aria-label="Link to Template options" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7abskwlirg0chi56a9npy553n">模板选项</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="2okogotee55esno1ru8fn0wsg">以下选项可用于配置 Angular AOT 编译器。</p>

  <h3 id="annotationsas">
    <a href="#annotationsas" class="docs-anchor" tabindex="-1" aria-label="Link to <code>annotationsAs</code>"><code>annotationsAs</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="23j6ytlb2bwcetevj7eih6tn1">修改 Angular 特定注解的发出方式，以改进摇树优化。 非 Angular 注解不受影响。 可选值为 
<code>static fields</code> 或 
<code>decorators</code>。默认值为 
<code>static fields</code>。</p>

  <ul class="docs-list">
    <li><p data-ng_translator_product="100" data-ng_translator_ref_id="9y1ze4ux9afcl94s2jayz4zy3">默认情况下，编译器将装饰器替换为类中的一个静态字段，这允许像 
<a href="https://github.com/google/closure-compiler" target="_blank">Closure compiler</a> 这样的高级摇树优化工具移除未使用的类</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="aa205ccvh84bfi84uchztlck2">值为 
<code>decorators</code> 时，保留装饰器，使编译速度更快。 TypeScript 会发出对 
<code>__decorate</code> 辅助函数的调用。 使用 
<code>--emitDecoratorMetadata</code> 进行运行时反射。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="aeuy1d34hxz72gk7hmabau21r">有用信息：生成的代码无法正确进行摇树优化。</p>
</li>

  </ul>
  
  <h3 id="annotateforclosurecompiler">
    <a href="#annotateforclosurecompiler" class="docs-anchor" tabindex="-1" aria-label="Link to <code>annotateForClosureCompiler</code>"><code>annotateForClosureCompiler</code></a>
  </h3>
  <!-- vale Angular.Angular_Spelling = NO -->

<p data-ng_translator_product="100" data-ng_translator_ref_id="c7b09bv072gfcei3ta9opu8wr">当 
<code>true</code> 时，使用 
<a href="https://github.com/angular/tsickle" target="_blank">Tsickle</a> 注解发出的 JavaScript，带有 
<a href="https://jsdoc.app" target="_blank">JSDoc</a> 注释，这些注释是 
<a href="https://github.com/google/closure-compiler" target="_blank">Closure Compiler</a> 所需的。 默认值为 
<code>false</code>。</p>
<!-- vale Angular.Angular_Spelling = YES -->


  <h3 id="compilationmode">
    <a href="#compilationmode" class="docs-anchor" tabindex="-1" aria-label="Link to <code>compilationMode</code>"><code>compilationMode</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="49iqj4dhf4x9jnl3xpz8gv2dv">指定要使用的编译模式。可以使用以下模式：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="3fe6whjbmdtslgtp1har69ebd">模式</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>'full'</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="9qxm7jhh4f70k6d9gbipt3vo">根据当前使用的 Angular 版本生成完全 AOT 编译的代码。</td>
</tr>
<tr>
<td align="left"><code>'partial'</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="2o9i98fua0ao22wd6j2tx6lr6">生成稳定但中间形式的代码，适用于发布的库。</td>
</tr>

      </tbody>
    </table>
  </div>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="egxzpvhjmh7tbgnzs9e3np4hs">默认值为 <code>'full'</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="lgrq6ps48do3o1c476psnm7">对于大多数应用，
<code>'full'</code> 是正确的编译模式。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8hm8yp9lg0osbc0tbx9elpx9e">对于独立发布的库（如 NPM 包），使用 
<code>'partial'</code>。 
<code>'partial'</code> 编译输出稳定的中间格式，更好地支持由不同 Angular 版本构建的应用使用该库。 与应用一同在 "HEAD" 构建并使用相同 Angular 版本的库（如在单一代码仓中），可以使用 
<code>'full'</code>，因为不存在版本不匹配的风险。</p>

  <h3 id="disableexpressionlowering">
    <a href="#disableexpressionlowering" class="docs-anchor" tabindex="-1" aria-label="Link to <code>disableExpressionLowering</code>"><code>disableExpressionLowering</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="2twq3fei95a4npedo0dlx4d6k">当值为 
<code>true</code> 时（默认情况），转换代码（用于或可能用于注解的代码），允许它从模板工厂模块中导入。 参见 
<a href="tools/cli/aot-compiler#metadata-rewriting">元数据重写</a> 获取更多信息。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="26d6enm82ew6z3oc06q96gr1p">如果为 <code>false</code>，则禁用此重写，你必须手动进行重写。</p>

  <h3 id="disabletypescriptversioncheck">
    <a href="#disabletypescriptversioncheck" class="docs-anchor" tabindex="-1" aria-label="Link to <code>disableTypeScriptVersionCheck</code>"><code>disableTypeScriptVersionCheck</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4wzfg516maa7ykv5l7kqjymq5">如果为 <code>true</code>，则在使用不受支持的 TypeScript 版本时，编译器不会检查 TypeScript 版本，并且不会报错。不建议使用，因为不受支持的 TypeScript 版本可能具有未定义的行为。默认值为 <code>false</code>。</p>

  <h3 id="enablei18nlegacymessageidformat">
    <a href="#enablei18nlegacymessageidformat" class="docs-anchor" tabindex="-1" aria-label="Link to <code>enableI18nLegacyMessageIdFormat</code>"><code>enableI18nLegacyMessageIdFormat</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="cs6kpyy0lnter4vhhlwg8lcg2">指示 Angular 模板编译器为模板中带有 
<code>i18n</code> 属性的消息创建旧版 ID。 参见 
<a href="guide/i18n/prepare#mark-text-in-component-template" title="Mark" text in component template - prepare for translation | angular>标记文本以进行翻译</a> 获取有关标记消息以进行本地化的更多信息。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5kib4n45pfzp2x4a6t7i0uhjr">除非你的项目依赖先前已用旧版 ID 创建的翻译，否则请将此选项设置为 <code>false</code>。默认值为 <code>true</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bgnoe5t732iquxyhlylic6a4k">Ivy 之前版本的消息提取工具为所提取的消息 id 创建了多种旧格式。这些消息格式存在一些问题，比如对空白字符的处理和对模板原始 HTML 内部信息的依赖。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="a2fp48fzwxxs6t4n7v90qq58">新的消息格式对空白变化更具弹性，在所有翻译文件格式中均相同，并且可以直接从对 
<code>$localize</code> 的调用中创建。 这允许应用代码中的 
<code>$localize</code> 消息使用与组件模板中相同的 
<code>i18n</code> 消息相同的 ID。</p>

  <h3 id="enableresourceinlining">
    <a href="#enableresourceinlining" class="docs-anchor" tabindex="-1" aria-label="Link to <code>enableResourceInlining</code>"><code>enableResourceInlining</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="5wt53w1zsxca88eelbw7o686i">当 
<code>true</code> 时，将所有 
<code>@Component</code> 装饰器中的 
<code>templateUrl</code> 和 
<code>styleUrls</code> 属性替换为 
<code>template</code> 和 
<code>styles</code> 属性中的内联内容。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="95f55cce5f188s8of98n5suz6">启用后，<code>ngc</code> 的 <code>.js</code> 输出不会包含任何惰性加载的模板或样式 URL。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="czf1h33697lajlfqtybp5i136">对于使用 Angular CLI 创建的库项目，dev 配置下默认为 <code>true</code>。</p>

  <h3 id="enablelegacytemplate">
    <a href="#enablelegacytemplate" class="docs-anchor" tabindex="-1" aria-label="Link to <code>enableLegacyTemplate</code>"><code>enableLegacyTemplate</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="12ugbswlll2mtb4dz7q75zpn">当 
<code>true</code> 时，启用已弃用的 
<code>&lt;template&gt;</code> 元素来替代 
<code>&lt;ng-template&gt;</code>。 默认值为 
<code>false</code>。 某些第三方 Angular 库可能需要此选项。</p>

  <h3 id="flatmoduleid">
    <a href="#flatmoduleid" class="docs-anchor" tabindex="-1" aria-label="Link to <code>flatModuleId</code>"><code>flatModuleId</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7qed3c1ck47lsaq8ohngpe6id">用于导入扁平模块的模块 ID（当 <code>flatModuleOutFile</code> 为 <code>true</code> 时）。从扁平模块中导入符号时，模板编译器创建的引用将使用该模块的名称。如果 <code>flatModuleOutFile</code> 为 <code>false</code> 则忽略。</p>

  <h3 id="flatmoduleoutfile">
    <a href="#flatmoduleoutfile" class="docs-anchor" tabindex="-1" aria-label="Link to <code>flatModuleOutFile</code>"><code>flatModuleOutFile</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ersz3skwx1r9m1htlljrh21hd">为 <code>true</code> 时，将生成指定文件名和相应扁平模块元数据的扁平模块索引。用于创建像 <code>@angular/core</code> 和 <code>@angular/common</code> 这样打包的扁平模块。使用此选项时，库的 <code>package.json</code> 应引用所创建的扁平模块索引而不是库的索引文件。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="2622895gt0zusjibkpk8f68hh">仅生成一个 
<code>.metadata.json</code> 文件，其中包含从库索引导出的符号所需的所有元数据。 在生成的 
<code>.ngfactory.js</code> 文件中，使用平面模块索引导入符号。这些符号包括来自库索引的公共 API 和受保护的内部符号。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="13dn9c31na9o0h9qahe9u34b6">默认情况下，在 
<code>files</code> 字段中提供的 
<code>.ts</code> 文件被假定为库索引。 如果指定了多个 
<code>.ts</code> 文件，则使用 
<code>libraryIndex</code> 选择要使用的文件。 如果提供了多个 
<code>.ts</code> 文件而没有 
<code>libraryIndex</code>，则会产生错误。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7pqx3t9vd7nk0xsi4zxg1n1f0">使用指定的 <code>flatModuleOutFile</code> 名在与库索引 <code>.d.ts</code> 文件相同的位置创建扁平模块索引 <code>.d.ts</code> 和 <code>.js</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7ajicwuxuu8i08erbbdecufqv">比如，如果一个库使用 <code>public_api.ts</code> 文件作为模块的库索引，则 <code>tsconfig.json</code> 的 <code>files</code> 字段就是 <code>["public_api.ts"]</code>。然后，比如把 <code>flatModuleOutFile</code> 选项设置为 <code>"index.js"</code>，这将生成 <code>index.d.ts</code> 和 <code>index.metadata.json</code> 文件。该库的 <code>package.json</code> 的 <code>module</code> 字段中就会是 <code>"index.js"</code>，而 <code>typings</code> 字段将是 <code>"index.d.ts"</code>。</p>

  <h3 id="fulltemplatetypecheck">
    <a href="#fulltemplatetypecheck" class="docs-anchor" tabindex="-1" aria-label="Link to <code>fullTemplateTypeCheck</code>"><code>fullTemplateTypeCheck</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="3a19sa4jtlb1csvz23926y3iz">当 
<code>true</code> 时（推荐值），启用模板编译器的 
<a href="tools/cli/aot-compiler#binding-expression-validation">绑定表达式验证</a> 阶段。此阶段使用 TypeScript 验证绑定表达式。 欲了解更多信息，请参阅 
<a href="tools/cli/template-typecheck">模板类型检查</a>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="28h1kq7ecyepeza3ez5y8goyo">默认值为 <code>false</code>，但是当你使用 Angular CLI 命令 <code>ng new --strict</code> 时，默认生成的项目配置中会将其设置为 <code>true</code>。</p>

    <div class="docs-alert docs-alert-important">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="3qhmmoebgwgtmz6v54fvw685f"><strong>重要：</strong> 在 Angular 13 中，
<code>fullTemplateTypeCheck</code> 选项已被弃用，推荐使用 
<code>strictTemplates</code> 编译器选项系列。</p>

    </div>
    
  <h3 id="generatecodeforlibraries">
    <a href="#generatecodeforlibraries" class="docs-anchor" tabindex="-1" aria-label="Link to <code>generateCodeForLibraries</code>"><code>generateCodeForLibraries</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bv1bix628u7uqoyighoc5e5zr">如果为 <code>true</code>，就会为 <code>.d.ts</code> 和相应的 <code>.metadata.json</code> 创建工厂文件（<code>.ngfactory.js</code> 和 <code>.ngstyle.js</code>）。默认值为 <code>true</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="djwdteuobyjffg7naytlqmc7i">如果为 <code>false</code>，则仅为 <code>.ts</code> 文件生成工厂文件。当要使用工厂摘要（summary）时，请这么设置。</p>

  <h3 id="preservewhitespaces">
    <a href="#preservewhitespaces" class="docs-anchor" tabindex="-1" aria-label="Link to <code>preserveWhitespaces</code>"><code>preserveWhitespaces</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9vib5feu4u0luyzdtwvhtlm7d">如果为 <code>false</code>（默认值），则从编译的模板中删除空白文本节点，这将生成较小的模板工厂模块。设置为 <code>true</code> 以保留空白文本节点。</p>

    <div class="docs-alert docs-alert-helpful">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="cfsq4fo3iq9xmf2y76tq2pfb1"><strong>有用：</strong> 在使用水合时，建议使用 
<code>preserveWhitespaces: false</code>（默认值）。如果选择通过在 tsconfig 中添加 
<code>preserveWhitespaces: true</code> 来启用保留空白符，可能会遇到水合问题。这尚未完全支持的配置。确保在服务器和客户端的 tsconfig 文件之间也一致设置。详情请参阅 
<a href="guide/hydration#preserve-whitespaces">水合指南</a>。</p>

    </div>
    
  <h3 id="skipmetadataemit">
    <a href="#skipmetadataemit" class="docs-anchor" tabindex="-1" aria-label="Link to <code>skipMetadataEmit</code>"><code>skipMetadataEmit</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8inkfbm5cujhciwz9hpvzmrzp">为 <code>true</code> 时，不生成 <code>.metadata.json</code> 文件。默认值为 <code>false</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ah6g5337fbpbcf1ilicy8bxb3"><code>.metadata.json</code> 文件包含模板编译器从 <code>.ts</code> 文件中获得的信息，该信息未包含在 TypeScript 编译器生成的 <code>.d.ts</code> 文件中。该信息包括注解的内容（比如组件的模板）等，TypeScript 会将该注解的内容发送到 <code>.js</code> 文件中，但不会发送到 <code>.d.ts</code> 文件。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c2mjs97frgqnyrtrn61qkcsgq">你可以在使用工厂摘要（summary）中将其设置为 <code>true</code>，因为工厂摘要中包括 <code>.metadata.json</code> 文件中信息的副本。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8nr4x111ezopgdaxqhvb8etvk">如果你使用 TypeScript 的 
<code>--outFile</code> 选项，则设置为 
<code>true</code>，因为元数据文件对这种 TypeScript 输出样式无效。 Angular 社区不推荐在 Angular 中使用 
<code>--outFile</code>。 请改用 
<a href="https://webpack.js.org" target="_blank">webpack</a> 之类的打包工具。</p>

  <h3 id="skiptemplatecodegen">
    <a href="#skiptemplatecodegen" class="docs-anchor" tabindex="-1" aria-label="Link to <code>skipTemplateCodegen</code>"><code>skipTemplateCodegen</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8n1gd8adlfg75vdqui13vtru7">为 <code>true</code> 时，不生成 <code>.ngfactory.js</code> 和 <code>.ngstyle.js</code> 文件。这将关闭大多数模板编译器，并禁用模板诊断报告。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="42fwxs6fydzg4mlkhgrbhn20j">可用于指示模板编译器生成 <code>.metadata.json</code> 文件，以使用 <code>npm</code> 软件包进行分发，同时避免产生无法分发至 <code>npm</code> 的 <code>.ngfactory.js</code> 和 <code>.ngstyle.js</code> 文件。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="czf1h33697lajlfqtybp5i136">对于使用 Angular CLI 创建的库项目，dev 配置下默认为 <code>true</code>。</p>

  <h3 id="strictmetadataemit">
    <a href="#strictmetadataemit" class="docs-anchor" tabindex="-1" aria-label="Link to <code>strictMetadataEmit</code>"><code>strictMetadataEmit</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5gd2xrtt1lricoldd90x06zfq">为 <code>true</code> 时，如果 <code>"skipMetadataEmit"</code> 为 <code>false</code> 则向 <code>.metadata.json</code> 文件中报告错误。默认值为 <code>false</code>。只在 <code>"skipMetadataEmit"</code> 为 <code>false</code> 且 <code>"skipTemplateCodegen"</code> 为 <code>true</code> 时使用。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="d7rfotgwzuygndsvyuqygyi8p">该选项是为了验证为生成 <code>npm</code> 包而产生的 <code>.metadata.json</code> 文件。这种验证是严格的，并且会报告元数据中的错误，以免当模板编译器使用它时再出错。你可以通过在某个导出符号的注释文档中使用 <code>@dynamic</code> 注解来暂时防止（suppress）该选项报告错误。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a6pg1tuubtq7joy6w73zxv77r"><code>.metadata.json</code> 文件即使包含错误也是有效的。如果这些元数据用来确定注解的内容，则模板编译器会报告这些错误。元数据收集器无法预测哪些符号是为了在注解中使用而设计的。它会先在元数据中为导出的符号中包含错误节点。然后，如果使用了这些符号，则模板编译器可以使用这些错误节点来报告错误。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="862a4n6fr3lbrhf0pdg6oaj22">如果库的客户代码打算在注解中使用某个符号，则模板编译器通常不会直接报错。而是在客户方实际用到该符号之后才报错。此选项允许你在库的构建阶段就检测到这些错误，比如用于生成 Angular 库本身时。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="czf1h33697lajlfqtybp5i136">对于使用 Angular CLI 创建的库项目，dev 配置下默认为 <code>true</code>。</p>

  <h3 id="strictinjectionparameters">
    <a href="#strictinjectionparameters" class="docs-anchor" tabindex="-1" aria-label="Link to <code>strictInjectionParameters</code>"><code>strictInjectionParameters</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="avwgslgxxa1f4l97nihc92y2v">当 
<code>true</code> 时，如果无法确定提供参数的注入类型，会报告一个错误。 当 
<code>false</code> 时，如果某个带 
<code>@Injectable</code> 装饰器的类的构造函数参数类型无法求解，将产生一个警告。 推荐值是 
<code>true</code>，但默认值是 
<code>false</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1yvoqhwtq1a366iuidtbia1fr">当你使用 CLI 命令 <code>ng new --strict</code> 时，默认生成的项目配置中将其设置为 <code>true</code>。</p>

  <h3 id="stricttemplates">
    <a href="#stricttemplates" class="docs-anchor" tabindex="-1" aria-label="Link to <code>strictTemplates</code>"><code>strictTemplates</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="cogj4wuq6c58fka2k01p57oz6">当 
<code>true</code> 时，启用 
<a href="tools/cli/template-typecheck#strict-mode">严格的模板类型检查</a>。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="93etnss1hbn82qubm3fb4kni6">此选项启用的严格模式标志允许你打开和关闭特定类型的严格模板类型检查。 参见 
<a href="tools/cli/template-typecheck#troubleshooting-template-errors">模板错误排查</a>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="20797c7g5iwti6rv41zaklphn">当你使用 Angular CLI 命令 <code>ng new --strict</code> 时，默认生成的项目配置中将其设置为 <code>true</code>。</p>

  <h3 id="trace">
    <a href="#trace" class="docs-anchor" tabindex="-1" aria-label="Link to <code>trace</code>"><code>trace</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3z0132zvc6ui9gh1dbgtlp5c0">如果为 <code>true</code>，则在编译模板时输出额外的信息。默认值为 <code>false</code>。</p>

  <h2 id="command-line-options">
    <a href="#command-line-options" class="docs-anchor" tabindex="-1" aria-label="Link to Command line options" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9s6g9kq7zpudgyk54a675maz3">命令行选项</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="3qcm6mye056o0gejisr2mwcsw">大多数情况下，你会通过 
<a href="reference/configs/angular-compiler-options">Angular CLI</a> 间接地与 Angular 编译器交互。 在调试某些问题时，你可能会发现直接调用 Angular 编译器很有用。 你可以使用 
<code>@angular/compiler-cli</code> npm 包提供的 
<code>ngc</code> 命令从命令行调用编译器。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="exg9nzr7uk2fadui17cbusdzh"><code>ngc</code> 命令是对 TypeScript 的 
<code>tsc</code> 编译器命令的封装。 Angular 编译器主要通过 
<code>tsconfig.json</code> 进行配置，而 Angular CLI 主要通过 
<code>angular.json</code> 进行配置。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4ad8jfc25r4stz2ug9k9jyda7">除了配置文件外，你还可以使用 
<a href="https://www.typescriptlang.org/docs/handbook/compiler-options.html" target="_blank"><code>tsc</code> 命令行选项</a>来配置 
<code>ngc</code>。</p>
