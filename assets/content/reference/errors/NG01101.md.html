<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="bo7h02a5wq0e8y1fhtxefr857">错误的异步验证器返回类型</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/reference/errors/NG01101.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1ufm9ma98fpq4d3ldogx792pe">异步验证器必须返回 promise 或 observable，并且无论验证失败还是成功都会发出/解析它们。特别是，它们必须实现<a href="api/forms/AsyncValidator">AsyncValidatorFn API</a></p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">isTenAsync</span>(<span class="hljs-params">control: AbstractControl</span>): </div><div class="hljs-ln-line">  <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-title class_">ValidationErrors</span> | <span class="hljs-literal">null</span>&gt; {</div><div class="hljs-ln-line">    <span class="hljs-keyword">const</span> <span class="hljs-attr">v</span>: <span class="hljs-built_in">number</span> = control.<span class="hljs-property">value</span>;</div><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (v !== <span class="hljs-number">10</span>) {</div><div class="hljs-ln-line">    <span class="hljs-comment">// Emit an object with a validation error.</span></div><div class="hljs-ln-line">      <span class="hljs-keyword">return</span> <span class="hljs-title function_">of</span>({ <span class="hljs-string">'notTen'</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">'requiredValue'</span>: <span class="hljs-number">10</span> });</div><div class="hljs-ln-line">    }</div><div class="hljs-ln-line">    <span class="hljs-comment">// Emit null, to indicate no error occurred.</span></div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-title function_">of</span>(<span class="hljs-literal">null</span>);</div><div class="hljs-ln-line">  }</div></code>
    </pre>
  </div>
  <h2 id="debugging-the-error">
    <a href="#debugging-the-error" class="docs-anchor" tabindex="-1" aria-label="Link to Debugging the error" data-ng_translator_product="100" data-ng_translator_ref_id="6rp3v2icazrcg6696buxdgjjo">调试此错误</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bk6a0klruvxnyepjjwicbuc8n">你是否错误地使用了同步验证器而不是异步验证器？</p>
