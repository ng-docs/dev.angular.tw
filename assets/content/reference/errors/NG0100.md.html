<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="dcl1jslx6f0kdeij38jsi0v6g">表达式变更后已检查</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/reference/errors/NG0100.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    
    <div class="docs-video-container">
      <iframe class="docs-video" src="https://www.youtube.com/embed/O47uUnJjbJc" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen credentialless title="Video player"></iframe>
    </div>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cfpwpjri2pustxtc090vx0nlo">当变更检测完成后又更改了表达式值时，Angular 就会抛出 <code>ExpressionChangedAfterItHasBeenCheckedError</code> 错误。Angular 只会在开发模式下抛出此错误。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="d6p64tf13ncc8ooq5rtbvt2vj">在开发模式下，Angular 在每次变更检测运行后都会执行一次附加检查，以确保绑定没有更改。这会在视图处于不一致状态时捕获错误。比如，如果某个方法或 getter 每次被调用时都会返回一个不同的值，或者某个子组件更改了其父组件上的值，就可能会发生这种情况。如果发生这两种情况，则表明变更检测是不稳定的。Angular 会抛出错误以确保数据始终正确地反映在视图中，从而防止 UI 行为不稳定或可能的无限循环。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5pcuz3mxf9rp4mb445bbf5po2">当你添加了模板表达式或开始实现生命周期钩子（比如 <code>ngAfterViewInit</code> 或 <code>ngOnChanges</code>）时，容易发生此错误。在处理加载状态和异步操作，或者子组件更改其父组件中的绑定时，这也很常见。</p>

  <h2 id="debugging-the-error">
    <a href="#debugging-the-error" class="docs-anchor" tabindex="-1" aria-label="Link to Debugging the error" data-ng_translator_product="100" data-ng_translator_ref_id="6rp3v2icazrcg6696buxdgjjo">调试此错误</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="4m52gh2ehjnu0j51rhksc3pih">CLI 生成的
<a href="https://developer.mozilla.org/docs/Tools/Debugger/How_to/Use_a_source_map" target="_blank">源码映射</a>在调试时非常有用。向上导航调用栈，直到找到一个模板表达式，此处显示的错误值已发生变化。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="53m6uo7ymm6m8w6k7sirih1xp">确保在变更检测运行后，模板中的绑定没有发生变化。这通常意味着需要重构以使用正确的组件生命周期钩子。若问题出现在 
<code>ngAfterViewInit</code> 中，推荐的解决方案是使用构造函数或 
<code>ngOnInit</code> 设置初始值，或在其他值绑定中使用 
<code>ngAfterContentInit</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ao4v4ol2u9g8x09rbnrrb0x9u">如果要绑定到视图中的方法，请确保调用不会更新模板中的任何其他绑定。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="7gavr7r6dgyal38uvleecr5wp">在
<a href="https://indepth.dev/posts/1001/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error" target="_blank">『关于 "ExpressionChangedAfterItHasBeenCheckedError" 错误的所有信息』</a>中了解更多关于适合你的解决方案，以及在
<a href="https://blog.angular-university.io/angular-debugging" target="_blank">『Angular 调试 "表达式在检查后发生变化"：简单解释（及修复）』</a>中了解其有用之处。</p>
