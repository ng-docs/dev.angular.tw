<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="9ianeuwyz0wwee1ziy1cw3yb4">应用外壳模式</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/ecosystem/service-workers/app-shell.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="8hevpyz716fgqwzfpy1589dk8"><a href="https://developers.google.com/web/fundamentals/architecture/app-shell" target="_blank">应用外壳模式</a> 是一种使用构建时的路由来渲染部分应用的方法。它可以通过快速启动一个静态渲染的页面（所有页面通用的骨架）来改善用户体验，同时浏览器下载完整的客户端版本，并在代码加载后自动切换到它。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="35ckaqsjs2rfbvu9xelfetvsp">这能让用户快速看到应用中第一个有意义的画面，因为浏览器可以渲染出 HTML 和 CSS，而无需初始化任何 JavaScript。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="en35pjyd52kskinq937midfu8">在
<a href="https://developers.google.com/web/fundamentals/architecture/app-shell" target="_blank">应用外壳模型</a>中了解更多。</p>

    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="prepare-the-application">
    <a href="#prepare-the-application" class="docs-anchor" tabindex="-1" aria-label="Link to Prepare the application" data-ng_translator_product="100" data-ng_translator_ref_id="6vyymsfanteqrjdvw54dpv41f">准备应用程序</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="auer5a4kulbph4gwg41sda9rg">可以用下列 Angular CLI 命令来执行本操作：</p>
<div class="docs-code shell">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">ng new my-app --routing</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="9l7qdawfsvsz3ar2r3b9xmtm6">对于现有应用程序，你必须手动添加
<code>Router</code>并在应用程序中定义一个
<code>&lt;router-outlet&gt;</code>。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="create-the-application-shell">
    <a href="#create-the-application-shell" class="docs-anchor" tabindex="-1" aria-label="Link to Create the application shell" data-ng_translator_product="100" data-ng_translator_ref_id="87rtupqyfw53h9f8txpacweg0">创建应用外壳</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4jzoqtgb7d0mzv0eznnpyif8">使用 Angular CLI 自动创建一个应用外壳。</p>
<div class="docs-code shell">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">ng generate app-shell</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cdtz33jwkzkn5sgc616f0cn6q">要了解关于本命令的更多信息，参见 <a href="cli/generate#app-shell-command">app-shell 命令</a>。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="665k6fejo7ye637d21ba7nicq">该命令会更新应用程序代码并向项目结构中添加额外文件。</p>
<code-example language="text">

<p>  src
  ├── app
  │   ├── app.config.server.ts               # server application configuration
  │   └── app-shell                          # app-shell component
  │       ├── app-shell.component.html
  │       ├── app-shell.component.scss
  │       ├── app-shell.component.spec.ts
  │       └── app-shell.component.ts
  └── main.server.ts                         # main server application bootstrapping</p>
</code-example>


<docs-step title="Verify the application is built with the shell content">

<div class="docs-code shell">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">ng run my-app:app-shell:development</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1lplo14hdcir2spwrvss9orze">或使用产品环境配置。</p>
<div class="docs-code shell">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">ng run my-app:app-shell:production</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a777f86wqmcv6oe3wvm3r8njm">要验证构建输出，请打开 <code class="no-auto-link">dist/my-app/browser/index.html</code>。寻找默认的文本 <code>app-shell works!</code> 就可以验证这个应用外壳路由确实是作为输出的一部分渲染出来的。</p>

    </docs-step></li>
    
    </ol>
    