<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3uq0yztu63f0ohd2ohrtt0ww5">跳过组件子树</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/best-practices/runtime-performance/skipping-subtrees.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5ywjb2jn13s2ec0iq4ujpyzq6">默认情况下，JavaScript 会使用你可以从多个不同组件引用的可变数据结构。Angular 会在你的整个组件树上运行变更检测，以确保数据结构的最新状态反映在 DOM 中。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3nax4imr6f1zqgqdlcz6p19ub">对于大多数应用程序，变更检测都足够快。但是，当应用程序有特别大的组件树时，在整个应用程序中运行变更检测可能会导致性能问题。你可以通过将变更检测配置为仅在组件树的子集上运行来解决这个问题。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7r384y64hmhvc84v96htksh0y">如果你确信应用程序的一部分不受状态更改的影响，可以用 <a href="/api/core/ChangeDetectionStrategy">OnPush</a> 跳过整个组件子树中的变更检测。</p>

  <h2 id="using-onpush">
    <a href="#using-onpush" class="docs-anchor" tabindex="-1" aria-label="Link to Using <code>OnPush</code>" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6nr1bi2gmyg9zbhiw81qed56p">使用 <code>OnPush</code></a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="akjoaw6v5osmcxkt8fk68pxrt">OnPush 变更检测指示 Angular <strong>仅在</strong>以下情况下运行组件子树的变更检测：</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_ref_id="5z5dj9lk8mzbeooet2a950g29">子树的根组件由于模板绑定而接收到新的输入。Angular 用 
<code>==</code> 比较当前和过去的输入值。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="b4rqaz96f0rgfhugh9tmk72ri">Angular 在子树的根组件或其任何子组件中处理事件 
<em>（例如使用事件绑定、输出绑定或 <code>@HostListener</code> ）</em> ，无论它们是否使用 OnPush 变更检测。</li>

  </ul>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="dnyro52hpng4cizit86kfx0ms">你可以在 
<code>@Component</code> 装饰器中将组件的变更检测策略设置为 
<code>OnPush</code> ：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> { <span class="hljs-title class_">ChangeDetectionStrategy</span>, <span class="hljs-title class_">Component</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">changeDetection</span>: <span class="hljs-title class_">ChangeDetectionStrategy</span>.<span class="hljs-property">OnPush</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComponent</span> {}</div></code>
    </pre>
  </div>
  <h2 id="common-change-detection-scenarios">
    <a href="#common-change-detection-scenarios" class="docs-anchor" tabindex="-1" aria-label="Link to Common change detection scenarios" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4oe782s6ivueauikxxx9sbnxy">常见的变更检测场景</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6r9j0yakde4pf08qv7wunhow5">本节展示了几种常见的变更检测场景，以说明 Angular 的行为。</p>

  <h3 id="an-event-is-handled-by-a-component-with-default-change-detection">
    <a href="#an-event-is-handled-by-a-component-with-default-change-detection" class="docs-anchor" tabindex="-1" aria-label="Link to An event is handled by a component with default change detection" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7ghj93tk8uxkwppcisana9582">事件由具有默认变更检测的组件处理</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1w89ycdmcc1n5gq2onwgp8g84">如果 Angular 在没有 <code>OnPush</code> 策略的情况下处理组件中的事件，则框架会在整个组件树上执行变更检测。Angular 将跳过具有 <code>OnPush</code> 策略的组件的后代组件子树，如果该组件没有收到新输入的话。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ehfar5vvuhbu4m1s9sp1ktvk5">比如，如果我们将 <code>MainComponent</code> 的变更检测策略设置为 <code>OnPush</code>，并且用户与具有根 <code>MainComponent</code> 的子树外的组件交互，Angular 将检查下图中的所有绿色组件（<code>AppComponent</code> 、 <code>HeaderComponent</code> 、 <code>SearchComponent</code> 、 <code>ButtonComponent</code>），除非 <code>MainComponent</code> 接收到了新的输入：</p>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-8 -8 814.8125 215" style="max-width: 814.8125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-header" id="L-app-header-0" d="M373.949,28.007L401.357,33.006C428.766,38.005,483.582,48.002,510.99,57.168C538.398,66.333,538.398,74.667,538.398,78.833L538.398,83"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-main" id="L-app-main-0" d="M261.776,33L249.383,37.167C236.989,41.333,212.201,49.667,199.808,58C187.414,66.333,187.414,74.667,187.414,78.833L187.414,83"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-header LE-search" id="L-header-search-0" d="M577.403,116L587.252,120.167C597.102,124.333,616.801,132.667,635.496,141C654.191,149.333,671.882,157.667,680.728,161.833L689.573,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-header LE-button" id="L-header-button-0" d="M534.423,116L533.419,120.167C532.415,124.333,530.406,132.667,529.402,141C528.398,149.333,528.398,157.667,528.398,161.833L528.398,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-main LE-login" id="L-main-login-0" d="M232.78,116L244.236,120.167C255.692,124.333,278.604,132.667,290.06,141C301.516,149.333,301.516,157.667,301.516,161.833L301.516,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-main LE-details" id="L-main-details-0" d="M142.048,116L130.592,120.167C119.136,124.333,96.224,132.667,84.768,141C73.313,149.333,73.313,157.667,73.313,161.833L73.313,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-event LE-search" id="L-event-search-0" d="M735.102,116.5L735.018,120.583C734.935,124.667,734.768,132.833,733.681,141.083C732.594,149.333,730.585,157.667,729.581,161.833L728.577,166"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(310.85546875, 16.5)" data-id="app" data-node="true" id="flowchart-app-0" class="node default default flowchart-label"><rect height="33" width="126.1875" y="-16.5" x="-63.09375" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-55.59375, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="111.1875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">AppComponent</span></div></foreignobject></g></g><g transform="translate(538.3984375, 99.5)" data-id="header" data-node="true" id="flowchart-header-1" class="node default default flowchart-label"><rect height="33" width="150.203125" y="-16.5" x="-75.1015625" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-67.6015625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="135.203125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">HeaderComponent</span></div></foreignobject></g></g><g transform="translate(187.4140625, 99.5)" data-id="main" data-node="true" id="flowchart-main-3" class="node default default flowchart-label"><rect height="33" width="205.3125" y="-16.5" x="-102.65625" ry="0" rx="0" style="fill:#E4BE74;" class="basic label-container"></rect><g transform="translate(-95.15625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="190.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">MainComponent (OnPush)</span></div></foreignobject></g></g><g transform="translate(724.6015625, 182.5)" data-id="search" data-node="true" id="flowchart-search-5" class="node default default flowchart-label"><rect height="33" width="148.421875" y="-16.5" x="-74.2109375" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-66.7109375, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="133.421875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">SearchComponent</span></div></foreignobject></g></g><g transform="translate(528.3984375, 182.5)" data-id="button" data-node="true" id="flowchart-button-7" class="node default default flowchart-label"><rect height="33" width="143.984375" y="-16.5" x="-71.9921875" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-64.4921875, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="128.984375"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">ButtonComponent</span></div></foreignobject></g></g><g transform="translate(301.515625, 182.5)" data-id="login" data-node="true" id="flowchart-login-9" class="node default default flowchart-label"><rect height="33" width="209.78125" y="-16.5" x="-104.890625" ry="0" rx="0" style="fill:#E4BE74;" class="basic label-container"></rect><g transform="translate(-97.390625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="194.78125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">LoginComponent (OnPush)</span></div></foreignobject></g></g><g transform="translate(73.3125, 182.5)" data-id="details" data-node="true" id="flowchart-details-11" class="node default default flowchart-label"><rect height="33" width="146.625" y="-16.5" x="-73.3125" ry="0" rx="0" style="fill:#E4BE74;" class="basic label-container"></rect><g transform="translate(-65.8125, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="131.625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">DetailsComponent</span></div></foreignobject></g></g><g transform="translate(734.6015625, 99.5)" data-id="event" data-node="true" id="flowchart-event-12" class="node default default flowchart-label"><polygon style="" transform="translate(-27.9609375,16.5)" class="label-container" points="-16.5,0 55.921875,0 55.921875,-33 -16.5,-33 0,-16.5"></polygon><g transform="translate(-20.4609375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="40.921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Event</span></div></foreignobject></g></g></g></g></g></svg>
  <h2 id="an-event-is-handled-by-a-component-with-onpush">
    <a href="#an-event-is-handled-by-a-component-with-onpush" class="docs-anchor" tabindex="-1" aria-label="Link to An event is handled by a component with OnPush" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6003qxxe228h20zsj5zok4vjw">事件由具有 OnPush 的组件处理</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6kocvioffk71828yw4wpf1r0a">如果 Angular 使用 OnPush 策略处理组件中的事件，则框架将在整个组件树中执行变更检测。Angular 将忽略以具有 OnPush 策略的组件为根的组件子树（如果这个根组件尚未接收到新输入并且在处理此事件的组件外部）。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5dgooqihtlci19mniyk0lhzbl">比如，如果 Angular 处理 <code>MainComponent</code> 中的事件，则框架将在整个组件树中运行变更检测。Angular 将忽略具有根 <code>LoginComponent</code> 的子树，因为该组件具有 <code>OnPush</code> 策略并且此事件发生在其范围之外。</p>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-8 -8 814.8125 215" style="max-width: 814.8125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-header" id="L-app-header-0" d="M178.337,33L177.333,37.167C176.329,41.333,174.321,49.667,173.317,58C172.313,66.333,172.313,74.667,172.313,78.833L172.313,83"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-main" id="L-app-main-0" d="M245.406,28.878L270.148,33.731C294.889,38.585,344.372,48.293,390.956,57.313C437.539,66.333,481.222,74.667,503.064,78.833L524.905,83"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-header LE-search" id="L-header-search-0" d="M133.308,116L123.459,120.167C113.609,124.333,93.91,132.667,84.06,141C74.211,149.333,74.211,157.667,74.211,161.833L74.211,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-header LE-button" id="L-header-button-0" d="M211.317,116L221.166,120.167C231.016,124.333,250.715,132.667,260.565,141C270.414,149.333,270.414,157.667,270.414,161.833L270.414,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-main LE-login" id="L-main-login-0" d="M566.033,116L554.577,120.167C543.121,124.333,520.209,132.667,508.753,141C497.297,149.333,497.297,157.667,497.297,161.833L497.297,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-main LE-details" id="L-main-details-0" d="M656.764,116L668.22,120.167C679.676,124.333,702.588,132.667,714.044,141C725.5,149.333,725.5,157.667,725.5,161.833L725.5,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-event LE-main" id="L-event-main-0" d="M621.898,33.5L621.815,37.583C621.732,41.667,621.565,49.833,620.478,58.083C619.39,66.333,617.382,74.667,616.378,78.833L615.374,83"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(182.3125, 16.5)" data-id="app" data-node="true" id="flowchart-app-0" class="node default default flowchart-label"><rect height="33" width="126.1875" y="-16.5" x="-63.09375" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-55.59375, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="111.1875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">AppComponent</span></div></foreignobject></g></g><g transform="translate(172.3125, 99.5)" data-id="header" data-node="true" id="flowchart-header-1" class="node default default flowchart-label"><rect height="33" width="150.203125" y="-16.5" x="-75.1015625" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-67.6015625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="135.203125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">HeaderComponent</span></div></foreignobject></g></g><g transform="translate(611.3984375, 99.5)" data-id="main" data-node="true" id="flowchart-main-3" class="node default default flowchart-label"><rect height="33" width="205.3125" y="-16.5" x="-102.65625" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-95.15625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="190.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">MainComponent (OnPush)</span></div></foreignobject></g></g><g transform="translate(74.2109375, 182.5)" data-id="search" data-node="true" id="flowchart-search-5" class="node default default flowchart-label"><rect height="33" width="148.421875" y="-16.5" x="-74.2109375" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-66.7109375, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="133.421875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">SearchComponent</span></div></foreignobject></g></g><g transform="translate(270.4140625, 182.5)" data-id="button" data-node="true" id="flowchart-button-7" class="node default default flowchart-label"><rect height="33" width="143.984375" y="-16.5" x="-71.9921875" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-64.4921875, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="128.984375"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">ButtonComponent</span></div></foreignobject></g></g><g transform="translate(497.296875, 182.5)" data-id="login" data-node="true" id="flowchart-login-9" class="node default default flowchart-label"><rect height="33" width="209.78125" y="-16.5" x="-104.890625" ry="0" rx="0" style="fill:#E4BE74;" class="basic label-container"></rect><g transform="translate(-97.390625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="194.78125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">LoginComponent (OnPush)</span></div></foreignobject></g></g><g transform="translate(725.5, 182.5)" data-id="details" data-node="true" id="flowchart-details-11" class="node default default flowchart-label"><rect height="33" width="146.625" y="-16.5" x="-73.3125" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-65.8125, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="131.625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">DetailsComponent</span></div></foreignobject></g></g><g transform="translate(621.3984375, 16.5)" data-id="event" data-node="true" id="flowchart-event-12" class="node default default flowchart-label"><polygon style="" transform="translate(-27.9609375,16.5)" class="label-container" points="-16.5,0 55.921875,0 55.921875,-33 -16.5,-33 0,-16.5"></polygon><g transform="translate(-20.4609375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="40.921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Event</span></div></foreignobject></g></g></g></g></g></svg>
  <h2 id="an-event-is-handled-by-a-descendant-of-a-component-with-onpush">
    <a href="#an-event-is-handled-by-a-descendant-of-a-component-with-onpush" class="docs-anchor" tabindex="-1" aria-label="Link to An event is handled by a descendant of a component with OnPush" data-ng_translator_product="100" data-ng_translator_ref_id="aisrvla4ceznfjxci61n0l4s0">事件由具有 OnPush 的组件的后代处理</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cl2cw4uyxhyzq056hmd5ixpbg">如果 Angular 使用 OnPush 处理组件中的事件，则框架将在整个组件树中执行变更检测，包括组件的祖先。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ak65zdrvldbvw4vdcvtuhfa8u">比如，在下图中，Angular 会处理使用 OnPush 的 <code>LoginComponent</code> 中的事件。Angular 将在整个组件子树中调用变更检测，包括 <code>MainComponent</code>（<code>LoginComponent</code> 的父级），尽管 <code>MainComponent</code> 也有 <code>OnPush</code>。Angular 也会检查 <code>MainComponent</code>，因为 <code>LoginComponent</code> 是其视图的一部分。</p>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-8 -8 834.15625 215" style="max-width: 834.15625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-header" id="L-app-header-0" d="M336.762,28.007L309.354,33.006C281.945,38.005,227.129,48.002,199.721,57.168C172.313,66.333,172.313,74.667,172.313,78.833L172.313,83"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-main" id="L-app-main-0" d="M462.949,24.795L505.041,30.329C547.133,35.864,631.316,46.932,673.408,56.633C715.5,66.333,715.5,74.667,715.5,78.833L715.5,83"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-header LE-search" id="L-header-search-0" d="M133.308,116L123.459,120.167C113.609,124.333,93.91,132.667,84.06,141C74.211,149.333,74.211,157.667,74.211,161.833L74.211,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-header LE-button" id="L-header-button-0" d="M211.317,116L221.166,120.167C231.016,124.333,250.715,132.667,260.565,141C270.414,149.333,270.414,157.667,270.414,161.833L270.414,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-main LE-login" id="L-main-login-0" d="M670.134,116L658.678,120.167C647.222,124.333,624.31,132.667,602.402,141C580.495,149.333,559.591,157.667,549.139,161.833L538.687,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-main LE-details" id="L-main-details-0" d="M719.476,116L720.48,120.167C721.484,124.333,723.492,132.667,724.496,141C725.5,149.333,725.5,157.667,725.5,161.833L725.5,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-event LE-login" id="L-event-login-0" d="M469.137,116.5L469.053,120.583C468.97,124.667,468.803,132.833,471.598,141.083C474.392,149.333,480.147,157.667,483.024,161.833L485.902,166"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(399.85546875, 16.5)" data-id="app" data-node="true" id="flowchart-app-0" class="node default default flowchart-label"><rect height="33" width="126.1875" y="-16.5" x="-63.09375" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-55.59375, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="111.1875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">AppComponent</span></div></foreignobject></g></g><g transform="translate(172.3125, 99.5)" data-id="header" data-node="true" id="flowchart-header-1" class="node default default flowchart-label"><rect height="33" width="150.203125" y="-16.5" x="-75.1015625" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-67.6015625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="135.203125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">HeaderComponent</span></div></foreignobject></g></g><g transform="translate(715.5, 99.5)" data-id="main" data-node="true" id="flowchart-main-3" class="node default default flowchart-label"><rect height="33" width="205.3125" y="-16.5" x="-102.65625" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-95.15625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="190.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">MainComponent (OnPush)</span></div></foreignobject></g></g><g transform="translate(74.2109375, 182.5)" data-id="search" data-node="true" id="flowchart-search-5" class="node default default flowchart-label"><rect height="33" width="148.421875" y="-16.5" x="-74.2109375" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-66.7109375, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="133.421875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">SearchComponent</span></div></foreignobject></g></g><g transform="translate(270.4140625, 182.5)" data-id="button" data-node="true" id="flowchart-button-7" class="node default default flowchart-label"><rect height="33" width="143.984375" y="-16.5" x="-71.9921875" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-64.4921875, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="128.984375"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">ButtonComponent</span></div></foreignobject></g></g><g transform="translate(497.296875, 182.5)" data-id="login" data-node="true" id="flowchart-login-9" class="node default default flowchart-label"><rect height="33" width="209.78125" y="-16.5" x="-104.890625" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-97.390625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="194.78125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">LoginComponent (OnPush)</span></div></foreignobject></g></g><g transform="translate(725.5, 182.5)" data-id="details" data-node="true" id="flowchart-details-11" class="node default default flowchart-label"><rect height="33" width="146.625" y="-16.5" x="-73.3125" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-65.8125, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="131.625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">DetailsComponent</span></div></foreignobject></g></g><g transform="translate(468.63671875, 99.5)" data-id="event" data-node="true" id="flowchart-event-12" class="node default default flowchart-label"><polygon style="" transform="translate(-27.9609375,16.5)" class="label-container" points="-16.5,0 55.921875,0 55.921875,-33 -16.5,-33 0,-16.5"></polygon><g transform="translate(-20.4609375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="40.921875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Event</span></div></foreignobject></g></g></g></g></g></svg>
  <h2 id="new-inputs-to-component-with-onpush">
    <a href="#new-inputs-to-component-with-onpush" class="docs-anchor" tabindex="-1" aria-label="Link to New inputs to component with OnPush" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7lz89el7rs7bc2a2i9n41v2a2">具有 OnPush 策略的组件的新输入</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9wq3yleghirbbok7e3g3bov81">Angular 将在具有 <code>OnPush</code> 策略的子组件中运行变更检测，将 input 属性设置为模板绑定的结果。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5mf5rf0y5d4any1ctonsud74q">比如，在下图中，<code>AppComponent</code> 会将新输入传递给 <code>MainComponent</code>，它具有 <code>OnPush</code> 策略。Angular 将在 <code>MainComponent</code> 中运行变更检测，但不会在同样具有 <code>OnPush</code> 策略的 <code>LoginComponent</code> 中运行变更检测，除非它也接收到新的输入。</p>
<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-8 -8 875.30859375 215" style="max-width: 875.30859375px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-header" id="L-app-header-0" d="M336.762,28.007L309.354,33.006C281.945,38.005,227.129,48.002,199.721,57.168C172.313,66.333,172.313,74.667,172.313,78.833L172.313,83"></path><path style="stroke:green;fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-app LE-main" id="L-app-main-0" d="M462.949,28.878L487.691,33.731C512.432,38.585,561.915,48.293,586.657,57.313C611.398,66.333,611.398,74.667,611.398,78.833L611.398,83"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-header LE-search" id="L-header-search-0" d="M133.308,116L123.459,120.167C113.609,124.333,93.91,132.667,84.06,141C74.211,149.333,74.211,157.667,74.211,161.833L74.211,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-header LE-button" id="L-header-button-0" d="M211.317,116L221.166,120.167C231.016,124.333,250.715,132.667,260.565,141C270.414,149.333,270.414,157.667,270.414,161.833L270.414,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-main LE-login" id="L-main-login-0" d="M566.033,116L554.577,120.167C543.121,124.333,520.209,132.667,508.753,141C497.297,149.333,497.297,157.667,497.297,161.833L497.297,166"></path><path style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-main LE-details" id="L-main-details-0" d="M656.764,116L668.22,120.167C679.676,124.333,702.588,132.667,714.044,141C725.5,149.333,725.5,157.667,725.5,161.833L725.5,166"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(399.85546875, 16.5)" data-id="app" data-node="true" id="flowchart-app-0" class="node default default flowchart-label"><rect height="33" width="126.1875" y="-16.5" x="-63.09375" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-55.59375, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="111.1875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">AppComponent</span></div></foreignobject></g></g><g transform="translate(172.3125, 99.5)" data-id="header" data-node="true" id="flowchart-header-1" class="node default default flowchart-label"><rect height="33" width="150.203125" y="-16.5" x="-75.1015625" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-67.6015625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="135.203125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">HeaderComponent</span></div></foreignobject></g></g><g transform="translate(611.3984375, 99.5)" data-id="main" data-node="true" id="flowchart-main-3" class="node default default flowchart-label"><rect height="33" width="205.3125" y="-16.5" x="-102.65625" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-95.15625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="190.3125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">MainComponent (OnPush)</span></div></foreignobject></g></g><g transform="translate(74.2109375, 182.5)" data-id="search" data-node="true" id="flowchart-search-5" class="node default default flowchart-label"><rect height="33" width="148.421875" y="-16.5" x="-74.2109375" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-66.7109375, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="133.421875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">SearchComponent</span></div></foreignobject></g></g><g transform="translate(270.4140625, 182.5)" data-id="button" data-node="true" id="flowchart-button-7" class="node default default flowchart-label"><rect height="33" width="143.984375" y="-16.5" x="-71.9921875" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-64.4921875, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="128.984375"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">ButtonComponent</span></div></foreignobject></g></g><g transform="translate(497.296875, 182.5)" data-id="login" data-node="true" id="flowchart-login-9" class="node default default flowchart-label"><rect height="33" width="209.78125" y="-16.5" x="-104.890625" ry="0" rx="0" style="fill:#E4BE74;" class="basic label-container"></rect><g transform="translate(-97.390625, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="194.78125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">LoginComponent (OnPush)</span></div></foreignobject></g></g><g transform="translate(725.5, 182.5)" data-id="details" data-node="true" id="flowchart-details-11" class="node default default flowchart-label"><rect height="33" width="146.625" y="-16.5" x="-73.3125" ry="0" rx="0" style="fill:#C1D5B0;" class="basic label-container"></rect><g transform="translate(-65.8125, -9)" style="color:#000;" class="label"><rect></rect><foreignobject height="18" width="131.625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0); display: inline-block; white-space: nowrap;"><span style="color:#000;" class="nodeLabel">DetailsComponent</span></div></foreignobject></g></g><g transform="translate(694.37890625, 16.5)" data-id="event" data-node="true" id="flowchart-event-12" class="node default default flowchart-label"><polygon style="" transform="translate(-164.9296875,16.5)" class="label-container" points="-16.5,0 329.859375,0 329.859375,-33 -16.5,-33 0,-16.5"></polygon><g transform="translate(-157.4296875, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="314.859375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Parent passes new input to MainComponent</span></div></foreignobject></g></g></g></g></g></svg>
  <h2 id="edge-cases">
    <a href="#edge-cases" class="docs-anchor" tabindex="-1" aria-label="Link to Edge cases" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4zhtix64sq35rjzufnhxdxybp">边缘情况</a>
  </h2>
  
  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_ref_id="7e1lq3qqgrk9okyns1yt34uez"><strong>在 TypeScript 代码中修改输入属性</strong>。当你使用 
<code>@ViewChild</code> 或 
<code>@ContentChild</code> 等 API 在 TypeScript 中获取组件的引用并手动修改 
<code>@Input</code> 属性时，Angular 不会自动对 OnPush 组件运行变更检测。如果需要 Angular 运行变更检测，可以在组件中注入 
<code>ChangeDetectorRef</code> 并调用 
<code>changeDetectorRef.markForCheck()</code> 来通知 Angular 安排一次变更检测。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dc0n2jzldulbqi3e40yjevd1x"><strong>修改对象引用</strong>。如果输入接收到可变对象作为值，并且你修改了对象内容但引用没变，则 Angular 将不会调用变更检测。这是预期的行为，因为输入的前一个值和当前值都指向了同一个引用。</li>

  </ul>
  