<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="2bpsl49wh5r5h9cnwo8b5vr3n">基于注入的依赖注入</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/tutorials/learn-angular/steps/20-inject-based-di/README.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="exciycvf06i062dajgqpuerc0">创建一个可注入的服务是 Angular 中依赖注入体系的第一部分。你如何将一个服务注入到组件中？Angular 提供了一个方便的函数叫做
<code>inject()</code>，可以在适当的上下文中使用。</p>

    <div class="docs-alert docs-alert-note">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="7biwdk0zalpnjcksfbi7o0ztm"><strong>注意：</strong> 注入上下文超出了本教程的范围，但如果你想了解更多信息，可以在
<a href="guide/di/dependency-injection-context">Angular 文档</a>中找到更多信息。</p>

    </div>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="coarr7ue4xi4fnk56tw6a8oz1">在这个活动中，你将学习如何注入一个服务并在组件中使用它。</p>
<hr>

<p data-ng_translator_product="100" data-ng_translator_ref_id="7hbrfktexuu5bvllefsyvowmj">使用 DI 系统提供的值来初始化类属性通常是有帮助的。下面是一个示例：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({...})</div><div class="hljs-ln-line"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PetCareDashboardComponent</span> {</div><div class="hljs-ln-line highlighted">    petRosterService = <span class="hljs-title function_">inject</span>(<span class="hljs-title class_">PetRosterService</span>);</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div>
    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="inject-the-carservice">
    <a href="#inject-the-carservice" class="docs-anchor" tabindex="-1" aria-label="Link to Inject the <code>CarService</code>" data-ng_translator_product="100" data-ng_translator_ref_id="aoku4f2y0a0zoodfiwzq2e4st">注入 
<code>CarService</code></a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="6ha0i6xs27d61r3oajqt1r7v4">在
<code>app.component.ts</code>中，使用
<code>inject()</code>函数注入
<code>CarService</code>并将其赋值给一个名为
<code>carService</code>的属性。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="6qulq7vu2hr7l1f5oj6582yn6">注意：注意
<code>carService</code>属性和
<code>CarService</code>类之间的区别。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="use-the-carservice-instance">
    <a href="#use-the-carservice-instance" class="docs-anchor" tabindex="-1" aria-label="Link to Use the <code>carService</code> instance" data-ng_translator_product="100" data-ng_translator_ref_id="6n7duuppamg3y3cfks30efh7c">使用 
<code>carService</code> 实例</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="ngfzafy6bydlaumggsy9edkz">调用
<code>inject(CarService)</code>给你一个
<code>CarService</code>的实例，你可以在应用中使用，存储在
<code>carService</code>属性中。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="7nqe8syutgqgvcdpjvvkx119z">在
<code>AppComponent</code>的
<code>constructor</code>函数中，添加以下实现：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">display</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">carService</span>.<span class="hljs-title function_">getCars</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">' ⭐️ '</span>);</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div>
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="update-the-appcomponent-template">
    <a href="#update-the-appcomponent-template" class="docs-anchor" tabindex="-1" aria-label="Link to Update the <code>AppComponent</code> template" data-ng_translator_product="100" data-ng_translator_ref_id="c5l004y4uh067am5fhhhprmuz">更新 
<code>AppComponent</code> 模板</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="37w8791mu2hw3vayq4jhbyr9q">用以下代码更新 
<code>app.component.ts</code> 中的组件模板：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;p&gt;Car Listing: {{ display }}&lt;/p&gt;`</span>,</div></code>
    </pre>
  </div>
    </li>
    
    </ol>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="3mjuokgzlswdmrayy64dszcdl">你刚刚将第一个服务注入到组件中——非常棒。在结束依赖注入（DI）部分之前，你将学习另一种将资源注入到组件中的语法。</p>
