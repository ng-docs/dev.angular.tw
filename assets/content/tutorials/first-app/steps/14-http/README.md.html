<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bd6sw5rkkh3b3ak9blz0frxj">将 HTTP 通信添加到你的应用程序</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/tutorials/first-app/steps/14-http/README.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="d8dicrcx2nu3s68a0ap8h8j3o">本教程演示如何将 HTTP 和 API 集成到应用程序中。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c5rnwwioukzmjpg48glhjzr83">到目前为止，应用程序都在从 Angular 服务中的静态数组读取数据。下一步是让应用程序通过 HTTP 与 JSON 服务器通信。HTTP 请求将会模拟处理来自服务器的数据的体验。</p>

    <div class="docs-video-container">
      <iframe class="docs-video" src="https://www.youtube.com/embed/5K10oYJ5Y-E?si=TiuNKx_teR9baO7k" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen credentialless title="Video player"></iframe>
    </div>
    
    <div class="docs-alert docs-alert-important">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="asun5w2l4ptau4q3fovy2l5k8"><strong>重要：</strong>我们建议在本教程步骤中使用你的本地环境。</p>

    </div>
    
  <h2 id="what-youll-learn">
    <a href="#what-youll-learn" class="docs-anchor" tabindex="-1" aria-label="Link to What you'll learn" data-ng_translator_product="100" data-ng_translator_ref_id="cy8qhuh22qozu5okjmjfdf3nx">你将学到什么</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="443kwq9gq631pznbo37xy0f9p">应用程序将使用来自 JSON 服务器的数据</p>

    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="configure-the-json-server">
    <a href="#configure-the-json-server" class="docs-anchor" tabindex="-1" aria-label="Link to Configure the JSON server" data-ng_translator_product="100" data-ng_translator_ref_id="b4m2nf5g8l23peh0apzn7aotd">配置 JSON 服务器</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="18blsp3zwdre73iumrcg696k7">JSON Server 是一种用于创建模拟 REST API 的开源工具。你将使用它来提供当前存储在房屋服务中的房屋位置数据。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="all3yg78p9mvlf2mnjkuf8rvt">使用以下命令从 npm 安装 <code>json-server</code>。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">npm install -g json-server</div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dly0kbc67ixrh0ojxrvmma887">在项目的根目录中，创建一个名为 <code>db.json</code> 的文件。这是你将存储 <code>json-server</code> 数据的地方。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1zoof8cplqycm5ckkgoguqm9f">打开 <code>db.json</code> 并将以下代码复制到文件中</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">         <span class="hljs-attr">"locations"</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Acme Fresh Start Housing"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Chicago"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"IL"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/bernard-hermant-CLKGGwIBTaY-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"A113 Transitional Housing"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Santa Monica"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"CA"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/brandon-griggs-wR11KBaB86U-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">0</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Warm Beds Housing Support"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Juneau"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"AK"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/i-do-nothing-but-love-lAyXdl1-Wmc-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">3</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Homesteady Housing"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Chicago"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"IL"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/ian-macdonald-W8z6aiwfi1E-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">4</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Happy Homes Group"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Gary"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"IN"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/krzysztof-hepner-978RAXoXnH4-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hopeful Apartment Group"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Oakland"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"CA"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/r-architecture-JvQ0Q5IkeMM-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Seriously Safe Towns"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Oakland"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"CA"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/phil-hearing-IYfp2Ixe9nM-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">5</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">7</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Hopeful Housing Solutions"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Oakland"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"CA"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/r-architecture-GGupkreKwxA-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">2</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">8</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Seriously Safe Towns"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Oakland"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"CA"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/saru-robert-9rP3mxf8qWI-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">10</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">false</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">{</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"id"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">9</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"name"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Capital Safe Towns"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"city"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"Portland"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"state"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"OR"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"photo"</span><span class="hljs-punctuation">:</span> <span class="hljs-string">"${this.baseUrl}/webaliser-_TPTXZd9mOo-unsplash.jpg"</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"availableUnits"</span><span class="hljs-punctuation">:</span> <span class="hljs-number">6</span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"wifi"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span><span class="hljs-punctuation">,</span></div><div class="hljs-ln-line">                 <span class="hljs-attr">"laundry"</span><span class="hljs-punctuation">:</span> <span class="hljs-literal"><span class="hljs-keyword">true</span></span></div><div class="hljs-ln-line">             <span class="hljs-punctuation">}</span></div><div class="hljs-ln-line">         <span class="hljs-punctuation">]</span></div><div class="hljs-ln-line">     <span class="hljs-punctuation">}</span></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5o4m0mbz6xkgc4k6pb8lpnltc">保存此文件。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="13w1nos2v5r29ex8ipneaoo4o">是时候测试你的配置了。打开命令行窗口，在项目的根目录下运行以下命令。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">json-server --watch db.json</div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c9mqw6abb6d0fz3iupadiqcbw">在你的 Web 浏览器中，导航到 <code>http://localhost:3000/locations</code> 并确认响应里包括存储在 <code>db.json</code> 中的数据。</p>
</li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="71ngr67mennff2ugxp3i6oupj">如果你的配置遇到任何问题，可以在
<a href="https://www.npmjs.com/package/json-server" target="_blank">官方文档</a>中找到更多详情。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="update-service-to-use-web-server-instead-of-local-array">
    <a href="#update-service-to-use-web-server-instead-of-local-array" class="docs-anchor" tabindex="-1" aria-label="Link to Update service to use web server instead of local array" data-ng_translator_product="100" data-ng_translator_ref_id="77c9m3dxucr5zgkrd5c6pvnzb">更新服务以使用 Web 服务器而不是本地数组</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ltyz4v4gh1bisx0jzdvutt8l">数据源已配置，下一步是更新你的 Web 应用程序以连接到它来使用数据。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7m3bzlxqw7t2vdvshccln5862">在 <code>src/app/housing.service.ts</code> 中，进行以下更改：</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a65zpqwlbxdlwegwo2q0u5x4m">更新代码以删除 <code>housingLocationList</code> 属性和包含数据的数组。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="68y2615xl4871320zcsyh8b51">添加一个名为 
<code>url</code> 的字符串属性，并将其值设置为 
<code>'http://localhost:3000/locations'</code></p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">url = <span class="hljs-string">'http://localhost:3000/locations'</span>;</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="eme9ke5tfbuduj2nolyf6otyh">此代码将导致文件其余部分出错，因为它依赖 <code>housingLocationList</code> 属性。接下来我们将更新服务方法。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5xbi06qrxkjtbfwcltme1g19b">更新 <code>getAllHousingLocations</code> 函数以调用你配置好的 Web 服务器。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/14-http/src-final/app/housing.service.ts" visiblelines="9,10,11,12">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Injectable</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">HousingLocation</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'./housinglocation'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Injectable</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HousingService</span> {</div><div class="hljs-ln-line">  url = <span class="hljs-string">'http://localhost:3000/locations'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getAllHousingLocations</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">HousingLocation</span>[]&gt; {</div><div class="hljs-ln-line">    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span>);</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">json</span>()) ?? [];</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getHousingLocationById</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">HousingLocation</span> | <span class="hljs-literal">undefined</span>&gt; {</div><div class="hljs-ln-line">    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.url}</span>/<span class="hljs-subst">${id}</span>`</span>);</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">json</span>()) ?? {};</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">submitApplication</span>(<span class="hljs-params">firstName: <span class="hljs-built_in">string</span>, lastName: <span class="hljs-built_in">string</span>, email: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-comment">// tslint:disable-next-line</span></div><div class="hljs-ln-line">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(firstName, lastName, email);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="92a9ua69i7sf9zg23dsozf5mh">此代码现在使用异步代码通过 HTTP 发出 
<strong>GET</strong> 请求。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8k9zacajsov5nooi7dno1xp6y">提示：在这个示例中，代码使用 
<code>fetch</code>。对于更高级的用例，请考虑使用 Angular 提供的 
<code>HttpClient</code>。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="20nfd75ywz4ryesvuwu0gdu7i">更新 <code>getHousingLocationsById</code> 函数以调用你配置好的 Web 服务器。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/14-http/src-final/app/housing.service.ts" visiblelines="14,15,16,17">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Injectable</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">HousingLocation</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'./housinglocation'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Injectable</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HousingService</span> {</div><div class="hljs-ln-line">  url = <span class="hljs-string">'http://localhost:3000/locations'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getAllHousingLocations</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">HousingLocation</span>[]&gt; {</div><div class="hljs-ln-line">    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span>);</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">json</span>()) ?? [];</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getHousingLocationById</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">HousingLocation</span> | <span class="hljs-literal">undefined</span>&gt; {</div><div class="hljs-ln-line">    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.url}</span>/<span class="hljs-subst">${id}</span>`</span>);</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">json</span>()) ?? {};</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">submitApplication</span>(<span class="hljs-params">firstName: <span class="hljs-built_in">string</span>, lastName: <span class="hljs-built_in">string</span>, email: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-comment">// tslint:disable-next-line</span></div><div class="hljs-ln-line">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(firstName, lastName, email);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="df8kv4mysw9gnfz1qqodehacc">一旦所有更新完成，你更新后的服务应与以下代码匹配。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/14-http/src-final/app/housing.service.ts" visiblelines="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23" header="Final version of housing.service.ts">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="bblg3w4313q848qknavw999vx">housing.service.ts 的最终版本</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Injectable</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">HousingLocation</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'./housinglocation'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Injectable</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">providedIn</span>: <span class="hljs-string">'root'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HousingService</span> {</div><div class="hljs-ln-line">  url = <span class="hljs-string">'http://localhost:3000/locations'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getAllHousingLocations</span>(): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">HousingLocation</span>[]&gt; {</div><div class="hljs-ln-line">    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">url</span>);</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">json</span>()) ?? [];</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getHousingLocationById</span>(<span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">HousingLocation</span> | <span class="hljs-literal">undefined</span>&gt; {</div><div class="hljs-ln-line">    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${<span class="hljs-variable language_">this</span>.url}</span>/<span class="hljs-subst">${id}</span>`</span>);</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> (<span class="hljs-keyword">await</span> data.<span class="hljs-title function_">json</span>()) ?? {};</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">submitApplication</span>(<span class="hljs-params">firstName: <span class="hljs-built_in">string</span>, lastName: <span class="hljs-built_in">string</span>, email: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-comment">// tslint:disable-next-line</span></div><div class="hljs-ln-line">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(firstName, lastName, email);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>

    </ol>
    </li>

    </ol>
    
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="update-the-components-to-use-asynchronous-calls-to-the-housing-service">
    <a href="#update-the-components-to-use-asynchronous-calls-to-the-housing-service" class="docs-anchor" tabindex="-1" aria-label="Link to Update the components to use asynchronous calls to the housing service" data-ng_translator_product="100" data-ng_translator_ref_id="v4x6vvmolh9xt028dn399574">更新组件以使用对 housing 服务的异步调用</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="2pwhrelh8w7zmowwnjiiaknbn">服务器现在正在从 HTTP 请求读取数据，但依赖此服务的组件现在出现错误，因为它们之前被编程为使用同步版本的服务。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_ref_id="570ii2ap5px1xcb3xdy6q3uwz">在 
<code>src/app/home/home.component.ts</code> 中，更新 
<code>constructor</code> 以使用新的异步版本的 
<code>getAllHousingLocations</code> 方法。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/14-http/src-final/app/home/home.component.ts" visiblelines="31,32,33,34,35,36">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component, inject} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {CommonModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocationComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing-location/housing-location.component'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocation} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housinglocation'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingService} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing.service'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@Component({</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-home'</span>,</div><div class="hljs-ln-line">  standalone: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  imports: [CommonModule, HousingLocationComponent],</div><div class="hljs-ln-line">  template: `<span class="language-javascript"></span></div><div class="hljs-ln-line">    &lt;section&gt;</div><div class="hljs-ln-line">      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span></span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Filter by city"</span> #<span class="hljs-attr">filter</span> /&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"filterResults(filter.value)"</span>&gt;</span>Search<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line">    &lt;/section&gt;</div><div class="hljs-ln-line">    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"results"</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">app-housing-location</span></span></div><div class="hljs-ln-line">        *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let housingLocation of filteredLocationList"</span></div><div class="hljs-ln-line">        [<span class="hljs-attr">housingLocation</span>]=<span class="hljs-string">"housingLocation"</span></div><div class="hljs-ln-line">      &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">app-housing-location</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></div><div class="hljs-ln-line">  `,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./home.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeComponent</span> {</div><div class="hljs-ln-line">  housingLocationList: HousingLocation[] = [];</div><div class="hljs-ln-line">  housingService: HousingService = inject(HousingService);</div><div class="hljs-ln-line">  filteredLocationList: HousingLocation[] = [];</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  constructor() {</div><div class="hljs-ln-line">    this.housingService.getAllHousingLocations().<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">(housingLocationList: HousingLocation[])</span> =&gt;</span> {</div><div class="hljs-ln-line">      this.housingLocationList = housingLocationList;</div><div class="hljs-ln-line">      this.filteredLocationList = housingLocationList;</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  filterResults(text: string) {</div><div class="hljs-ln-line">    <span class="hljs-keyword">if</span> (!text) {</div><div class="hljs-ln-line">      this.filteredLocationList = this.housingLocationList;</div><div class="hljs-ln-line">      <span class="hljs-keyword">return</span>;</div><div class="hljs-ln-line">    }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    this.filteredLocationList = this.housingLocationList.filter(<span class="hljs-function"><span class="hljs-params">(housingLocation)</span> =&gt;</span></div><div class="hljs-ln-line">      housingLocation?.city.toLowerCase().includes(text.toLowerCase()),</div><div class="hljs-ln-line">    );</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="3ckkx0krtwhv3ooeys3nsnplv">在 
<code>src/app/details/details.component.ts</code> 中，更新 
<code>constructor</code> 以使用新的异步版本的 
<code>getHousingLocationById</code> 方法。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/14-http/src-final/app/details/details.component.ts" visiblelines="60,61,62,63,64,65">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component, inject} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {CommonModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ActivatedRoute} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/router'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingService} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing.service'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocation} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housinglocation'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormControl, FormGroup, ReactiveFormsModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@Component({</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-details'</span>,</div><div class="hljs-ln-line">  standalone: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  imports: [CommonModule, ReactiveFormsModule],</div><div class="hljs-ln-line">  template: `<span class="language-javascript"></span></div><div class="hljs-ln-line">    &lt;article&gt;</div><div class="hljs-ln-line">      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">img</span></span></span></div><div class="hljs-ln-line">        <span class="hljs-attr">class</span>=<span class="hljs-string">"listing-photo"</span></div><div class="hljs-ln-line">        [<span class="hljs-attr">src</span>]=<span class="hljs-string">"housingLocation?.photo"</span></div><div class="hljs-ln-line">        <span class="hljs-attr">alt</span>=<span class="hljs-string">"Exterior photo of {{ housingLocation?.name }}"</span></div><div class="hljs-ln-line">        <span class="hljs-attr">crossorigin</span></div><div class="hljs-ln-line">      /&gt;</div><div class="hljs-ln-line">      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listing-description"</span>&gt;</span></span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listing-heading"</span>&gt;</span>{{ housingLocation?.name }}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listing-location"</span>&gt;</span>{{ housingLocation?.city }}, {{ housingLocation?.state }}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></div><div class="hljs-ln-line">      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listing-features"</span>&gt;</span></span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-heading"</span>&gt;</span>About this housing location<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Units available: {{ housingLocation?.availableUnits }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Does this location have wifi: {{ housingLocation?.wifi }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Does this location have laundry: {{ housingLocation?.laundry }}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></div><div class="hljs-ln-line">      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"listing-apply"</span>&gt;</span></span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"section-heading"</span>&gt;</span>Apply now to live here<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"applyForm"</span> (<span class="hljs-attr">submit</span>)=<span class="hljs-string">"submitApplication()"</span>&gt;</span></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"first-name"</span>&gt;</span>First Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"first-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"firstName"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"last-name"</span>&gt;</span>Last Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"last-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"lastName"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"email"</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"email"</span> /&gt;</span></div><div class="hljs-ln-line">          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"primary"</span>&gt;</span>Apply now<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></div><div class="hljs-ln-line">    &lt;/article&gt;</div><div class="hljs-ln-line">  `,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./details.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DetailsComponent</span> {</div><div class="hljs-ln-line">  route: ActivatedRoute = inject(ActivatedRoute);</div><div class="hljs-ln-line">  housingService = inject(HousingService);</div><div class="hljs-ln-line">  housingLocation: HousingLocation | <span class="hljs-literal">undefined</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  applyForm = <span class="hljs-keyword">new</span> FormGroup({</div><div class="hljs-ln-line">    firstName: <span class="hljs-keyword">new</span> FormControl(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    lastName: <span class="hljs-keyword">new</span> FormControl(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    email: <span class="hljs-keyword">new</span> FormControl(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  constructor() {</div><div class="hljs-ln-line">    const housingLocationId = <span class="hljs-built_in">parseInt</span>(this.route.snapshot.params[<span class="hljs-string">'id'</span>], <span class="hljs-number">10</span>);</div><div class="hljs-ln-line">    this.housingService.getHousingLocationById(housingLocationId).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">(housingLocation)</span> =&gt;</span> {</div><div class="hljs-ln-line">      this.housingLocation = housingLocation;</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  submitApplication() {</div><div class="hljs-ln-line">    this.housingService.submitApplication(</div><div class="hljs-ln-line">      this.applyForm.value.firstName ?? <span class="hljs-string">''</span>,</div><div class="hljs-ln-line">      this.applyForm.value.lastName ?? <span class="hljs-string">''</span>,</div><div class="hljs-ln-line">      this.applyForm.value.email ?? <span class="hljs-string">''</span>,</div><div class="hljs-ln-line">    );</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="d9bvruz5d6s4tuafhg77ynow5">保存你的代码。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2ivt98pn4yu9uy8aydeoomd2s">在浏览器中打开应用程序并确认它运行没有任何错误。</p>
</li>

    </ol>
    
    </li>
    
    </ol>
    
    <div class="docs-alert docs-alert-note">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="1l0mcntc6fgiun8z05qtiv5cc"><strong>注意：</strong>本课程依赖于 
<code>fetch</code> 浏览器 API。有关拦截机制的支持，请参阅 
<a href="/guide/http">Http 客户端文档</a></p>

    </div>
    
    <div class="docs-alert docs-alert-summary">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="cpfusg73ee1d6ldc912su3glb"><strong>总结：</strong>在本课中，你更新了应用以使用本地 Web 服务器（
<code>json-server</code>），并使用异步服务方法来检索数据。</p>

    </div>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="alvijwnsbswzbqvfjnpvn6e6z">恭喜！你已成功完成本教程，准备继续构建更复杂的 Angular 应用。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="eqajcmkexzcwq950r90fqs3zj">如果你想了解更多，请考虑完成 Angular 的其他开发者
<a href="tutorials">教程</a>和
<a href="overview">指南</a>。</p>
