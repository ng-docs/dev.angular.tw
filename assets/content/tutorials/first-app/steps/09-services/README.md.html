<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="63jw9u4ujv24z0l5uphv9dp9e">Angular 服务</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/tutorials/first-app/steps/09-services/README.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8z6u8w9z2sllmcdmt2ilmk8pf">本课程示范了如何创建 Angular 服务并使用依赖注入将其包含在应用程序中。</p>

    <div class="docs-video-container">
      <iframe class="docs-video" src="https://www.youtube.com/embed/-jRxG84AzCI?si=rieGfJawp9xJ00Sz" allow="accelerometer; encrypted-media; gyroscope; picture-in-picture" allowfullscreen credentialless title="Video player"></iframe>
    </div>
    
  <h2 id="what-youll-learn">
    <a href="#what-youll-learn" class="docs-anchor" tabindex="-1" aria-label="Link to What you'll learn" data-ng_translator_product="100" data-ng_translator_ref_id="cy8qhuh22qozu5okjmjfdf3nx">你将学到什么</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="eh5xd0flx6kyyj6bxvwcf7b0c">你的应用有一个服务来为你的应用提供数据。在本课结束时，该服务从本地静态数据中读取数据。在后续课程中，你将更新该服务以从 Web 服务获取数据。</p>

  <h2 id="conceptual-preview-of-services">
    <a href="#conceptual-preview-of-services" class="docs-anchor" tabindex="-1" aria-label="Link to Conceptual preview of services" data-ng_translator_product="100" data-ng_translator_ref_id="copl288p1ysit3n9ndciwv2f8">服务的概念性预览</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5r6xo1zhoy3hw99e81kywsdpu">本教程会介绍 Angular 服务和依赖注入。</p>

  <h3 id="angular-services">
    <a href="#angular-services" class="docs-anchor" tabindex="-1" aria-label="Link to Angular services" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="63jw9u4ujv24z0l5uphv9dp9e">Angular 服务</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="aekmi2kaxjs13matmvtvbdl4k"><em>Angular 服务</em>为你提供了一种分离 Angular 应用程序数据和功能的方法，这些数据和功能可由应用程序中的多个组件使用。要被多个组件使用，服务必须是可<em>注入的</em>。由组件注入和使用的服务就成了该组件的依赖项。该组件依赖于这些服务，没有它们就无法运行。</p>

  <h3 id="dependency-injection">
    <a href="#dependency-injection" class="docs-anchor" tabindex="-1" aria-label="Link to Dependency injection" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ev35fdpq1f46jvj853hmazgoj">依赖注入</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="f1697wg05g6nsxkgsj7yeargn"><em>依赖注入</em>是一种用于管理应用程序组件和其他组件可以使用的服务的依赖关系的机制。</p>

    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="create-a-new-service-for-your-app">
    <a href="#create-a-new-service-for-your-app" class="docs-anchor" tabindex="-1" aria-label="Link to Create a new service for your app" data-ng_translator_product="100" data-ng_translator_ref_id="6548u3ur0ga0quvhf4wsit3g5">为你的应用创建一个新的服务</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="13t3aue2kpjqs1ulrzduz7dnk">此步骤为应用程序创建可注入服务。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8qxzh26n32qnw247t9h8ej3kf">在你的 IDE 的 
<strong>终端</strong> 窗格中：</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_ref_id="8frcif09w62kpccxwvjafu1rz">在你的项目目录中，导航到 
<code>first-app</code> 目录。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="275500hdel1a1p7oj17dzih4u">在 <code>first-app</code> 目录中，运行此命令以创建新服务。</p>
<div class="docs-code shell">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">ng generate service housing --skip-tests</div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="djpd1auvkjlnwtfldc83fg9ue">运行 <code>ng serve</code> 来构建应用程序并将其提供给 <code>http://localhost:4200</code>。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="52y8f5257rykh60pjuwtgkrag">确认此应用构建没有错误。在继续下一步之前，修正任何错误。</p>
</li>

    </ol>
    
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="add-static-data-to-the-new-service">
    <a href="#add-static-data-to-the-new-service" class="docs-anchor" tabindex="-1" aria-label="Link to Add static data to the new service" data-ng_translator_product="100" data-ng_translator_ref_id="21ftdfsx3rbzp7pc0ga9rx97k">向新的服务添加静态数据</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="eec9u1kq0rtbsdzy6euit0voh">此步骤向你的新服务添加一些示例数据。在后续的课程中，你会用一个 web 接口替换这些静态数据，以便像在真实应用中那样获取数据。目前，你的应用的新服务使用已经在 
<code>HomeComponent</code> 中本地创建的数据。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9r6pgvig5ms9l5ukrbwsza8xg">在 IDE 的<strong>编辑</strong>窗格中：</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2yede7vauf91qy6am7oie3mu3">在 <code>src/app/home/home.component.ts</code> 中，从 <code>HomeComponent</code> 复制 <code>housingLocationList</code> 变量及其数组值。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2j970qjopepddhctot79bqvvl">在 <code>src/app/housing.service.ts</code> 中：</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2g3cg0rf4nlbpcqc5o6qrm5rs">在 <code>HousingService</code> 类中，粘贴你上一步从 <code>HomeComponent</code> 复制出来的变量。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="cpkumf5pm802jzc3vo6pqlt07">在 
<code>HousingService</code> 类中，将这些函数粘贴在你刚复制的数据之后。这些函数允许依赖项访问服务的数据。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/10-routing/src/app/housing.service.ts" visiblelines="111,112,113,114,115,116,117" header="Service functions in src/app/housing.service.ts">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="aqaca4cm9kk7svexg5px8yne5">src/app/housing.service.ts 中的服务函数</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-string">import</span> {<span class="hljs-string">Injectable</span>} <span class="hljs-string">from</span> <span class="hljs-string">'@angular/core'</span><span class="hljs-string">;</span></div><div class="hljs-ln-line"><span class="hljs-string">import</span> {<span class="hljs-string">HousingLocation</span>} <span class="hljs-string">from</span> <span class="hljs-string">'./housinglocation'</span><span class="hljs-string">;</span></div><div class="hljs-ln-line"><span class="hljs-string">@Injectable({</span></div><div class="hljs-ln-line">  <span class="hljs-attr">providedIn:</span> <span class="hljs-string">'root'</span><span class="hljs-string">,</span></div><div class="hljs-ln-line"><span class="hljs-string">})</span></div><div class="hljs-ln-line"><span class="hljs-string">export</span> <span class="hljs-string">class</span> <span class="hljs-string">HousingService</span> {</div><div class="hljs-ln-line">  <span class="hljs-string">readonly</span> <span class="hljs-string">baseUrl</span> <span class="hljs-string">=</span> <span class="hljs-string">'https://angular.dev/assets/tutorials/common'</span><span class="hljs-string">;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-attr">protected housingLocationList:</span> <span class="hljs-string">HousingLocation</span>[] <span class="hljs-string">=</span> [</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">0</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Acme Fresh Start Housing'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Chicago'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'IL'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/bernard-hermant-CLKGGwIBTaY-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">4</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">1</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'A113 Transitional Housing'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Santa Monica'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/brandon-griggs-wR11KBaB86U-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">0</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">2</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Warm Beds Housing Support'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Juneau'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'AK'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/i-do-nothing-but-love-lAyXdl1-Wmc-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">1</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">3</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Homesteady Housing'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Chicago'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'IL'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/ian-macdonald-W8z6aiwfi1E-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">1</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">4</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Happy Homes Group'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Gary'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'IN'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/krzysztof-hepner-978RAXoXnH4-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">1</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">5</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Hopeful Apartment Group'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Oakland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/r-architecture-JvQ0Q5IkeMM-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">2</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">6</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Seriously Safe Towns'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Oakland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/phil-hearing-IYfp2Ixe9nM-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">5</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">7</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Hopeful Housing Solutions'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Oakland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/r-architecture-GGupkreKwxA-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">2</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">8</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Seriously Safe Towns'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Oakland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/saru-robert-9rP3mxf8qWI-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">10</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">9</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Capital Safe Towns'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Portland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'OR'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/webaliser-_TPTXZd9mOo-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">6</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">  ]<span class="hljs-string">;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-string">getAllHousingLocations():</span> <span class="hljs-string">HousingLocation</span>[] {</div><div class="hljs-ln-line">    <span class="hljs-string">return</span> <span class="hljs-string">this.housingLocationList;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-string">getHousingLocationById(id:</span> <span class="hljs-string">number):</span> <span class="hljs-string">HousingLocation</span> <span class="hljs-string">|</span> <span class="hljs-string">undefined</span> {</div><div class="hljs-ln-line">    <span class="hljs-string">return</span> <span class="hljs-string">this.housingLocationList.find((housingLocation)</span> <span class="hljs-string">=&gt;</span> <span class="hljs-string">housingLocation.id</span> <span class="hljs-string">===</span> <span class="hljs-string">id);</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="70azvw3c18u8dksnqi1oe9l1g">在以后的课程中你将用到这些功能。现在，只要了解这些函数会通过 id 返回特定的 <code>HousingLocation</code> 或整个列表就足够了。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1xfwp3qwlpj62y8jlva067glo">为 <code>HousingLocation</code> 添加文件级导入。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/10-routing/src/app/housing.service.ts" visiblelines="1" header="Import HousingLocation type in  src/app/housing.service.ts">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="3bfh3mict29jd78wl0tcya7kq">在 src/app/housing.service.ts 中导入 HousingLocation 类型</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-string">import</span> {<span class="hljs-string">Injectable</span>} <span class="hljs-string">from</span> <span class="hljs-string">'@angular/core'</span><span class="hljs-string">;</span></div><div class="hljs-ln-line"><span class="hljs-string">import</span> {<span class="hljs-string">HousingLocation</span>} <span class="hljs-string">from</span> <span class="hljs-string">'./housinglocation'</span><span class="hljs-string">;</span></div><div class="hljs-ln-line"><span class="hljs-string">@Injectable({</span></div><div class="hljs-ln-line">  <span class="hljs-attr">providedIn:</span> <span class="hljs-string">'root'</span><span class="hljs-string">,</span></div><div class="hljs-ln-line"><span class="hljs-string">})</span></div><div class="hljs-ln-line"><span class="hljs-string">export</span> <span class="hljs-string">class</span> <span class="hljs-string">HousingService</span> {</div><div class="hljs-ln-line">  <span class="hljs-string">readonly</span> <span class="hljs-string">baseUrl</span> <span class="hljs-string">=</span> <span class="hljs-string">'https://angular.dev/assets/tutorials/common'</span><span class="hljs-string">;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-attr">protected housingLocationList:</span> <span class="hljs-string">HousingLocation</span>[] <span class="hljs-string">=</span> [</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">0</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Acme Fresh Start Housing'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Chicago'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'IL'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/bernard-hermant-CLKGGwIBTaY-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">4</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">1</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'A113 Transitional Housing'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Santa Monica'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/brandon-griggs-wR11KBaB86U-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">0</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">2</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Warm Beds Housing Support'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Juneau'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'AK'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/i-do-nothing-but-love-lAyXdl1-Wmc-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">1</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">3</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Homesteady Housing'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Chicago'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'IL'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/ian-macdonald-W8z6aiwfi1E-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">1</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">4</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Happy Homes Group'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Gary'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'IN'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/krzysztof-hepner-978RAXoXnH4-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">1</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">5</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Hopeful Apartment Group'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Oakland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/r-architecture-JvQ0Q5IkeMM-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">2</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">6</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Seriously Safe Towns'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Oakland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/phil-hearing-IYfp2Ixe9nM-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">5</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">7</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Hopeful Housing Solutions'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Oakland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/r-architecture-GGupkreKwxA-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">2</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">8</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Seriously Safe Towns'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Oakland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'CA'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/saru-robert-9rP3mxf8qWI-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">10</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">false</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">    {</div><div class="hljs-ln-line">      <span class="hljs-attr">id:</span> <span class="hljs-number">9</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">name:</span> <span class="hljs-string">'Capital Safe Towns'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">city:</span> <span class="hljs-string">'Portland'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">state:</span> <span class="hljs-string">'OR'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">photo:</span> <span class="hljs-string">`$</span>{<span class="hljs-string">this.baseUrl</span>}<span class="hljs-string">/webaliser-_TPTXZd9mOo-unsplash.jpg`</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">availableUnits:</span> <span class="hljs-number">6</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">wifi:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">laundry:</span> <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">    },</div><div class="hljs-ln-line">  ]<span class="hljs-string">;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-string">getAllHousingLocations():</span> <span class="hljs-string">HousingLocation</span>[] {</div><div class="hljs-ln-line">    <span class="hljs-string">return</span> <span class="hljs-string">this.housingLocationList;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-string">getHousingLocationById(id:</span> <span class="hljs-string">number):</span> <span class="hljs-string">HousingLocation</span> <span class="hljs-string">|</span> <span class="hljs-string">undefined</span> {</div><div class="hljs-ln-line">    <span class="hljs-string">return</span> <span class="hljs-string">this.housingLocationList.find((housingLocation)</span> <span class="hljs-string">=&gt;</span> <span class="hljs-string">housingLocation.id</span> <span class="hljs-string">===</span> <span class="hljs-string">id);</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>

    </ol>
    </li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="52y8f5257rykh60pjuwtgkrag">确认此应用构建没有错误。在继续下一步之前，修正任何错误。</p>
</li>

    </ol>
    
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="inject-the-new-service-into-homecomponent">
    <a href="#inject-the-new-service-into-homecomponent" class="docs-anchor" tabindex="-1" aria-label="Link to Inject the new service into <code>HomeComponent</code>" data-ng_translator_product="100" data-ng_translator_ref_id="618xbo2euz9ciqzul7lxdr9me">将新服务注入到 
<code>HomeComponent</code></a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="5a7chpu10gagf2xquualk10km">此步骤将新服务注入到你的应用的 
<code>HomeComponent</code> 中，以便它能从服务中读取应用的数据。在后续的课程中，你会用一个实时数据源替换这些静态数据，以便像在真实应用中那样获取数据。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cgmaujw5lrzar1xxgstw85pjz">在 IDE 的<strong>编辑</strong>窗格中，打开 <code>src/app/home/home.component.ts</code> 文件：</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_ref_id="b4flommk3jvfezpv5uic2ii18">在 
<code>src/app/home/home.component.ts</code> 的顶部，添加 
<code>inject</code> 到从 
<code>@angular/core</code> 导入的条目中。这将把 
<code>inject</code> 函数导入到 
<code>HomeComponent</code> 类中。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/10-routing/src/app/home/home.component.ts" visiblelines="0" header="Update to src/app/home/home.component.ts">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="ahmo8esbzsqgrjyxv5p3ltsc8">更新 src/app/home/home.component.ts</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component, inject} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {CommonModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocationComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing-location/housing-location.component'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocation} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housinglocation'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingService} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing.service'</span>;</div><div class="hljs-ln-line">@Component({</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-home'</span>,</div><div class="hljs-ln-line">  standalone: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  imports: [CommonModule, HousingLocationComponent],</div><div class="hljs-ln-line">  template: `<span class="language-javascript"></span></div><div class="hljs-ln-line">    &lt;section&gt;</div><div class="hljs-ln-line">      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span></span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Filter by city"</span> /&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>&gt;</span>Search<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line">    &lt;/section&gt;</div><div class="hljs-ln-line">    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"results"</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">app-housing-location</span></span></div><div class="hljs-ln-line">        *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let housingLocation of housingLocationList"</span></div><div class="hljs-ln-line">        [<span class="hljs-attr">housingLocation</span>]=<span class="hljs-string">"housingLocation"</span></div><div class="hljs-ln-line">      &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">app-housing-location</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></div><div class="hljs-ln-line">  `,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./home.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeComponent</span> {</div><div class="hljs-ln-line">  housingLocationList: HousingLocation[] = [];</div><div class="hljs-ln-line">  housingService: HousingService = inject(HousingService);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  constructor() {</div><div class="hljs-ln-line">    this.housingLocationList = this.housingService.getAllHousingLocations();</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="60p2cjbgg3nyp8prqp2cc4jv6">为 <code>HousingService</code> 添加一个新的文件级导入：</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/10-routing/src/app/home/home.component.ts" visiblelines="4" header="Add import to src/app/home/home.component.ts">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="abuu30h7ricxjweprh2n09x0s">添加导入到 src/app/home/home.component.ts</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component, inject} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {CommonModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocationComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing-location/housing-location.component'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocation} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housinglocation'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingService} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing.service'</span>;</div><div class="hljs-ln-line">@Component({</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-home'</span>,</div><div class="hljs-ln-line">  standalone: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  imports: [CommonModule, HousingLocationComponent],</div><div class="hljs-ln-line">  template: `<span class="language-javascript"></span></div><div class="hljs-ln-line">    &lt;section&gt;</div><div class="hljs-ln-line">      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span></span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Filter by city"</span> /&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>&gt;</span>Search<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line">    &lt;/section&gt;</div><div class="hljs-ln-line">    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"results"</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">app-housing-location</span></span></div><div class="hljs-ln-line">        *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let housingLocation of housingLocationList"</span></div><div class="hljs-ln-line">        [<span class="hljs-attr">housingLocation</span>]=<span class="hljs-string">"housingLocation"</span></div><div class="hljs-ln-line">      &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">app-housing-location</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></div><div class="hljs-ln-line">  `,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./home.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeComponent</span> {</div><div class="hljs-ln-line">  housingLocationList: HousingLocation[] = [];</div><div class="hljs-ln-line">  housingService: HousingService = inject(HousingService);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  constructor() {</div><div class="hljs-ln-line">    this.housingLocationList = this.housingService.getAllHousingLocations();</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="3krmiacr5mu3esu2ktmo7p8zh">从 
<code>HomeComponent</code> 中删除 
<code>housingLocationList</code> 数组条目，并将 
<code>housingLocationList</code> 赋值为空数组 (
<code>[]</code>)。在接下来的几步中，你将更新代码以从 
<code>HousingService</code> 中获取数据。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="574zbb1kez7kxt9xsb3c9grcg">在 
<code>HomeComponent</code> 中，添加以下代码以注入新的服务并初始化应用的数据。
<code>constructor</code> 是创建此组件时运行的第一个函数。
<code>constructor</code> 中的代码将 
<code>housingLocationList</code> 赋值为调用 
<code>getAllHousingLocations</code> 返回的值。</p>
<div class="docs-code" path="adev/src/content/tutorials/first-app/steps/10-routing/src/app/home/home.component.ts" visiblelines="27,28,29,30,31" header="Initialize data from service in src/app/home/home.component.ts">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="6qvyv0dzyr8wusrttl3dn1yhf">在 src/app/home/home.component.ts 中从服务初始化数据</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component, inject} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {CommonModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocationComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing-location/housing-location.component'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingLocation} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housinglocation'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HousingService} <span class="hljs-keyword">from</span> <span class="hljs-string">'../housing.service'</span>;</div><div class="hljs-ln-line">@Component({</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-home'</span>,</div><div class="hljs-ln-line">  standalone: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  imports: [CommonModule, HousingLocationComponent],</div><div class="hljs-ln-line">  template: `<span class="language-javascript"></span></div><div class="hljs-ln-line">    &lt;section&gt;</div><div class="hljs-ln-line">      <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span></span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Filter by city"</span> /&gt;</span></div><div class="hljs-ln-line">        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"primary"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>&gt;</span>Search<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line">    &lt;/section&gt;</div><div class="hljs-ln-line">    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">section</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"results"</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">app-housing-location</span></span></div><div class="hljs-ln-line">        *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let housingLocation of housingLocationList"</span></div><div class="hljs-ln-line">        [<span class="hljs-attr">housingLocation</span>]=<span class="hljs-string">"housingLocation"</span></div><div class="hljs-ln-line">      &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">app-housing-location</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></div><div class="hljs-ln-line">  `,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./home.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HomeComponent</span> {</div><div class="hljs-ln-line">  housingLocationList: HousingLocation[] = [];</div><div class="hljs-ln-line">  housingService: HousingService = inject(HousingService);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  constructor() {</div><div class="hljs-ln-line">    this.housingLocationList = this.housingService.getAllHousingLocations();</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="8uij6jhvakgabd5ovukzbppcu">保存对 
<code>src/app/home/home.component.ts</code> 的更改，并确认你的应用构建没有错误。在继续下一步之前，修正任何错误。</p>
</li>

    </ol>
    
    </li>
    
    </ol>
    
    <div class="docs-alert docs-alert-summary">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="7spvp47dd9hveo333ha15k347"><strong>总结：</strong> 在本课中，你向应用添加了一个 Angular 服务，并将其注入到 
<code>HomeComponent</code> 类中。这将你的应用获取数据的方式进行了模块化。目前，新服务从一个静态数据数组中获取数据。在后续的课程中，你将重构此服务以从一个 API 端点获取数据。</p>

    </div>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="ep5mlw3d5q1ucm62jzem9a7pc">有关本课涵盖主题的更多信息，请访问：</p>

    <nav class="docs-pill-row">
      
    <a class="docs-pill" href="guide/di/creating-injectable-service" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2ozvddgoyzehzuiwkx7jxoo1j">创建可注入服务</a>
    
    <a class="docs-pill" href="guide/di" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="e1h26lwvp7ksnwtp8ngp9ngoj">Angular 中的依赖注入</a>
    
    <a class="docs-pill" href="cli/generate#service" data-ng_translator_product="100" data-ng_translator_ref_id="c9xesps8rizjx325kcgb1rzfc">ng generate service</a>
    
    <a class="docs-pill" href="cli/generate" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cw6l45pw27m5sdw8be02vpne3">ng generate</a>
    

    </nav>
    