<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">NgOptimizedImage 入門</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/image-optimization.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p><code>NgOptimizedImage</code> 指令可以輕鬆應用載入圖片時的效能最佳實踐。</p>
<p>該指令透過以下方式確保 <a href="http://web.dev/lcp" target="_blank">最大內容繪製 (LCP)</a> 圖片的載入優先級：</p>

  <ul class="docs-list">
    <li>自動在 <code>&lt;img&gt;</code> 標籤上設定 <code>fetchpriority</code> 屬性</li>
<li>預設情況下延遲載入其他圖片</li>
<li>在文件頭部自動生成預連線 link 標籤</li>
<li>自動生成 <code>srcset</code> 屬性</li>
<li>如果應用正在使用 SSR，則生成 <a href="https://developer.mozilla.org/docs/Web/HTML/Link_types/preload" target="_blank">preload hint</a></li>

  </ul>
  <p>除了最佳化 LCP 圖片的載入之外，<code>NgOptimizedImage</code> 還強制執行許多圖片最佳實踐，例如：</p>

  <ul class="docs-list">
    <li>使用 <a href="https://web.dev/image-cdns/#how-image-cdns-use-urls-to-indicate-optimization-options" target="_blank">圖片 CDN URL 來應用圖片最佳化</a></li>
<li>透過要求 <code>width</code> 和 <code>height</code> 來防止佈局偏移</li>
<li>在 <code>width</code> 或 <code>height</code> 設定不正確時發出警告</li>
<li>在渲染時圖片會發生視覺扭曲時發出警告</li>

  </ul>
  <p>如果你在 CSS 中使用背景圖片，請<a href="#how-to-migrate-your-background-image">從這裡開始</a>。</p>
<p><strong>注意：儘管 <code>NgOptimizedImage</code> 指令在 Angular v15 中成為穩定屬性，但它已被向後移植，並且在 v13.4.0 和 v14.3.0 版本中也作為穩定屬性提供。</strong></p>

  <h2 id="getting-started">
    <a href="#getting-started" class="docs-anchor" tabindex="-1" aria-label="Link to Getting Started">開始上手</a>
  </h2>
  
    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="import-ngoptimizedimage-directive">
    <a href="#import-ngoptimizedimage-directive" class="docs-anchor" tabindex="-1" aria-label="Link to Import <code>NgOptimizedImage</code> directive">匯入 <code>NgOptimizedImage</code> 指令</a>
  </h3>
  
      <p>從 <code>@angular/common</code> 匯入 <code>NgOptimizedImage</code> 指令：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { NgOptimizedImage } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/common'</span></span></code></pre>
    </pre>
  </div><p>並將其包含到獨立元件或 NgModule 的 <code>imports</code> 陣列中：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">imports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  NgOptimizedImage,</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // ...</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
    </pre>
  </div>
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="optional-set-up-a-loader">
    <a href="#optional-set-up-a-loader" class="docs-anchor" tabindex="-1" aria-label="Link to (Optional) Set up a Loader">（可選）建立載入器</a>
  </h3>
  
      <p>為了使用 NgOptimizedImage，圖片載入器並非<strong>必要</strong>，但是將載入器與圖片 CDN 結合使用可以啟用強大的效能屬性，包括為你的圖片自動生成 <code>srcset</code>。</p>
<p>有關建立載入器的簡要指南，請參見本頁末尾的<a href="#configuring-an-image-loader-for-ngoptimizedimage">設定圖片載入器</a>部分。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="enable-the-directive">
    <a href="#enable-the-directive" class="docs-anchor" tabindex="-1" aria-label="Link to Enable the directive">啟用該指令</a>
  </h3>
  
      <p>要啟用 <code>NgOptimizedImage</code> 指令，請將圖片的 <code>src</code> 屬性替換為 <code>ngSrc</code>。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div><p>如果你正在使用<a href="#built-in-loaders">內建的第三方載入器</a>，請確保從 <code>src</code> 中省略基本 URL 路徑，因為載入器會自動預先新增該路徑。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="mark-images-as-priority">
    <a href="#mark-images-as-priority" class="docs-anchor" tabindex="-1" aria-label="Link to Mark images as <code>priority</code>">將圖片標記為 <code>priority</code></a>
  </h3>
  
      <p>始終將頁面上的<a href="https://web.dev/lcp/#what-elements-are-considered" target="_blank">LCP 圖片</a>標記為 <code>priority</code>，以優先載入它。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"400"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"200"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> priority</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div><p>將圖片標記為 <code>priority</code> 會應用以下最佳化：</p>

  <ul class="docs-list">
    <li>設定 <code>fetchpriority=high</code>（在此處閱讀有關優先級提示的更多訊息：<a href="https://web.dev/priority-hints" target="_blank">here</a>）</li>
<li>設定 <code>loading=eager</code>（在此處閱讀有關原生延遲載入的更多訊息：<a href="https://web.dev/browser-level-image-lazy-loading" target="_blank">here</a>）</li>
<li>如果<a href="guide/ssr">在服務器上渲染</a>，則自動生成 <a href="https://developer.mozilla.org/docs/Web/HTML/Link_types/preload" target="_blank">preload link 元素</a>。</li>

  </ul>
  <p>如果 LCP 元素是不具有 <code>priority</code> 屬性的圖片，Angular 會在開發期間顯示警告。頁面的 LCP 元素可能會因多種因素而異（例如使用者螢幕的尺寸），因此一個頁面可能有多張圖片應標記為 <code>priority</code>。 有關更多詳細訊息，請參見 <a href="https://web.dev/css-web-vitals/#images-and-largest-contentful-paint-lcp" target="_blank">CSS for Web Vitals</a>。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="include-width-and-height">
    <a href="#include-width-and-height" class="docs-anchor" tabindex="-1" aria-label="Link to Include Width and Height">包含寬度和高度</a>
  </h3>
  
      <p>為了防止<a href="https://web.dev/css-web-vitals/#images-and-layout-shifts" target="_blank">與圖片相關的佈局偏移</a>，NgOptimizedImage 要求你為圖片指定高度和寬度，如下所示：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"400"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"200"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div><p>對於<strong>回應式圖片</strong>（你已設定樣式以使其相對於視口放大和縮小的圖片），<code>width</code> 和 <code>height</code> 屬性應為圖片檔案的固有大小。對於回應式圖片，設定 <code>sizes</code> 的值也很重要，<a href="#responsive-images">請點選此處</a>。</p>
<p>對於<strong>固定大小的圖片</strong>，<code>width</code> 和 <code>height</code> 屬性應反映圖片所需的渲染大小。這些屬性的縱橫比應始終與圖片的固有縱橫比對應。</p>
<p>注意：如果你不知道圖片的大小，請考慮使用『fill mode』來繼承父容器的大小，如下所述。</p>

    </li>
    
    </ol>
    
  <h2 id="using-fill-mode">
    <a href="#using-fill-mode" class="docs-anchor" tabindex="-1" aria-label="Link to Using <code>fill</code> mode">使用 <code>fill</code> 模式</a>
  </h2>
  <p>如果希望圖片填充包含元素，可以使用 <code>fill</code> 屬性。 當你想實現『背景圖片』行為時，這通常很有用。 當你不知道圖片的確切寬度和高度，但你有一個已知大小的父容器，並且希望將圖片放入其中時，它也很有用（請參閱下面的『object-fit』）。</p>
<p>將 <code>fill</code> 屬性新增到圖片時，你不需要也不應包含 <code>width</code> 和 <code>height</code>，如本例所示：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div><p>你可以使用 <a href="https://developer.mozilla.org/docs/Web/CSS/object-fit" target="_blank">object-fit</a> CSS 屬性來更改圖片填充其容器的方式。 如果你使用 <code>object-fit: "contain"</code> 設定圖片的樣式，則圖片將保持其縱橫比並被『letterboxed』以適合元素。 如果你設定 <code>object-fit: "cover"</code>，則元素將保持其縱橫比，完全填充元素，並且某些內容可能會被『裁剪』掉。</p>
<p>有關上述內容的視覺範例，請參見 <a href="https://developer.mozilla.org/docs/Web/CSS/object-fit" target="_blank">MDN object-fit 文件。</a></p>
<p>你還可以使用 <a href="https://developer.mozilla.org/docs/Web/CSS/object-position" target="_blank">object-position 屬性</a>來設定圖片的樣式，以調整其在包含元素中的位置。</p>

    <div class="docs-alert docs-alert-important">
    <p><strong>重要提示：</strong> 為了使『填充』圖片正確渲染，其父元素<strong>必須</strong>使用 <code>position: "relative"</code>、<code>position: "fixed"</code> 或 <code>position: "absolute"</code> 設定樣式。</p>

    </div>
    
  <h2 id="how-to-migrate-your-background-image">
    <a href="#how-to-migrate-your-background-image" class="docs-anchor" tabindex="-1" aria-label="Link to How to migrate your background image">如何遷移你的背景圖片</a>
  </h2>
  <p>這是一個從 <code>background-image</code> 遷移到 <code>NgOptimizedImage</code> 的簡單分步過程。 對於這些步驟，我們將把具有圖片背景的元素稱為『包含元素』：</p>

    <ol class="docs-ordered-list">
      <li>從包含元素中刪除 <code>background-image</code> 樣式。</li>
<li>確保包含元素具有 <code>position: "relative"</code>、<code>position: "fixed"</code> 或 <code>position: "absolute"</code>。</li>
<li>建立一個新的圖片元素作為包含元素的子元素，使用 <code>ngSrc</code> 以啟用 <code>NgOptimizedImage</code> 指令。</li>
<li>為該元素賦予 <code>fill</code> 屬性。 不要包含 <code>height</code> 和 <code>width</code>。</li>
<li>如果您認為此圖片可能是您的 <a href="https://web.dev/lcp/" target="_blank">LCP 元素</a>，請將 <code>priority</code> 屬性新增到影象元素。</li>

    </ol>
    <p>您可以按照<a href="#using-fill-mode">使用填充模式</a>部分中的描述，調整背景影象填充容器的方式。</p>

  <h2 id="using-placeholders">
    <a href="#using-placeholders" class="docs-anchor" tabindex="-1" aria-label="Link to Using placeholders">使用佔位符</a>
  </h2>
  
  <h3 id="automatic-placeholders">
    <a href="#automatic-placeholders" class="docs-anchor" tabindex="-1" aria-label="Link to Automatic placeholders">自動佔位符</a>
  </h3>
  <p>如果您使用的 CDN 或影象託管服務提供自動調整影象大小的功能，則 NgOptimizedImage 可以為您的影象顯示自動低解析度佔位符。透過將 <code>placeholder</code> 屬性新增到您的影象中來利用此屬性：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"400"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"200"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div><p>新增此屬性會自動使用您指定的影象載入器請求第二個較小版本的影象。此小影象將在您的影象載入時應用為帶有 CSS 模糊的 <code>background-image</code> 樣式。如果未提供影象載入器，則無法生成佔位符影象，並且會丟擲錯誤。</p>
<p>生成的佔位符的預設大小為 30px 寬。您可以透過在 <code>IMAGE_CONFIG</code> 提供者中指定畫素值來更改此大小，如下所示：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    provide: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">IMAGE_CONFIG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    useValue: {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      placeholderResolution: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">40</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
    </pre>
  </div><p>如果您希望模糊佔位符周圍有銳利邊緣，可以將影象包裹在帶有 <code>overflow: hidden</code> 樣式的包含 <code>&lt;div&gt;</code> 中。只要 <code>&lt;div&gt;</code> 與影象大小相同（例如透過使用 <code>width: fit-content</code> 樣式），佔位符的『模糊邊緣』就會被隱藏。</p>

  <h3 id="data-url-placeholders">
    <a href="#data-url-placeholders" class="docs-anchor" tabindex="-1" aria-label="Link to Data URL placeholders">Data URL 佔位符</a>
  </h3>
  <p>您還可以使用 base64 <a href="https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URLs" target="_blank">data URL</a>（無需影象載入器）來指定佔位符。data url 格式為 <code>data:image/[imagetype];[data]</code>，其中 <code>[imagetype]</code> 是影象格式（如 <code>png</code>），<code>[data]</code> 是影象的 base64 編碼。可以使用指令行或 JavaScript 完成該編碼。有關特定指令，請參閱 <a href="https://developer.mozilla.org/docs/Web/HTTP/Basics_of_HTTP/Data_URLs#encoding_data_into_base64_format" target="_blank">MDN 文件</a>。下面顯示了一個帶有截斷資料的 data URL 佔位符的範例：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"400"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"200"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"data:image/png;base64,iVBORw0K..."</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/&gt;</span></span></code></pre>
    </pre>
  </div><p>但是，大型 data URL 會增加 Angular 捆綁包的大小並減慢頁面載入速度。如果您無法使用影象載入器，Angular 團隊建議將 base64 佔位符影象保持在 4KB 以下，並僅在關鍵影象上使用它們。除了減小佔位符尺寸外，還可以考慮更改儲存影象時使用的影象格式或引數。在非常低的解析度下，這些引數會對檔案大小產生很大影響。</p>

  <h3 id="non-blurred-placeholders">
    <a href="#non-blurred-placeholders" class="docs-anchor" tabindex="-1" aria-label="Link to Non-blurred placeholders">非模糊佔位符</a>
  </h3>
  <p>預設情況下，NgOptimizedImage 會對影象佔位符應用 CSS 模糊效果。要渲染沒有模糊的佔位符，請提供一個 <code>placeholderConfig</code> 引數，該引數帶有一個包含 <code>blur</code> 屬性的物件，並將其設定為 false。例如：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"400"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"200"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> </span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  [placeholderConfig]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"{blur: false}"</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/&gt;</span></span></code></pre>
    </pre>
  </div>
  <h2 id="adjusting-image-styling">
    <a href="#adjusting-image-styling" class="docs-anchor" tabindex="-1" aria-label="Link to Adjusting image styling">調整影象樣式</a>
  </h2>
  <p>根據影象的樣式，新增 <code>width</code> 和 <code>height</code> 屬性可能會導致影象渲染方式不同。如果您的影象樣式以扭曲的縱橫比渲染影象，<code>NgOptimizedImage</code> 會向您發出警告。</p>
<p>您通常可以透過將 <code>height: auto</code> 或 <code>width: auto</code> 新增到影象樣式中來解決此問題。有關更多訊息，請參閱 <a href="https://web.dev/patterns/web-vitals-patterns/images/img-tag" target="_blank">web.dev 上關於 <code>&lt;img&gt;</code> 標籤的文章</a>。</p>
<p>如果影象上的 <code>width</code> 和 <code>height</code> 屬性阻止您使用 CSS 以您想要的方式調整影象大小，請考慮改用 <code>fill</code> 模式，並設定影象父元素的樣式。</p>

  <h2 id="performance-features">
    <a href="#performance-features" class="docs-anchor" tabindex="-1" aria-label="Link to Performance Features">效能屬性</a>
  </h2>
  <p>NgOptimizedImage 包含許多旨在提高應用載入效能的屬性。本節將介紹這些屬性。</p>

  <h3 id="add-resource-hints">
    <a href="#add-resource-hints" class="docs-anchor" tabindex="-1" aria-label="Link to Add resource hints">新增資源提示</a>
  </h3>
  <p>用於影象來源的 <a href="https://web.dev/preconnect-and-dns-prefetch" target="_blank"><code>preconnect</code> 資源提示</a> 可確保 LCP 影象儘快載入。</p>
<p>預連線 link 會為作為引數提供給<a href="#optional-set-up-a-loader">載入器</a>的域自動生成。如果無法自動識別影象來源，並且未檢測到 LCP 影象的預連線 link，則 <code>NgOptimizedImage</code> 將在開發期間發出警告。在這種情況下，您應該手動將資源提示新增到 <code>index.html</code>。在文件的 <code>&lt;head&gt;</code> 中，新增一個帶有 <code>rel="preconnect"</code> 的 <code>link</code> 標籤，如下所示：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">link</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> rel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"preconnect"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> href</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://my.cdn.origin"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span></code></pre>
    </pre>
  </div><p>要停用預連線警告，請注入 <code>PRECONNECT_CHECK_BLOCKLIST</code> 令牌：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {provide: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">PRECONNECT_CHECK_BLOCKLIST</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, useValue: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'https://your-domain.com'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
    </pre>
  </div><p>有關自動預連線生成的更多訊息，請參閱<a href="#why-is-a-preconnect-element-not-being-generated-for-my-image-domain">此處</a>。</p>

  <h3 id="request-images-at-the-correct-size-with-automatic-srcset">
    <a href="#request-images-at-the-correct-size-with-automatic-srcset" class="docs-anchor" tabindex="-1" aria-label="Link to Request images at the correct size with automatic <code>srcset</code>">使用自動 <code>srcset</code> 請求正確尺寸的圖片</a>
  </h3>
  <p>定義 <a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/srcset" target="_blank"><code>srcset</code> 屬性</a> 可確保瀏覽器為使用者的視口請求大小合適的影象，從而避免浪費時間下載過大的影象。<code>NgOptimizedImage</code> 會根據影象標籤上 <a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/sizes" target="_blank"><code>sizes</code> 屬性</a> 的存在與否和值，為影象生成適當的 <code>srcset</code>。</p>

  <h4 id="fixed-size-images">
    <a href="#fixed-size-images" class="docs-anchor" tabindex="-1" aria-label="Link to Fixed-size images">固定大小影象</a>
  </h4>
  <p>如果您的影象應該是『固定』大小的（即在各種裝置上大小相同，除了 <a href="https://web.dev/codelab-density-descriptors/" target="_blank">畫素密度</a>），則無需設定 <code>sizes</code> 屬性。可以從影象的 width 和 height 屬性自動生成 <code>srcset</code>，而無需進一步輸入。</p>
<p>生成的 srcset 範例：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ...</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> srcset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"image-400w.jpg 1x, image-800w.jpg 2x"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div>
  <h4 id="responsive-images">
    <a href="#responsive-images" class="docs-anchor" tabindex="-1" aria-label="Link to Responsive images">回應式影象</a>
  </h4>
  <p>如果您的影象應該是回應式的（即根據視口大小增長和縮小），那麼您將需要定義一個 <a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/sizes" target="_blank"><code>sizes</code> 屬性</a> 以生成 <code>srcset</code>。</p>
<p>如果您以前沒有使用過 <code>sizes</code>，一個好的開始是根據視口寬度進行設定。例如，如果您的 CSS 導致影象填充 100% 的視口寬度，請將 <code>sizes</code> 設定為 <code>100vw</code>，瀏覽器將選擇 <code>srcset</code> 中最接近視口寬度的影象（在考慮畫素密度之後）。如果您的影象僅可能佔據螢幕的一半（例如：在側邊欄中），請將 <code>sizes</code> 設定為 <code>50vw</code>，以確保瀏覽器選擇較小的影象。等等。</p>
<p>如果您發現以上內容未涵蓋您期望的影象行為，請參閱有關<a href="#advanced-sizes-values">高階 sizes 值</a>的文件。</p>
<p>請注意，<code>NgOptimizedImage</code> 會自動將 <code>"auto"</code> 前置到提供的 <code>sizes</code> 值。這是一種最佳化，可以提高在支援 <code>sizes="auto"</code> 的瀏覽器上選擇 srcset 的準確性，而會被不支援的瀏覽器忽略。</p>
<p>預設情況下，回應式斷點為：</p>
<p><code>[16, 32, 48, 64, 96, 128, 256, 384, 640, 750, 828, 1080, 1200, 1920, 2048, 3840]</code></p>
<p>如果您想自定義這些斷點，可以使用 <code>IMAGE_CONFIG</code> 提供者來完成：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    provide: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">IMAGE_CONFIG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    useValue: {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      breakpoints: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">48</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">96</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">128</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">384</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">640</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">750</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">828</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1920</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
    </pre>
  </div><p>如果您想手動定義 <code>srcset</code> 屬性，可以使用 <code>ngSrcset</code> 屬性提供您自己的屬性：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"hero.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrcset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"100w, 200w, 300w"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div><p>如果存在 <code>ngSrcset</code> 屬性，則 <code>NgOptimizedImage</code> 會根據包含的 sizes 生成並設定 <code>srcset</code>。請勿在 <code>ngSrcset</code> 中包含影象檔案名 - 該指令會從 <code>ngSrc</code> 推斷此訊息。該指令同時支援寬度描述符（例如 <code>100w</code>）和密度描述符（例如 <code>1x</code>）。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"hero.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrcset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"100w, 200w, 300w"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> sizes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"50vw"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div>
  <h3 id="disabling-automatic-srcset-generation">
    <a href="#disabling-automatic-srcset-generation" class="docs-anchor" tabindex="-1" aria-label="Link to Disabling automatic srcset generation">停用自動 srcset 生成</a>
  </h3>
  <p>要為單個影象停用 srcset 生成，您可以在影象上新增 <code>disableOptimizedSrcset</code> 屬性：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"about.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> disableOptimizedSrcset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div>
  <h3 id="disabling-image-lazy-loading">
    <a href="#disabling-image-lazy-loading" class="docs-anchor" tabindex="-1" aria-label="Link to Disabling image lazy loading">停用影象延遲載入</a>
  </h3>
  <p>預設情況下，<code>NgOptimizedImage</code> 為所有未標記為 <code>priority</code> 的影象設定 <code>loading=lazy</code>。您可以透過設定 <code>loading</code> 屬性為非 priority 影象停用此行為。此屬性接受以下值：<code>eager</code>、<code>auto</code> 和 <code>lazy</code>。<a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/loading#value" target="_blank">有關詳細訊息，請參閱標準影象 <code>loading</code> 屬性的文件</a>。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"400"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"200"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> loading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"eager"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div>
  <h3 id="advanced-sizes-values">
    <a href="#advanced-sizes-values" class="docs-anchor" tabindex="-1" aria-label="Link to Advanced 'sizes' values">高階 'sizes' 值</a>
  </h3>
  <p>您可能希望在不同尺寸的螢幕上以不同的寬度顯示影象。此模式的一個常見範例是基於網格或列的佈局，該佈局在行動裝置上渲染單列，在較大裝置上渲染兩列。您可以使用 <code>sizes</code> 屬性以『媒體查詢』語法捕獲此行為，如下所示：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"cat.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"400"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"200"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> sizes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"(max-width: 768px) 100vw, 50vw"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div><p>上面範例中的 <code>sizes</code> 屬性表示『我希望此影象在寬度小於 768px 的裝置上佔據 100% 的螢幕寬度。否則，我希望它佔據 50% 的螢幕寬度。』</p>
<p>有關 <code>sizes</code> 屬性的其他訊息，請參閱 <a href="https://web.dev/learn/design/responsive-images/#sizes" target="_blank">web.dev</a> 或 <a href="https://developer.mozilla.org/docs/Web/API/HTMLImageElement/sizes" target="_blank">mdn</a>。</p>

  <h2 id="configuring-an-image-loader-for-ngoptimizedimage">
    <a href="#configuring-an-image-loader-for-ngoptimizedimage" class="docs-anchor" tabindex="-1" aria-label="Link to Configuring an image loader for <code>NgOptimizedImage</code>">為 <code>NgOptimizedImage</code> 設定圖片載入器</a>
  </h2>
  <p>『載入器』是一個為給定影象檔案生成 <a href="https://web.dev/image-cdns/#how-image-cdns-use-urls-to-indicate-optimization-options" target="_blank">影象轉換 URL</a> 的函式。在適當的時候，<code>NgOptimizedImage</code> 會為影象設定大小、格式和影象質量轉換。</p>
<p><code>NgOptimizedImage</code> 既提供了一個不應用任何轉換的通用載入器，也為各種第三方圖片服務提供了載入器。它還支援編寫你自己的自定義載入器。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">載入器型別</th>
<th align="left">行為</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left">通用載入器</td>
<td align="left">通用載入器回傳的 URL 將始終與 <code>src</code> 的值對應。換句話說，此載入器不應用任何轉換。使用 Angular 為圖片提供服務的站點是此載入器的主要預期用例。</td>
</tr>
<tr>
<td align="left">第三方圖片服務的載入器</td>
<td align="left">第三方圖片服務的載入器回傳的 URL 將遵循該特定圖片服務使用的 API 約定。</td>
</tr>
<tr>
<td align="left">自定義載入器</td>
<td align="left">自定義載入器的行為由其開發者定義。如果你的圖片服務不受 <code>NgOptimizedImage</code> 預設定的載入器支援，則應使用自定義載入器。</td>
</tr>

      </tbody>
    </table>
  </div>
  <p>根據 Angular 應用常用的圖片服務，<code>NgOptimizedImage</code> 提供了預設定的載入器，以支援以下圖片服務：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">圖片服務</th>
<th align="left">Angular API</th>
<th align="left">文件</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left">Cloudflare 圖片大小調整</td>
<td align="left"><code>provideCloudflareLoader</code></td>
<td align="left"><a href="https://developers.cloudflare.com/images/image-resizing/" target="_blank">文件</a></td>
</tr>
<tr>
<td align="left">Cloudinary</td>
<td align="left"><code>provideCloudinaryLoader</code></td>
<td align="left"><a href="https://cloudinary.com/documentation/resizing_and_cropping" target="_blank">文件</a></td>
</tr>
<tr>
<td align="left">ImageKit</td>
<td align="left"><code>provideImageKitLoader</code></td>
<td align="left"><a href="https://docs.imagekit.io/" target="_blank">文件</a></td>
</tr>
<tr>
<td align="left">Imgix</td>
<td align="left"><code>provideImgixLoader</code></td>
<td align="left"><a href="https://docs.imgix.com/" target="_blank">文件</a></td>
</tr>
<tr>
<td align="left">Netlify</td>
<td align="left"><code>provideNetlifyLoader</code></td>
<td align="left"><a href="https://docs.netlify.com/image-cdn/overview/" target="_blank">文件</a></td>
</tr>

      </tbody>
    </table>
  </div>
  <p>要使用<strong>通用載入器</strong>，無需進行額外的程式碼更改。這是預設行為。</p>

  <h3 id="built-in-loaders">
    <a href="#built-in-loaders" class="docs-anchor" tabindex="-1" aria-label="Link to Built-in Loaders">內建載入器</a>
  </h3>
  <p>要使用<strong>第三方圖片服務</strong>的現有載入器，請將你選擇的服務的提供者工廠新增到 <code>providers</code> 陣列。在下面的範例中，使用了 Imgix 載入器：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  provideImgixLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'https://my.base.url/'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">),</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
    </pre>
  </div><p>你的圖片資產的基本 URL 應作為引數傳遞給提供者工廠。對於大多數站點，此基本 URL 應與以下模式之一對應：</p>

  <ul class="docs-list">
    <li><a href="https://yoursite.yourcdn.com" target="_blank">https://yoursite.yourcdn.com</a></li>
<li><a href="https://subdomain.yoursite.com" target="_blank">https://subdomain.yoursite.com</a></li>
<li><a href="https://subdomain.yourcdn.com/yoursite" target="_blank">https://subdomain.yourcdn.com/yoursite</a></li>

  </ul>
  <p>你可以在相應 CDN 提供商的文件中瞭解有關基本 URL 結構的更多訊息。</p>

  <h3 id="custom-loaders">
    <a href="#custom-loaders" class="docs-anchor" tabindex="-1" aria-label="Link to Custom Loaders">自定義載入器</a>
  </h3>
  <p>要使用<strong>自定義載入器</strong>，請將你的載入器函式作為 <code>IMAGE_LOADER</code> DI 令牌的值提供。在下面的範例中，自定義載入器函式回傳一個以 <code>https://example.com</code> 開頭的 URL，其中包含 <code>src</code> 和 <code>width</code> 作為 URL 引數。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    provide: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">IMAGE_LOADER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    useValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ImageLoaderConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> `https://example.com/images?src=${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">src</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}&amp;width=${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">width</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
    </pre>
  </div><p><code>NgOptimizedImage</code> 指令的載入器函式接受一個型別為 <code>ImageLoaderConfig</code>（來自 <code>@angular/common</code>）的物件作為其引數，並回傳圖片資產的絕對 URL。<code>ImageLoaderConfig</code> 物件包含 <code>src</code> 屬性，以及可選的 <code>width</code> 和 <code>loaderParams</code> 屬性。</p>

    <div class="docs-alert docs-alert-note">
    <p><strong>注意：</strong> 即使 <code>width</code> 屬性可能並不總是存在，自定義載入器也必須使用它來支援請求各種寬度的圖片，以便 <code>ngSrcset</code> 正常工作。</p>

    </div>
    
  <h3 id="the-loaderparams-property">
    <a href="#the-loaderparams-property" class="docs-anchor" tabindex="-1" aria-label="Link to The <code>loaderParams</code> Property"><code>loaderParams</code> 屬性</a>
  </h3>
  <p><code>NgOptimizedImage</code> 指令支援一個額外的屬性，名為 <code>loaderParams</code>，它專門用於支援自定義載入器的使用。<code>loaderParams</code> 屬性接受一個包含任意屬性的物件作為值，並且自身不做任何事情。<code>loaderParams</code> 中的資料會新增到傳遞給你的自定義載入器的 <code>ImageLoaderConfig</code> 物件中，並可用於控制載入器的行為。</p>
<p><code>loaderParams</code> 的常見用途是控制高階圖片 CDN 功能。</p>

  <h3 id="example-custom-loader">
    <a href="#example-custom-loader" class="docs-anchor" tabindex="-1" aria-label="Link to Example custom loader">自定義載入器範例</a>
  </h3>
  <p>下面展示了一個自定義載入器函式的範例。此範例函式連線了 <code>src</code> 和 <code>width</code>，並使用 <code>loaderParams</code> 來控制自定義 CDN 的圓角功能：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> myCustomLoader</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ImageLoaderConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> `https://example.com/images/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">src</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}?`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> queryParams </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [];</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (config.width) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    queryParams.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`w=${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">width</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (config.loaderParams?.roundedCorners) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    queryParams.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'mask=corners&amp;corner-radius=5'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> url </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> queryParams.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">join</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'&amp;'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">};</span></span></code></pre>
    </pre>
  </div><p>請注意，在上面的範例中，我們發明了 'roundedCorners' 屬性名稱來控制自定義載入器的功能。然後，我們可以在建立圖片時使用此功能，如下所示：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"profile.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"300"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"300"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> [loaderParams]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"{roundedCorners: true}"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
    </pre>
  </div>
  <h2 id="frequently-asked-questions">
    <a href="#frequently-asked-questions" class="docs-anchor" tabindex="-1" aria-label="Link to Frequently Asked Questions">常見問題解答</a>
  </h2>
  
  <h3 id="does-ngoptimizedimage-support-the-background-image-css-property">
    <a href="#does-ngoptimizedimage-support-the-background-image-css-property" class="docs-anchor" tabindex="-1" aria-label="Link to Does NgOptimizedImage support the <code>background-image</code> css property?">NgOptimizedImage 是否支援 <code>background-image</code> css 屬性？</a>
  </h3>
  <p>NgOptimizedImage 不直接支援 <code>background-image</code> css 屬性，但它旨在輕鬆適應將圖片作為另一個元素的背景的用例。</p>
<p>有關從 <code>background-image</code> 遷移到 <code>NgOptimizedImage</code> 的分步過程，請參閱上面的<a href="#how-to-migrate-your-background-image">如何遷移你的背景圖片</a>部分。</p>

  <h3 id="why-cant-i-use-src-with-ngoptimizedimage">
    <a href="#why-cant-i-use-src-with-ngoptimizedimage" class="docs-anchor" tabindex="-1" aria-label="Link to Why can't I use <code>src</code> with <code>NgOptimizedImage</code>?">為什麼我不能將 <code>src</code> 與 <code>NgOptimizedImage</code> 一起使用？</a>
  </h3>
  <p>選擇 <code>ngSrc</code> 屬性作為 NgOptimizedImage 的觸發器是出於瀏覽器載入圖片方式的技術考慮。NgOptimizedImage 對 <code>loading</code> 屬性進行程式設計更改——如果瀏覽器在進行這些更改之前看到 <code>src</code> 屬性，它將開始急性載入圖片檔案，並且載入更改將被忽略。</p>

  <h3 id="why-is-a-preconnect-element-not-being-generated-for-my-image-domain">
    <a href="#why-is-a-preconnect-element-not-being-generated-for-my-image-domain" class="docs-anchor" tabindex="-1" aria-label="Link to Why is a preconnect element not being generated for my image domain?">為什麼沒有為我的圖片域生成預連線元素？</a>
  </h3>
  <p>預連線生成是基於對你的應用的靜態分析執行的。這意味著圖片域必須直接包含在載入器引數中，如下例所示：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  provideImgixLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'https://my.base.url/'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">),</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
    </pre>
  </div><p>如果你使用變數將域字串傳遞給載入器，或者你沒有使用載入器，則靜態分析將無法識別該域，並且不會生成預連線 link。在這種情況下，你應該手動將預連線 link 新增到文件頭部，如<a href="#add-resource-hints">上面所述</a>。</p>

  <h3 id="can-i-use-two-different-image-domains-in-the-same-page">
    <a href="#can-i-use-two-different-image-domains-in-the-same-page" class="docs-anchor" tabindex="-1" aria-label="Link to Can I use two different image domains in the same page?">我可以在同一頁面中使用兩個不同的圖片域嗎？</a>
  </h3>
  <p><a href="#configuring-an-image-loader-for-ngoptimizedimage">圖片載入器</a>提供者模式旨在儘可能簡單，以適應在元件中僅使用單個圖片 CDN 的常見用例。但是，仍然可以使用單個提供者來管理多個圖片 CDN。</p>
<p>為此，我們建議編寫一個<a href="#custom-loaders">自定義圖片載入器</a>，它使用<a href="#the-loaderparams-property"><code>loaderParams</code> 屬性</a>來傳遞一個標誌，該標誌指定應使用哪個圖片 CDN，然後根據該標誌呼叫相應的載入器。</p>

  <h3 id="can-you-add-a-new-built-in-loader-for-my-preferred-cdn">
    <a href="#can-you-add-a-new-built-in-loader-for-my-preferred-cdn" class="docs-anchor" tabindex="-1" aria-label="Link to Can you add a new built-in loader for my preferred CDN?">你能為我首選的 CDN 新增一個新的內建載入器嗎？</a>
  </h3>
  <p>出於維護原因，我們目前不計劃在 Angular 程式碼倉庫中支援額外的內建載入器。相反，我們鼓勵開發者將任何額外的圖片載入器作為第三方軟體套件發布。</p>

  <h3 id="can-i-use-this-with-the-picture-tag">
    <a href="#can-i-use-this-with-the-picture-tag" class="docs-anchor" tabindex="-1" aria-label="Link to Can I use this with the <code><picture></code> tag">我可以將其與 <code>&lt;picture&gt;</code> 標籤一起使用嗎</a>
  </h3>
  <p>不，但這已在我們的路線圖上，敬請關注。</p>
<p>如果您正在等待這個屬性，請在 Github issue <a href="https://github.com/angular/angular/issues/56594" target="_blank">這裡</a> 投贊成票。</p>

  <h3 id="how-do-i-find-my-lcp-image-with-chrome-devtools">
    <a href="#how-do-i-find-my-lcp-image-with-chrome-devtools" class="docs-anchor" tabindex="-1" aria-label="Link to How do I find my LCP image with Chrome DevTools?">如何使用 Chrome DevTools 找到我的 LCP 影象？</a>
  </h3>
  
    <ol class="docs-ordered-list">
      <li><p>使用 Chrome DevTools 的效能標籤頁，點選左上角的『開始分析並重新載入頁面』按鈕。它看起來像一個頁面重新整理圖示。</p>
</li>
<li><p>這將觸發你的 Angular 應用的效能分析快照。</p>
</li>
<li><p>一旦效能分析結果可用，在時序部分選擇 『LCP』。</p>
</li>
<li><p>底部面板中應該會出現一個摘要條目。你可以在 『相關節點』 行中找到 LCP 元素。點選它將在『元素』面板中顯示該元素。</p>
</li>

    </ol>
    <img alt="LCP in the Chrome DevTools" src="assets/images/guide/image-optimization/devtools-lcp.png">

<p>注意：這僅識別您正在測試的頁面視口內的 LCP 元素。還建議使用行動裝置模擬來識別較小螢幕的 LCP 元素。</p>
