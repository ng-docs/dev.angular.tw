<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="cdzt47k44s3ld0g2lsx3frsix">属性型指令</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/directives/attribute-directives.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="clkah1g0umbz68d0n7zqccutu">使用属性型指令，可以更改 DOM 元素和 Angular 组件的外观或行为。</p>

  <h2 id="building-an-attribute-directive">
    <a href="#building-an-attribute-directive" class="docs-anchor" tabindex="-1" aria-label="Link to Building an attribute directive" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3782jn37gabxu8ofs9zh2s0wq">构建属性型指令</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="93z4s07x9efe5r62ti1bn7b2h">本节将引导你创建“突出显示”指令，该指令会将宿主元素的背景色设置为黄色。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_ref_id="8a6mptpjwak6jnjel5gut5x95">要创建指令，请使用 CLI 命令 
<a href="tools/cli/schematics"><code>ng generate directive</code></a>。</p>
<div class="docs-code shell">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">ng generate directive highlight</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="quvzbwynjuvij261jbzb17qp">CLI 会创建 
<code>src/app/highlight.directive.ts</code> 和对应的测试文件 
<code>src/app/highlight.directive.spec.ts</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.0.ts" header="src/app/highlight.directive.ts">
    <div class="docs-code-header"><h3>src/app/highlight.directive.ts</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Directive} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@Directive({</div><div class="hljs-ln-line">  standalone: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="8h1xqxguwqhsyqfs8diyop963"><code>@Directive()</code> 装饰器的配置属性指定了指令的 CSS 属性选择器，
<code>[appHighlight]</code>。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="6x8ee79zs6nvch6ei8jyc13dg">从 
<code>@angular/core</code> 导入 
<code>ElementRef</code>。
<code>ElementRef</code> 通过其 
<code>nativeElement</code> 属性直接访问宿主 DOM 元素。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="13idx63kfae5mgn5jfhqi8a13">在指令的 
<code>constructor()</code> 中添加 
<code>ElementRef</code>，以
<a href="guide/di">注入</a>对宿主 DOM 元素的引用，即你应用 
<code>appHighlight</code> 的元素。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9crcxltxro7b8mivayrlk8gmk">向 <code>HighlightDirective</code> 类中添加逻辑，将背景设置为黄色。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.1.ts" header="src/app/highlight.directive.ts">
    <div class="docs-code-header"><h3>src/app/highlight.directive.ts</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Directive</span>, <span class="hljs-title class_">ElementRef</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> el: ElementRef</span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">nativeElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = <span class="hljs-string">'yellow'</span>;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>

    </ol>
    
    <div class="docs-alert docs-alert-helpful">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="ehr4c11rhp15fksggw8vcel0v"><strong>提示：</strong>指令
<em>不</em>支持命名空间。</p>

    </div>
    <div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.avoid.html" visiblelines="0" header="src/app/app.component.avoid.html (unsupported)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="b8d8ylihvyrhph4kxnosp6x5h">src/app/app.component.avoid.html（不支持）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">app:Highlight</span>&gt;</span>This is invalid<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div></code>
    </pre>
  </div>
  <h2 id="applying-an-attribute-directive">
    <a href="#applying-an-attribute-directive" class="docs-anchor" tabindex="-1" aria-label="Link to Applying an attribute directive" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bilfq2qkp36tcd1bfsafbhfwh">应用属性型指令</a>
  </h2>
  
    <ol class="docs-ordered-list">
      <li>To use the <code>HighlightDirective</code>, add a <code>&lt;p&gt;</code> element to the HTML template with the directive as an attribute.<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.1.html" visiblelines="1" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My First Attribute Directive<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">appHighlight</span>&gt;</span>Highlight me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">appHighlight</span>=<span class="hljs-string">"yellow"</span>&gt;</span>Highlighted in yellow<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'orange'"</span>&gt;</span>Highlighted in orange<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span>&gt;</span>Highlighted with parent component's color<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="qk17u0tvy37agt3kvrje49m7">Angular 会创建 <code>HighlightDirective</code> 类的实例，并将 <code>&lt;p&gt;</code> 元素的引用注入到该指令的构造函数中，它会将 <code>&lt;p&gt;</code> 元素的背景样式设置为黄色。</p>

  <h2 id="handling-user-events">
    <a href="#handling-user-events" class="docs-anchor" tabindex="-1" aria-label="Link to Handling user events" data-ng_translator_product="100" data-ng_translator_ref_id="7pp18scug6z4dyduc3go16oub">处理用户事件</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6m89fw8rov48uzx5crbd6h7da">本节会展示如何检测用户何时将鼠标移入或移出元素以及如何通过设置或清除突出显示颜色来进行响应。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_ref_id="3imjzjgyfkf4dqmafpsixbvuz">从 '@angular/core' 导入 
<code>HostListener</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.2.ts" visiblelines="0" header="src/app/highlight.directive.ts (imports)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="9zfy7eafnbp2rbtga2l9dcm75">src/app/highlight.directive.ts（导入）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Directive</span>, <span class="hljs-title class_">ElementRef</span>, <span class="hljs-title class_">HostListener</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Input</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> el: ElementRef</span>) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseenter'</span>) <span class="hljs-title function_">onMouseEnter</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">'yellow'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseleave'</span>) <span class="hljs-title function_">onMouseLeave</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> <span class="hljs-title function_">highlight</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">nativeElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = color;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="8c4a6w9b3lxc9rjvmey10yn3s">添加两个事件处理器，当鼠标进入或离开时响应，每个处理器都有 
<code>@HostListener()</code> 装饰器。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.2.ts" visiblelines="10,11,12,13,14,15,16,17,18,19,20" header="src/app/highlight.directive.ts (mouse-methods)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="76g9kj2axivq2fjeoqt2i072p">src/app/highlight.directive.ts（鼠标方法）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Directive</span>, <span class="hljs-title class_">ElementRef</span>, <span class="hljs-title class_">HostListener</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Input</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> el: ElementRef</span>) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseenter'</span>) <span class="hljs-title function_">onMouseEnter</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">'yellow'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseleave'</span>) <span class="hljs-title function_">onMouseLeave</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> <span class="hljs-title function_">highlight</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">nativeElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = color;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="9z4gcv15el1muyvbay5vo2ynn">使用 
<code>@HostListener()</code> 装饰器订阅宿主属性型指令的 DOM 元素事件，在此例中为 
<code>&lt;p&gt;</code>。</p>

    <div class="docs-alert docs-alert-helpful">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="beu8qr28lm0ugucwiu3gn7geg"><strong>提示：</strong>处理器委托给辅助方法 
<code>highlight()</code>，该方法设置宿主 DOM 元素 
<code>el</code> 的颜色。</p>

    </div>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="21un9y884n4fp9o9zfqgad9od">完整的指令如下：</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.2.ts" header="src/app/highlight.directive.ts">
    <div class="docs-code-header"><h3>src/app/highlight.directive.ts</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Directive</span>, <span class="hljs-title class_">ElementRef</span>, <span class="hljs-title class_">HostListener</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Input</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> el: ElementRef</span>) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseenter'</span>) <span class="hljs-title function_">onMouseEnter</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">'yellow'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseleave'</span>) <span class="hljs-title function_">onMouseLeave</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> <span class="hljs-title function_">highlight</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">nativeElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = color;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="98jz3eujlr5zipe63amvu18sq">当指针悬停在 p 元素上时，背景颜色就会出现；而当指针移出时，背景颜色就会消失。</p>
<img alt="Second Highlight" src="assets/images/guide/attribute-directives/highlight-directive-anim.gif">


  <h2 id="passing-values-into-an-attribute-directive">
    <a href="#passing-values-into-an-attribute-directive" class="docs-anchor" tabindex="-1" aria-label="Link to Passing values into an attribute directive" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="evlpr0z4pecdroeyd72g40f1x">将值传递给属性型指令</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cprkhnissdk5zfm3jidacftg">本节将引导你在应用 <code>HighlightDirective</code> 时设置突出显示颜色。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_ref_id="5jv746uzv6mvederfxyso1i3u">在 
<code>highlight.directive.ts</code> 中，从 
<code>@angular/core</code> 导入 
<code>Input</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.3.ts" visiblelines="0" header="src/app/highlight.directive.ts (imports)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="9zfy7eafnbp2rbtga2l9dcm75">src/app/highlight.directive.ts（导入）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Directive</span>, <span class="hljs-title class_">ElementRef</span>, <span class="hljs-title class_">HostListener</span>, <span class="hljs-title class_">Input</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> el: ElementRef</span>) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@Input</span>() appHighlight = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseenter'</span>) <span class="hljs-title function_">onMouseEnter</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">appHighlight</span> || <span class="hljs-string">'red'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseleave'</span>) <span class="hljs-title function_">onMouseLeave</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> <span class="hljs-title function_">highlight</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">nativeElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = color;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="efzeb4dztbshq9zmslsag3min">添加一个 
<code>appHighlight</code> 
<code>@Input()</code> 属性。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.3.ts" visiblelines="9" header="src/app/highlight.directive.ts">
    <div class="docs-code-header"><h3>src/app/highlight.directive.ts</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Directive</span>, <span class="hljs-title class_">ElementRef</span>, <span class="hljs-title class_">HostListener</span>, <span class="hljs-title class_">Input</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> el: ElementRef</span>) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@Input</span>() appHighlight = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseenter'</span>) <span class="hljs-title function_">onMouseEnter</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">appHighlight</span> || <span class="hljs-string">'red'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseleave'</span>) <span class="hljs-title function_">onMouseLeave</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> <span class="hljs-title function_">highlight</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">nativeElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = color;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="dgofl09cb98qyfge5h61jy8yw"><code>@Input()</code> 装饰器向类添加元数据，使得指令的 
<code>appHighlight</code> 属性可用于绑定。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3m3812ehicwb6o3boatklp4bp">在 <code>app.component.ts</code>，将 <code>color</code> 属性添加到 <code>AppComponent</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.1.ts" visiblelines="9,10,11,12,13" header="src/app/app.component.ts (class)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="dean67m7kh0j13wrjva5ayvf8">src/app/app.component.ts（类）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HighlightDirective} <span class="hljs-keyword">from</span> <span class="hljs-string">'./highlight.directive'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@Component({</div><div class="hljs-ln-line">  standalone: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-root'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./app.component.1.html'</span>,</div><div class="hljs-ln-line">  imports: [HighlightDirective],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppComponent</span> {</div><div class="hljs-ln-line">  color = <span class="hljs-string">'yellow'</span>;</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2n6ahho5my5afef8cwub6cjgc">要同时应用指令和颜色，请通过 <code>appHighlight</code> 指令选择器使用属性绑定，将其设置为 <code>color</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.html" visiblelines="8" header="src/app/app.component.html (color)">
    <div class="docs-code-header"><h3>src/app/app.component.html (color)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My First Attribute Directive<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pick a highlight color<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='lightgreen'"</span>&gt;</span>Green</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='yellow'"</span>&gt;</span>Yellow</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='cyan'"</span>&gt;</span>Cyan</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span>&gt;</span>Highlight me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span> <span class="hljs-attr">defaultColor</span>=<span class="hljs-string">"violet"</span>&gt;</span></div><div class="hljs-ln-line">  Highlight me too!</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Mouse over the following lines to see fixed highlights<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>Highlighted in yellow<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">appHighlight</span>=<span class="hljs-string">"orange"</span>&gt;</span>Highlighted in orange<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ngNonBindable<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Use ngNonBindable to stop evaluation.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ngNonBindable</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> + <span class="hljs-number">1</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ngNonBindable with a directive<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ngNonBindable</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> +<span class="hljs-number">1</span> }}</span><span class="language-xml">, but will highlight yellow.</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="atbpmz78zsvw3fh8fcxdtk7wo"><code>[appHighlight]</code> 属性绑定执行两项任务：</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1jawhvyphxfuwycxd4ht3b2q7">将突出显示指令应用于 <code>&lt;p&gt;</code> 元素</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="78aizovj1wjkwvw1j3fl35c3n">通过属性绑定设置指令的突出显示颜色</li>

  </ul>
  </li>

    </ol>
    
  <h3 id="setting-the-value-with-user-input">
    <a href="#setting-the-value-with-user-input" class="docs-anchor" tabindex="-1" aria-label="Link to Setting the value with user input" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2nxspofomyqs6e1cyayflt4a0">通过用户输入设定值</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9g9kfw5yrg51qjcknhi0w8uud">本节指导你添加单选按钮，将你选择的颜色绑定到 <code>appHighlight</code> 指令。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3ea0oc0qmk6kyrdle0qw34kmh">将标记添加到 <code>app.component.html</code> 以选择颜色，如下所示：</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.html" visiblelines="0,1,2,3,4,5,6,7,8" header="src/app/app.component.html (v2)">
    <div class="docs-code-header"><h3>src/app/app.component.html (v2)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My First Attribute Directive<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pick a highlight color<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='lightgreen'"</span>&gt;</span>Green</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='yellow'"</span>&gt;</span>Yellow</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='cyan'"</span>&gt;</span>Cyan</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span>&gt;</span>Highlight me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span> <span class="hljs-attr">defaultColor</span>=<span class="hljs-string">"violet"</span>&gt;</span></div><div class="hljs-ln-line">  Highlight me too!</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Mouse over the following lines to see fixed highlights<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>Highlighted in yellow<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">appHighlight</span>=<span class="hljs-string">"orange"</span>&gt;</span>Highlighted in orange<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ngNonBindable<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Use ngNonBindable to stop evaluation.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ngNonBindable</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> + <span class="hljs-number">1</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ngNonBindable with a directive<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ngNonBindable</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> +<span class="hljs-number">1</span> }}</span><span class="language-xml">, but will highlight yellow.</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4cjehlfvsff0muh442bkqtm0q">修改 <code>AppComponent.color</code>，使其没有初始值。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.ts" visiblelines="9,10,11,12,13" header="src/app/app.component.ts (class)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="dean67m7kh0j13wrjva5ayvf8">src/app/app.component.ts（类）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {HighlightDirective} <span class="hljs-keyword">from</span> <span class="hljs-string">'./highlight.directive'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@Component({</div><div class="hljs-ln-line">  standalone: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-root'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./app.component.html'</span>,</div><div class="hljs-ln-line">  imports: [HighlightDirective],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppComponent</span> {</div><div class="hljs-ln-line">  color = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9bs4jbbekiyacbk2wlqjlklkc">在 <code>highlight.directive.ts</code> 中，修改 <code>onMouseEnter</code> 方法，让它首先尝试使用 <code>appHighlight</code> 进行高亮显示，如果 <code>appHighlight</code> 是 <code>undefined</code>，则回退为 <code>red</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.3.ts" visiblelines="11,12,13" header="src/app/highlight.directive.ts (mouse-enter)">
    <div class="docs-code-header"><h3>src/app/highlight.directive.ts (mouse-enter)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Directive</span>, <span class="hljs-title class_">ElementRef</span>, <span class="hljs-title class_">HostListener</span>, <span class="hljs-title class_">Input</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> el: ElementRef</span>) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@Input</span>() appHighlight = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseenter'</span>) <span class="hljs-title function_">onMouseEnter</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">appHighlight</span> || <span class="hljs-string">'red'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'mouseleave'</span>) <span class="hljs-title function_">onMouseLeave</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">highlight</span>(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> <span class="hljs-title function_">highlight</span>(<span class="hljs-params">color: <span class="hljs-built_in">string</span></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">el</span>.<span class="hljs-property">nativeElement</span>.<span class="hljs-property">style</span>.<span class="hljs-property">backgroundColor</span> = color;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7pe813fupq2ky4n2ciiwtf5kw">启动本应用的开发服务器，以验证用户可以通过单选按钮选择颜色。</p>
 <img alt="Animated gif of the refactored highlight directive changing color according to the radio button the user selects" src="assets/images/guide/attribute-directives/highlight-directive-v2-anim.gif"></li>

    </ol>
    
  <h2 id="binding-to-a-second-property">
    <a href="#binding-to-a-second-property" class="docs-anchor" tabindex="-1" aria-label="Link to Binding to a second property" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2x5hkp3td453rgs0r8iw31nw2">绑定到第二个属性</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6kxwmaf92zrfo9jsnwkcysf20">本节将指导你配置应用程序，以便开发人员可以设置默认颜色。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_ref_id="3rvnnq1b3z56v1qpxv4lmkn7n">在 
<code>HighlightDirective</code> 中添加第二个 
<code>Input()</code> 属性，名为 
<code>defaultColor</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.ts" visiblelines="9" header="src/app/highlight.directive.ts (defaultColor)">
    <div class="docs-code-header"><h3>src/app/highlight.directive.ts (defaultColor)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Directive, ElementRef, HostListener, Input} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive({</span></div><div class="hljs-ln-line">  standalone: true,</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> el: ElementRef) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@Input()</span> defaultColor = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@Input()</span> appHighlight = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener(<span class="hljs-string">'mouseenter'</span>)</span> onMouseEnter() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.highlight(<span class="hljs-keyword">this</span>.appHighlight || <span class="hljs-keyword">this</span>.defaultColor || <span class="hljs-string">'red'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener(<span class="hljs-string">'mouseleave'</span>)</span> onMouseLeave() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.highlight(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> highlight(color: string) {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.el.nativeElement.style.backgroundColor = color;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c97mgxmrpjniyr9o5hugjfeql">修改指令的 <code>onMouseEnter</code>，使其首先尝试使用 <code>appHighlight</code> 进行突出显示，然后尝试 <code>defaultColor</code>，如果两个属性都 <code>undefined</code>，则变回 <code>red</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/highlight.directive.ts" visiblelines="13,14,15" header="src/app/highlight.directive.ts (mouse-enter)">
    <div class="docs-code-header"><h3>src/app/highlight.directive.ts (mouse-enter)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Directive, ElementRef, HostListener, Input} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Directive({</span></div><div class="hljs-ln-line">  standalone: true,</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'[appHighlight]'</span>,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">HighlightDirective</span> {</div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> el: ElementRef) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@Input()</span> defaultColor = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@Input()</span> appHighlight = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener(<span class="hljs-string">'mouseenter'</span>)</span> onMouseEnter() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.highlight(<span class="hljs-keyword">this</span>.appHighlight || <span class="hljs-keyword">this</span>.defaultColor || <span class="hljs-string">'red'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener(<span class="hljs-string">'mouseleave'</span>)</span> onMouseLeave() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.highlight(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> highlight(color: string) {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.el.nativeElement.style.backgroundColor = color;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div></li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="eqp6mthuoljluwkudtpfkrc2h">要绑定到 
<code>AppComponent.color</code> 并回退到 "violet" 作为默认颜色，请添加以下 HTML。 在这种情况下，
<code>defaultColor</code> 绑定不使用方括号 
<code>[]</code>，因为它是静态的。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.html" visiblelines="10,11,12" header="src/app/app.component.html (defaultColor)">
    <div class="docs-code-header"><h3>src/app/app.component.html (defaultColor)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My First Attribute Directive<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pick a highlight color<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='lightgreen'"</span>&gt;</span>Green</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='yellow'"</span>&gt;</span>Yellow</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='cyan'"</span>&gt;</span>Cyan</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span>&gt;</span>Highlight me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span> <span class="hljs-attr">defaultColor</span>=<span class="hljs-string">"violet"</span>&gt;</span></div><div class="hljs-ln-line">  Highlight me too!</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Mouse over the following lines to see fixed highlights<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>Highlighted in yellow<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">appHighlight</span>=<span class="hljs-string">"orange"</span>&gt;</span>Highlighted in orange<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ngNonBindable<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Use ngNonBindable to stop evaluation.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ngNonBindable</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> + <span class="hljs-number">1</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ngNonBindable with a directive<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ngNonBindable</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> +<span class="hljs-number">1</span> }}</span><span class="language-xml">, but will highlight yellow.</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4444j9m1v3r965hf4wq5nhhaj">与组件一样，你可以将指令的多个属性绑定添加到宿主元素上。</p>
</li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9jnxrzbliu6c9iaf1lnxta7fk">如果没有默认颜色（defaultColor）绑定，则默认为红色。当用户选择一种颜色时，所选的颜色将成为突出显示的颜色。</p>
<img alt="Animated gif of final highlight directive that shows red color with no binding and violet with the default color set. When user selects color, the selection takes precedence." src="assets/images/guide/attribute-directives/highlight-directive-final-anim.gif">


  <h2 id="deactivating-angular-processing-with-ngnonbindable">
    <a href="#deactivating-angular-processing-with-ngnonbindable" class="docs-anchor" tabindex="-1" aria-label="Link to Deactivating Angular processing with <code>NgNonBindable</code>" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1onrx5nnpj0vm9b4ldkuuunbe">通过 <code>NgNonBindable</code> 停用 Angular 处理过程</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="znijcfvn9z8byiaqanf34fae">要防止在浏览器中进行表达式求值，请将 <code>ngNonBindable</code> 添加到宿主元素。<code>ngNonBindable</code> 会停用模板中的插值、指令和绑定。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7n3emgugenpvob8hbb7zgdfll">在下面的示例中，表达式 <code>{{ 1 + 1 }}</code> 的渲染方式会和在代码编辑器的一样，而不会显示 <code>2</code>。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.html" visiblelines="23,24" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><span role="presentation" class="hljs-ln-number">1</span><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My First Attribute Directive<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><span role="presentation" class="hljs-ln-number">2</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">3</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pick a highlight color<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">4</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">5</span><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='lightgreen'"</span>&gt;</span>Green</div><span role="presentation" class="hljs-ln-number">6</span><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='yellow'"</span>&gt;</span>Yellow</div><span role="presentation" class="hljs-ln-number">7</span><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='cyan'"</span>&gt;</span>Cyan</div><span role="presentation" class="hljs-ln-number">8</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">9</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span>&gt;</span>Highlight me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">10</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">11</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span> <span class="hljs-attr">defaultColor</span>=<span class="hljs-string">"violet"</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">12</span><div class="hljs-ln-line">  Highlight me too!</div><span role="presentation" class="hljs-ln-number">13</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">14</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">15</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><span role="presentation" class="hljs-ln-number">16</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Mouse over the following lines to see fixed highlights<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">17</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">18</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>Highlighted in yellow<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">19</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">appHighlight</span>=<span class="hljs-string">"orange"</span>&gt;</span>Highlighted in orange<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">20</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">21</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><span role="presentation" class="hljs-ln-number">22</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">23</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ngNonBindable<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">24</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Use ngNonBindable to stop evaluation.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">25</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ngNonBindable</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> + <span class="hljs-number">1</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><span role="presentation" class="hljs-ln-number">26</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">27</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ngNonBindable with a directive<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">28</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ngNonBindable</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> +<span class="hljs-number">1</span> }}</span><span class="language-xml">, but will highlight yellow.</span></div><span role="presentation" class="hljs-ln-number">29</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">30</span><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="95izp8527lnqantfpkgzyxu59">将 <code>ngNonBindable</code> 应用于元素将停止对该元素的子元素的绑定。但是，<code>ngNonBindable</code> 仍然允许指令在应用 <code>ngNonBindable</code> 的元素上工作。在以下示例中，<code>appHighlight</code> 指令仍处于活跃状态，但 Angular 不会对表达式 <code>{{ 1 + 1 }}</code> 求值。</p>
<div class="docs-code" path="adev/src/content/examples/attribute-directives/src/app/app.component.html" visiblelines="26,27,28" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><span role="presentation" class="hljs-ln-number">1</span><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>My First Attribute Directive<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><span role="presentation" class="hljs-ln-number">2</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">3</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pick a highlight color<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">4</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">5</span><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='lightgreen'"</span>&gt;</span>Green</div><span role="presentation" class="hljs-ln-number">6</span><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='yellow'"</span>&gt;</span>Yellow</div><span role="presentation" class="hljs-ln-number">7</span><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"colors"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"color='cyan'"</span>&gt;</span>Cyan</div><span role="presentation" class="hljs-ln-number">8</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">9</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span>&gt;</span>Highlight me!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">10</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">11</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"color"</span> <span class="hljs-attr">defaultColor</span>=<span class="hljs-string">"violet"</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">12</span><div class="hljs-ln-line">  Highlight me too!</div><span role="presentation" class="hljs-ln-number">13</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">14</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">15</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><span role="presentation" class="hljs-ln-number">16</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Mouse over the following lines to see fixed highlights<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">17</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">18</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>Highlighted in yellow<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">19</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">appHighlight</span>=<span class="hljs-string">"orange"</span>&gt;</span>Highlighted in orange<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">20</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">21</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><span role="presentation" class="hljs-ln-number">22</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">23</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>ngNonBindable<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">24</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Use ngNonBindable to stop evaluation.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">25</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">ngNonBindable</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> + <span class="hljs-number">1</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><span role="presentation" class="hljs-ln-number">26</span><div class="hljs-ln-line"></div><span role="presentation" class="hljs-ln-number">27</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>ngNonBindable with a directive<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">28</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ngNonBindable</span> [<span class="hljs-attr">appHighlight</span>]=<span class="hljs-string">"'yellow'"</span>&gt;</span>This should not evaluate: <span class="hljs-template-variable">{{ <span class="hljs-name">1</span> +<span class="hljs-number">1</span> }}</span><span class="language-xml">, but will highlight yellow.</span></div><span role="presentation" class="hljs-ln-number">29</span><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><span role="presentation" class="hljs-ln-number">30</span><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a1ouewdyny7ewn3er3xlcarkf">如果将 <code>ngNonBindable</code> 应用于父元素，则 Angular 会禁用该元素的子元素的任何插值和绑定，比如属性绑定或事件绑定。</p>
