<div class="docs-decorative-header-container">
      <div class="docs-decorative-header">
        <div class="docs-header-content">
          <docs-breadcrumb></docs-breadcrumb>

          
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="9aw613xpbz14ptvcnmvmy4lkr">Angular 中的表单</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/forms/overview.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>

          <p data-ng_translator_product="100" data-ng_translator_ref_id="9oufx0l52stwqar0vyyd6r6jb"><!-- markdownlint-disable-line -->
处理用户输入的表单是许多常见应用的基石。</p>
        </div>

        <!-- illustration -->
        <svg width="273" height="192" viewbox="0 0 273 192" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M196.829 31.3324H19.6283C16.1156 31.3324 13.268 34.18 13.268 37.6928V136.836C13.268 140.349 16.1156 143.196 19.6283 143.196H196.829C200.342 143.196 203.189 140.349 203.189 136.836V37.6928C203.189 34.18 200.342 31.3324 196.829 31.3324Z" fill="white" />
  <path d="M196.844 31.7092C200.145 31.7092 202.828 34.392 202.828 37.6928V136.851C202.828 140.152 200.145 142.835 196.844 142.835H19.6283C16.3276 142.835 13.6448 140.152 13.6448 136.851V37.6928C13.6448 34.392 16.3276 31.7092 19.6283 31.7092H196.844ZM196.844 30.9556H19.6283C15.9056 30.9556 12.8912 33.97 12.8912 37.6928V136.851C12.8912 140.574 15.9056 143.588 19.6283 143.588H196.844C200.567 143.588 203.581 140.574 203.581 136.851V37.6928C203.581 33.97 200.567 30.9556 196.844 30.9556Z" fill="var(--primary-contrast)" />
  <path d="M13.3581 41.1293H105.011V143.076H19.8993C16.2971 143.076 13.3581 140.152 13.3581 136.535V41.1143V41.1293Z" fill="#EFEFF1" stroke="var(--primary-contrast)" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M13.268 41.1745V35.3719C13.268 33.1563 15.0766 31.3477 17.2922 31.3477H199.03C201.215 31.3477 203.024 33.1261 203.054 35.2965L203.174 41.1745H13.2529H13.268Z" fill="white" />
  <path d="M199.045 31.7092C201.019 31.7092 202.662 33.3219 202.692 35.2963L202.798 40.7976H13.6448V35.3717C13.6448 33.3521 15.2876 31.7243 17.2922 31.7243H199.03M199.03 30.9707H17.2922C14.8506 30.9707 12.8912 32.9451 12.8912 35.3717V41.5512H203.566L203.446 35.2813C203.4 32.8848 201.441 30.9556 199.045 30.9556L199.03 30.9707Z" fill="black" />
  <path d="M57.338 89.0128C64.9795 89.0128 71.174 82.8182 71.174 75.1767C71.174 67.5353 64.9795 61.3407 57.338 61.3407C49.6966 61.3407 43.502 67.5353 43.502 75.1767C43.502 82.8182 49.6966 89.0128 57.338 89.0128Z" fill="#F637E3" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M57.3382 77.1963C60.0685 77.1963 62.2818 74.9829 62.2818 72.2527C62.2818 69.5224 60.0685 67.3091 57.3382 67.3091C54.608 67.3091 52.3947 69.5224 52.3947 72.2527C52.3947 74.9829 54.608 77.1963 57.3382 77.1963Z" fill="white" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M57.3382 80.3315C54.2033 80.3315 48.1594 81.9593 47.5264 84.9284C50.0284 87.4605 53.51 89.028 57.3382 89.028C61.1665 89.028 64.6481 87.4605 67.1501 84.9284C66.502 81.9593 60.4431 80.3315 57.3382 80.3315Z" fill="white" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M15.3176 162.262V154.515H99.3737V164.357" stroke="var(--primary-contrast)" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M2.43108 162.639H28.2041C28.9728 162.639 29.6058 163.272 29.6058 164.041V189.814C29.6058 190.583 28.9728 191.216 28.2041 191.216H2.43108C1.66241 191.216 1.02939 190.583 1.02939 189.814V164.041C1.02939 163.272 1.66241 162.639 2.43108 162.639Z" fill="#5C44E4" />
  <path d="M28.2041 163.016C28.7618 163.016 29.229 163.468 29.229 164.041V189.814C29.229 190.371 28.7768 190.839 28.2041 190.839H2.43111C1.87344 190.839 1.40621 190.387 1.40621 189.814V164.041C1.40621 163.483 1.85837 163.016 2.43111 163.016H28.2041ZM28.2041 162.262H2.43111C1.45143 162.262 0.652618 163.061 0.652618 164.041V189.814C0.652618 190.793 1.45143 191.592 2.43111 191.592H28.2041C29.1838 191.592 29.9826 190.793 29.9826 189.814V164.041C29.9826 163.061 29.1838 162.262 28.2041 162.262Z" fill="black" />
  <path d="M44.4514 162.639H70.2244C70.9931 162.639 71.6261 163.272 71.6261 164.041V189.814C71.6261 190.583 70.9931 191.216 70.2244 191.216H44.4514C43.6828 191.216 43.0497 190.583 43.0497 189.814V164.041C43.0497 163.272 43.6828 162.639 44.4514 162.639Z" fill="#F637E3" />
  <path d="M70.2396 163.016C70.7972 163.016 71.2645 163.468 71.2645 164.041V189.814C71.2645 190.371 70.8123 190.839 70.2396 190.839H44.4666C43.9089 190.839 43.4417 190.387 43.4417 189.814V164.041C43.4417 163.483 43.8938 163.016 44.4666 163.016H70.2396ZM70.2396 162.262H44.4666C43.4869 162.262 42.6881 163.061 42.6881 164.041V189.814C42.6881 190.793 43.4869 191.592 44.4666 191.592H70.2396C71.2192 191.592 72.0181 190.793 72.0181 189.814V164.041C72.0181 163.061 71.2192 162.262 70.2396 162.262Z" fill="black" />
  <path d="M86.4872 162.639H112.26C113.029 162.639 113.662 163.272 113.662 164.041V189.814C113.662 190.583 113.029 191.216 112.26 191.216H86.4872C85.7186 191.216 85.0856 190.583 85.0856 189.814V164.041C85.0856 163.272 85.7186 162.639 86.4872 162.639Z" fill="#F11653" />
  <path d="M112.26 163.016C112.818 163.016 113.285 163.468 113.285 164.041V189.814C113.285 190.371 112.833 190.839 112.26 190.839H86.4873C85.9296 190.839 85.4624 190.387 85.4624 189.814V164.041C85.4624 163.483 85.9145 163.016 86.4873 163.016H112.26ZM112.26 162.262H86.4873C85.5076 162.262 84.7088 163.061 84.7088 164.041V189.814C84.7088 190.793 85.5076 191.592 86.4873 191.592H112.26C113.24 191.592 114.039 190.793 114.039 189.814V164.041C114.039 163.061 113.24 162.262 112.26 162.262Z" fill="black" />
  <path d="M57.3383 162.262V141.975" stroke="var(--primary-contrast)" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M21.1354 38.1451C22.1843 38.1451 23.0345 37.2948 23.0345 36.246C23.0345 35.1972 22.1843 34.3469 21.1354 34.3469C20.0866 34.3469 19.2364 35.1972 19.2364 36.246C19.2364 37.2948 20.0866 38.1451 21.1354 38.1451Z" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M28.3848 38.1451C29.4336 38.1451 30.2839 37.2948 30.2839 36.246C30.2839 35.1972 29.4336 34.3469 28.3848 34.3469C27.336 34.3469 26.4857 35.1972 26.4857 36.246C26.4857 37.2948 27.336 38.1451 28.3848 38.1451Z" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M71.6416 118.207H30.9624V119.835H71.6416V118.207Z" fill="white" />
  <path d="M71.2648 118.599V119.488H31.3392V118.599H71.2648ZM72.0184 117.845H30.5856V120.242H72.0184V117.845Z" fill="black" />
  <path d="M83.7142 110.37H30.9624V111.997H83.7142V110.37Z" fill="white" />
  <path d="M83.3524 110.746V111.636H31.3392V110.746H83.3524ZM84.106 109.993H30.5856V112.389H84.106V109.993Z" fill="black" />
  <path d="M83.7142 102.517H30.9624V104.145H83.7142V102.517Z" fill="white" />
  <path d="M83.3524 102.894V103.783H31.3392V102.894H83.3524ZM84.106 102.14H30.5856V104.537H84.106V102.14Z" fill="black" />
  <path d="M179.903 88.395H119.043C117.969 88.395 117.098 89.2654 117.098 90.3392V122.699C117.098 123.772 117.969 124.643 119.043 124.643H179.903C180.977 124.643 181.847 123.772 181.847 122.699V90.3392C181.847 89.2654 180.977 88.395 179.903 88.395Z" fill="#EFEFF1" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M181.471 66.7817H117.475V77.0457H181.471V66.7817Z" fill="#5C44E4" />
  <path d="M181.079 67.1583V76.6687H117.837V67.1583H181.079ZM181.832 66.4047H117.083V77.4223H181.832V66.4047Z" fill="black" />
  <path d="M174.176 73.775C175.624 73.775 176.798 72.6009 176.798 71.1525C176.798 69.7041 175.624 68.53 174.176 68.53C172.727 68.53 171.553 69.7041 171.553 71.1525C171.553 72.6009 172.727 73.775 174.176 73.775Z" stroke="white" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M178.381 75.2974L176.105 73.0215" stroke="white" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M35.6345 38.1451C36.6833 38.1451 37.5335 37.2948 37.5335 36.246C37.5335 35.1972 36.6833 34.3469 35.6345 34.3469C34.5857 34.3469 33.7354 35.1972 33.7354 36.246C33.7354 37.2948 34.5857 38.1451 35.6345 38.1451Z" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <g style="mix-blend-mode: multiply;">
    <path d="M232.609 80.9193C253.644 80.9193 270.696 63.8672 270.696 42.8325C270.696 21.7978 253.644 4.74573 232.609 4.74573C211.575 4.74573 194.523 21.7978 194.523 42.8325C194.523 63.8672 211.575 80.9193 232.609 80.9193Z" fill="var(--senary-contrast)" />
  </g>
  <path d="M227.606 75.855C248.432 75.855 265.316 58.9716 265.316 38.145C265.316 17.3184 248.432 0.435028 227.606 0.435028C206.779 0.435028 189.896 17.3184 189.896 38.145C189.896 58.9716 206.779 75.855 227.606 75.855Z" fill="#F11653" />
  <path d="M227.606 0.811854C248.194 0.811854 264.939 17.5568 264.939 38.145C264.939 58.7333 248.194 75.4782 227.606 75.4782C207.018 75.4782 190.273 58.7333 190.273 38.145C190.273 17.5568 207.018 0.811854 227.606 0.811854ZM227.606 0.0582581C206.565 0.0582581 189.519 17.1046 189.519 38.145C189.519 59.1854 206.565 76.2318 227.606 76.2318C248.646 76.2318 265.693 59.1854 265.693 38.145C265.693 17.1046 248.646 0.0582581 227.606 0.0582581Z" fill="black" />
  <path d="M207.244 38.7931L212.217 33.2919L222.105 44.1587L242.994 21.1288L247.968 26.6452L222.105 55.1763L207.244 38.7931Z" fill="white" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <g style="mix-blend-mode: multiply;">
    <path d="M145.268 158.102L161.666 156.821L131.492 140.167L139.827 173.611L145.268 158.102Z" fill="var(--senary-contrast)" />
  </g>
  <path d="M140.58 153.4L156.979 152.134L126.805 135.464L135.124 168.909L140.58 153.4Z" fill="white" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <g style="mix-blend-mode: multiply;">
    <path d="M268.511 117.288H204.304C202.69 117.288 201.38 118.597 201.38 120.212V184.418C201.38 186.033 202.69 187.342 204.304 187.342H268.511C270.126 187.342 271.435 186.033 271.435 184.418V120.212C271.435 118.597 270.126 117.288 268.511 117.288Z" fill="var(--senary-contrast)" />
  </g>
  <path d="M261.276 110.415H197.07C195.663 110.415 194.523 111.555 194.523 112.962V177.168C194.523 178.575 195.663 179.716 197.07 179.716H261.276C262.683 179.716 263.823 178.575 263.823 177.168V112.962C263.823 111.555 262.683 110.415 261.276 110.415Z" fill="#F11653" />
  <path d="M261.276 110.792C262.467 110.792 263.447 111.771 263.447 112.962V177.168C263.447 178.359 262.467 179.339 261.276 179.339H197.07C195.879 179.339 194.899 178.359 194.899 177.168V112.962C194.899 111.771 195.879 110.792 197.07 110.792H261.276ZM261.276 110.038H197.07C195.457 110.038 194.146 111.349 194.146 112.962V177.168C194.146 178.781 195.457 180.092 197.07 180.092H261.276C262.889 180.092 264.2 178.781 264.2 177.168V112.962C264.2 111.349 262.889 110.038 261.276 110.038Z" fill="black" />
  <path d="M253.951 102.713H189.745C188.13 102.713 186.821 104.022 186.821 105.637V169.844C186.821 171.458 188.13 172.768 189.745 172.768H253.951C255.566 172.768 256.875 171.458 256.875 169.844V105.637C256.875 104.022 255.566 102.713 253.951 102.713Z" fill="white" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M201.923 114.002H241.773C243.22 114.002 244.411 115.178 244.411 116.64V123.784C244.411 125.231 243.235 126.406 241.788 126.406H201.938C200.491 126.406 199.301 125.231 199.301 123.769V116.625C199.301 115.178 200.476 113.987 201.938 113.987L201.923 114.002Z" fill="white" />
  <path d="M241.773 114.756C242.813 114.756 243.642 115.6 243.642 116.625V123.769C243.642 124.809 242.798 125.638 241.773 125.638H201.923C200.883 125.638 200.054 124.794 200.054 123.769V116.625C200.054 115.585 200.898 114.756 201.923 114.756H241.773ZM241.773 113.248H201.923C200.069 113.248 198.547 114.771 198.547 116.625V123.769C198.547 125.623 200.069 127.145 201.923 127.145H241.773C243.627 127.145 245.15 125.623 245.15 123.769V116.625C245.15 114.771 243.627 113.248 241.773 113.248Z" fill="var(--primary-contrast)" />
  <path d="M210.348 117.86H205.676V122.533H210.348V117.86Z" fill="white" />
  <path d="M209.61 118.614V121.779H206.445V118.614H209.61ZM210.62 117.107H205.435C205.164 117.107 204.938 117.333 204.938 117.604V122.789C204.938 123.06 205.164 123.286 205.435 123.286H210.62C210.891 123.286 211.117 123.06 211.117 122.789V117.604C211.117 117.333 210.891 117.107 210.62 117.107Z" fill="var(--primary-contrast)" />
  <path d="M215.458 119.157H237.342" stroke="var(--primary-contrast)" stroke-width="1.86842" stroke-miterlimit="10" />
  <path d="M201.923 131.546H241.773C243.22 131.546 244.396 132.721 244.396 134.168V141.312C244.396 142.759 243.22 143.935 241.773 143.935H201.923C200.476 143.935 199.286 142.759 199.286 141.297V134.153C199.286 132.706 200.461 131.516 201.923 131.516V131.546Z" fill="white" />
  <path d="M241.773 132.299C242.813 132.299 243.642 133.143 243.642 134.168V141.312C243.642 142.352 242.798 143.181 241.773 143.181H201.923C200.883 143.181 200.054 142.337 200.054 141.312V134.168C200.054 133.128 200.898 132.299 201.923 132.299H241.773ZM241.773 130.792H201.923C200.069 130.792 198.547 132.314 198.547 134.168V141.312C198.547 143.166 200.069 144.688 201.923 144.688H241.773C243.627 144.688 245.15 143.166 245.15 141.312V134.168C245.15 132.314 243.627 130.792 241.773 130.792Z" fill="var(--primary-contrast)" />
  <path d="M210.348 135.404H205.676V140.076H210.348V135.404Z" fill="#DD0031" />
  <path d="M209.61 136.158V139.323H206.445V136.158H209.61ZM210.62 134.65H205.435C205.164 134.65 204.938 134.877 204.938 135.148V140.333C204.938 140.604 205.164 140.83 205.435 140.83H210.62C210.891 140.83 211.117 140.604 211.117 140.333V135.148C211.117 134.877 210.891 134.65 210.62 134.65Z" fill="var(--primary-contrast)" />
  <path d="M215.458 136.7H237.342" stroke="var(--primary-contrast)" stroke-width="1.86842" stroke-miterlimit="10" />
  <path d="M201.923 149.089H241.773C243.22 149.089 244.396 150.265 244.396 151.712V158.856C244.396 160.303 243.22 161.479 241.773 161.479H201.923C200.476 161.479 199.301 160.303 199.301 158.856V151.712C199.301 150.265 200.476 149.074 201.938 149.074L201.923 149.089Z" fill="white" />
  <path d="M241.773 149.843C242.813 149.843 243.642 150.687 243.642 151.712V158.856C243.642 159.896 242.798 160.725 241.773 160.725H201.923C200.883 160.725 200.054 159.881 200.054 158.856V151.712C200.054 150.672 200.898 149.843 201.923 149.843H241.773ZM241.773 148.336H201.923C200.069 148.336 198.547 149.858 198.547 151.712V158.856C198.547 160.71 200.069 162.232 201.923 162.232H241.773C243.627 162.232 245.15 160.71 245.15 158.856V151.712C245.15 149.858 243.627 148.336 241.773 148.336Z" fill="var(--primary-contrast)" />
  <path d="M210.348 152.948H205.676V157.62H210.348V152.948Z" fill="white" />
  <path d="M209.61 153.701V156.867H206.445V153.701H209.61ZM210.62 152.194H205.435C205.164 152.194 204.938 152.42 204.938 152.692V157.876C204.938 158.148 205.164 158.374 205.435 158.374H210.62C210.891 158.374 211.117 158.148 211.117 157.876V152.692C211.117 152.42 210.891 152.194 210.62 152.194Z" fill="var(--primary-contrast)" />
  <path d="M215.458 154.244H237.342" stroke="var(--primary-contrast)" stroke-width="1.86842" stroke-miterlimit="10" />
  <path d="M241.773 113.248H201.908C200.044 113.248 198.532 114.76 198.532 116.625V123.784C198.532 125.648 200.044 127.16 201.908 127.16H241.773C243.638 127.16 245.149 125.648 245.149 123.784V116.625C245.149 114.76 243.638 113.248 241.773 113.248Z" fill="#EFEFF1" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M205.435 117.484H210.62C210.62 117.484 210.74 117.544 210.74 117.604V122.789C210.74 122.789 210.68 122.91 210.62 122.91H205.435C205.435 122.91 205.314 122.849 205.314 122.789V117.604C205.314 117.604 205.375 117.484 205.435 117.484Z" fill="#5C44E4" />
  <path d="M210.363 117.86V122.533H205.691V117.86H210.363ZM210.62 117.107H205.435C205.164 117.107 204.938 117.333 204.938 117.604V122.789C204.938 123.06 205.164 123.286 205.435 123.286H210.62C210.891 123.286 211.117 123.06 211.117 122.789V117.604C211.117 117.333 210.891 117.107 210.62 117.107Z" fill="black" />
  <path d="M215.458 119.157H237.342" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M241.773 130.792H201.908C200.044 130.792 198.532 132.304 198.532 134.168V141.327C198.532 143.192 200.044 144.703 201.908 144.703H241.773C243.638 144.703 245.149 143.192 245.149 141.327V134.168C245.149 132.304 243.638 130.792 241.773 130.792Z" fill="#EFEFF1" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M205.435 135.027H210.62C210.62 135.027 210.74 135.088 210.74 135.148V140.333C210.74 140.333 210.68 140.453 210.62 140.453H205.435C205.435 140.453 205.314 140.393 205.314 140.333V135.148C205.314 135.148 205.375 135.027 205.435 135.027Z" fill="#F11653" />
  <path d="M210.363 135.404V140.076H205.691V135.404H210.363ZM210.62 134.65H205.435C205.164 134.65 204.938 134.877 204.938 135.148V140.333C204.938 140.604 205.164 140.83 205.435 140.83H210.62C210.891 140.83 211.117 140.604 211.117 140.333V135.148C211.117 134.877 210.891 134.65 210.62 134.65Z" fill="black" />
  <path d="M215.458 136.7H237.342" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M241.773 148.336H201.908C200.044 148.336 198.532 149.847 198.532 151.712V158.871C198.532 160.736 200.044 162.247 201.908 162.247H241.773C243.638 162.247 245.149 160.736 245.149 158.871V151.712C245.149 149.847 243.638 148.336 241.773 148.336Z" fill="#EFEFF1" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M205.435 152.571H210.62C210.62 152.571 210.74 152.631 210.74 152.692V157.876C210.74 157.876 210.68 157.997 210.62 157.997H205.435C205.435 157.997 205.314 157.937 205.314 157.876V152.692C205.314 152.692 205.375 152.571 205.435 152.571Z" fill="#F637E3" />
  <path d="M210.363 152.948V157.62H205.691V152.948H210.363ZM210.62 152.194H205.435C205.164 152.194 204.938 152.42 204.938 152.692V157.876C204.938 158.148 205.164 158.374 205.435 158.374H210.62C210.891 158.374 211.117 158.148 211.117 157.876V152.692C211.117 152.42 210.891 152.194 210.62 152.194Z" fill="black" />
  <path d="M215.458 154.244H237.342" stroke="black" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M167.047 166.784H159.315V174.516H167.047V166.784Z" fill="#EFEFF1" stroke="var(--primary-contrast)" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M261.035 80.271H253.303V88.0029H261.035V80.271Z" fill="#EFEFF1" stroke="var(--primary-contrast)" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M271.947 66.842H267.833V70.9566H271.947V66.842Z" fill="#EFEFF1" stroke="var(--primary-contrast)" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M140.852 183.785H136.737V187.9H140.852V183.785Z" fill="white" stroke="var(--primary-contrast)" stroke-width="0.93421" stroke-miterlimit="10" />
  <path d="M178.17 12.598H174.055V16.7127H178.17V12.598Z" fill="white" stroke="var(--primary-contrast)" stroke-width="0.93421" stroke-miterlimit="10" />
</svg>

      </div>
    </div>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="3uvtqhk0pz47r35t79ic6a3ap">应用使用表单来让用户登录、更新个人资料、输入敏感信息以及执行许多其他数据输入任务。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="eurm3ascqk2h4ig5e1hnizhcx">Angular 提供了两种不同的方法来通过表单处理用户输入：响应式表单和模板驱动表单。
两者都从视图中捕获用户输入事件、验证用户输入、创建表单模型、修改数据模型，并提供跟踪这些更改的途径。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="aq3bag4d3y8rnpeyrwdgl9b0a">本指南提供的信息可以帮你确定哪种方式最适合你的情况。它介绍了这两种方法所用的公共构造块，还总结了两种方式之间的关键区别，并在建立、数据流和测试等不同的情境下展示了这些差异。</p>

  <h2 id="choosing-an-approach">
    <a href="#choosing-an-approach" class="docs-anchor" tabindex="-1" aria-label="Link to Choosing an approach" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="e5w7rl07hdukdij8b3as3qbid">选择一种方法</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4y96qhbczq5jloc5csxzejc70">响应式表单和模板驱动表单以不同的方式处理和管理表单数据。每种方法都有各自的优点。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5xsni8fgg13z9qwldwylke25i">表单</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b2xwzrnb2ye7twpwf3t9i2eiv">响应式表单</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="43t6m1vi6b1vr0x93iyi169ve">直接、明确地访问底层表单对象模型。与模板驱动表单相比，它们更加强大：更具可扩展性、可重用性和可测试性。如果表单是你应用的关键部分，或者你已经在应用中使用响应式模式构建应用，请使用响应式表单。</td>
</tr>
<tr>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8ikuesboztjr8out2q3bj6j8i">模板驱动表单</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="ayvotbxmvji1hsei11mp1beht">在模板中依赖指令来创建和操纵底层对象模型。它们对于向应用添加简单表单（例如邮箱列表注册表单）非常有用。将它们添加到应用很简单，但它们不像响应式表单那样具有很好的扩展性。如果你有非常基本的表单需求，并且逻辑可以完全在模板中管理，模板驱动表单可能适合你。</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h3 id="key-differences">
    <a href="#key-differences" class="docs-anchor" tabindex="-1" aria-label="Link to Key differences" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="17mblkyyiy67qhoqo19d4yyf1">关键差异</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3us5tmzgqsru1eiu3ijm0sgaw">下表总结了响应式表单和模板驱动表单之间的一些关键差异。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left"></th>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="beymamclbildi1j6u2luvobnb">响应式</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="a2fvyexkjup80ihgwwa7zlgj1">模板驱动表单</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><a href="#setting-up-the-form-model" data-ng_translator_product="100" data-ng_translator_ref_id="62gl71iuq7ez6h884a0nuwmf">设置表单模型</a></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="3po6hh34gd0qfhasfmiiik77b">显式，在组件类中创建</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="416g1ayukcukzkrmkvdjj53ev">隐式，由指令创建</td>
</tr>
<tr>
<td align="left"><a href="#mutability-of-the-data-model" data-ng_translator_product="100" data-ng_translator_ref_id="9i9mzi79fqcv88alfhk6ghdy5">数据模型</a></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="3b1dazfmeruw52vpp6quu4m56">结构化且不可变</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="61harkjo062k26dyun9c6jfa3">非结构化且可变</td>
</tr>
<tr>
<td align="left"><a href="#data-flow-in-forms" data-ng_translator_product="100" data-ng_translator_ref_id="4uim74nyyz2ffizhv32jc8ka4">数据流</a></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="2u2hy2y6ad0o9jvjm516n2pzv">同步</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="2eem8gjjq9t3zly57owr6sbb8">异步</td>
</tr>
<tr>
<td align="left"><a href="#form-validation" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9oba10w29tdu00d0zldlhdruv">表单验证</a></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dt2uvbdl3r7k4tmkiulzt8lb8">函数</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9uaad125h3hufxqa64leub0r9">指令</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h3 id="scalability">
    <a href="#scalability" class="docs-anchor" tabindex="-1" aria-label="Link to Scalability" data-ng_translator_product="100" data-ng_translator_ref_id="2o6opt1nvbl33tg3476xzzuv5">可伸缩性</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c56wnd2xa1ni0oj5vgkji1bds">如果表单是应用程序的核心部分，那么可伸缩性就非常重要。能够跨组件复用表单模型是至关重要的。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="djbgukrmsai1y44gdmsx6iox1">响应式表单比模板驱动表单更具可扩展性。 它们提供直接访问底层表单 API，并在视图和数据模型之间使用
<a href="#data-flow-in-reactive-forms">同步数据流</a>，使得创建大规模表单更加容易。 响应式表单对于测试需要的设置更少，并且测试不需要深入了解变更检测才能正确测试表单更新和验证。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="52y85gj5vc9c3ftdc3i1z2a7y">模板驱动表单专注于简单场景，不太具有重用性。 它们将底层表单 API 抽象化，并在视图和数据模型之间使用
<a href="#data-flow-in-template-driven-forms">异步数据流</a>。 模板驱动表单的抽象化也影响测试。 测试深度依赖于手动变更检测执行才能正确运行，并且需要更多的设置。</p>

  <h2 id="setting-up-the-form-model">
    <a href="#setting-up-the-form-model" class="docs-anchor" tabindex="-1" aria-label="Link to Setting up the form model" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="vd8uvn18s2003cdareku8py">建立表单模型</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="rpj0msitef6f5olivusd74ma">响应式表单和模板驱动型表单都会跟踪用户与之交互的表单输入元素和组件模型中的表单数据之间的值变更。这两种方法共享同一套底层构建块，只在如何创建和管理常用表单控件实例方面有所不同。</p>

  <h3 id="common-form-foundation-classes">
    <a href="#common-form-foundation-classes" class="docs-anchor" tabindex="-1" aria-label="Link to Common form foundation classes" data-ng_translator_product="100" data-ng_translator_ref_id="85cbpj2qfnlzfk9fk9vzh0g5i">常用表单基础类</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1lzo0ijuvgfhi4n44df86i957">响应式表单和模板驱动表单都建立在下列基础类之上。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="a19nalj6m5o4n2pxfxkv4iyj7">基础类</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>FormControl</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="30uooirslsrx1kpin16rmo7h3">跟踪独立表单控件的值和验证状态。</td>
</tr>
<tr>
<td align="left"><code>FormGroup</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="7fe38mjuep8vp55zwp60czljp">跟踪一组表单控件的相同值和状态。</td>
</tr>
<tr>
<td align="left"><code>FormArray</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="ek1excyungbnoe1v66yipxrpw">跟踪一组表单控件的相同值和状态。</td>
</tr>
<tr>
<td align="left"><code>ControlValueAccessor</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="bzvw096a39aujhz08awfxz4tg">在 Angular 的 
<code>FormControl</code> 实例和内置 DOM 元素之间创建桥梁。</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h3 id="setup-in-reactive-forms">
    <a href="#setup-in-reactive-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Setup in reactive forms" data-ng_translator_product="100" data-ng_translator_ref_id="4as3zzpl7lybj6rc97y4p87zw">建立响应式表单</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="bazv07z2h3tdhcrwols46zv4c">使用响应式表单，你直接在组件类中定义表单模型。 
<code>[formControl]</code> 指令将显式创建的 
<code>FormControl</code> 实例与视图中的特定表单元素进行连接，使用内部值访问器。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="351kawxiiqr3ijzbngp0tjv42">以下组件实现了一个用于单个控件的输入字段，使用响应式表单。 在这个示例中，表单模型是 
<code>FormControl</code> 实例。</p>
<div class="docs-code" path="adev/src/content/examples/forms-overview/src/app/reactive/favorite-color/favorite-color.component.ts">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormControl} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@Component({</div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-reactive-favorite-color'</span>,</div><div class="hljs-ln-line">  template: `<span class="language-javascript"></span></div><div class="hljs-ln-line">    <span class="hljs-title class_">Favorite</span> <span class="hljs-title class_">Color</span>: <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControl</span>]=<span class="hljs-string">"favoriteColorControl"</span>&gt;</span></span></div><div class="hljs-ln-line">  `,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FavoriteColorComponent</span> {</div><div class="hljs-ln-line">  favoriteColorControl = <span class="hljs-keyword">new</span> FormControl(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    <div class="docs-alert docs-alert-important">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="3wl3thfu0djbk82xf2dxe1gc4"><strong>重要提示：</strong> 在响应式表单中，表单模型是事实之源；通过 
<code>[formControl]</code> 指令在 
<code>&lt;input&gt;</code> 元素上提供表单元素的值和状态。</p>

    </div>
    
  <h3 id="setup-in-template-driven-forms">
    <a href="#setup-in-template-driven-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Setup in template-driven forms" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4t6lp7vgwfq56zqidtkuw4hdi">建立模板驱动表单</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="3p0bzqow5ge3sqyiemnobf2si">在模板驱动表单中，表单模型是隐式的，而不是显式的。 指令 
<code>NgModel</code> 为给定的表单元素创建和管理一个 
<code>FormControl</code> 实例。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4i2vifvwsamzoyd686kpn1daf">下面的组件使用模板驱动表单为单个控件实现了同样的输入字段。</p>
<div class="docs-code" path="adev/src/content/examples/forms-overview/src/app/template/favorite-color/favorite-color.component.ts">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component(<span class="hljs-params">{</span></span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-template-favorite-color'</span>,</div><div class="hljs-ln-line">  template: `</div><div class="hljs-ln-line">    Favorite Color: &lt;<span class="hljs-built_in">input</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-params">ngModel</span>)]=<span class="hljs-string">"favoriteColor"</span>&gt;</div><div class="hljs-ln-line">  `,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">FavoriteColorComponent</span> {</div><div class="hljs-ln-line">  favoriteColor = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    <div class="docs-alert docs-alert-important">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="2hlsq87n3jcrdalkmtjb948oo"><strong>重要提示：</strong> 在模板驱动表单中，事实之源是模板。 
<code>NgModel</code> 指令会自动为你管理 
<code>FormControl</code> 实例。</p>

    </div>
    
  <h2 id="data-flow-in-forms">
    <a href="#data-flow-in-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Data flow in forms" data-ng_translator_product="100" data-ng_translator_ref_id="99472ufe9n7iw9tr7jch0a71l">表单中的数据流</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="37177mxdfgce4kl3j3e9kup0i">当应用包含一个表单时，Angular 必须让该视图与组件模型保持同步，并让组件模型与视图保持同步。当用户通过视图更改值并进行选择时，新值必须反映在数据模型中。同样，当程序逻辑改变数据模型中的值时，这些值也必须反映到视图中。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="25j7t0crxtrki2e3ya7m1v3mx">响应式表单和模板驱动表单在如何处理来自用户或程序变更的数据流方面有所不同。以下图示说明了每种类型表单的数据流，使用上面定义的 favorite-color 输入字段。</p>

  <h3 id="data-flow-in-reactive-forms">
    <a href="#data-flow-in-reactive-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Data flow in reactive forms" data-ng_translator_product="100" data-ng_translator_ref_id="b3rm4rqtg5mku3liqu4ho2t27">响应式表单中的数据流</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="boino3w4e1w4vqozwmx7a97bg">在响应式表单中，视图中的每个表单元素直接链接到表单模型（一个 
<code>FormControl</code> 实例）。 从视图到模型的更新和从模型到视图的更新是同步的，不依赖于 UI 的渲染方式。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9hl4tb1veopxo66cwpfs3ibnf">这个视图到模型的图表展示了当输入字段的值发生变化时，数据流是如何从视图开始经过下列步骤进行流动的。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="czg1ped18o7gaoo0drhzx3rm8">最终用户在输入框元素中键入了一个值，这里是 <em>Blue</em>。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a20cxksvyo2jbk0kyvo8q6fza">这个输入框元素会发出一个带有最新值的 "input" 事件。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="cukx5nh5fmmvva3dqxb29c96p"><code>ControlValueAccessor</code> 监听表单输入元素上的事件，立即将新值传递给 
<code>FormControl</code> 实例。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="9rv5gfa46bonkzbgpy4nun9l5"><code>FormControl</code> 实例通过 
<code>valueChanges</code> observable 发出新值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6o84h5lh1a0whj8cudceg9lwj"><code>valueChanges</code> 的任何一个订阅者都会收到这个新值。</li>

    </ol>
    <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-8 -8 313.828125 504.78125" style="max-width: 313.828125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-U LE-I" id="L-U-I-0" d="M149.414,82.281L149.331,87.865C149.247,93.448,149.081,104.615,148.997,114.981C148.914,125.348,148.914,134.915,148.914,139.698L148.914,144.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-CVA" id="L-I-CVA-0" d="M148.914,185.781L148.914,191.448C148.914,197.115,148.914,208.448,148.914,218.898C148.914,229.348,148.914,238.915,148.914,243.698L148.914,248.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CVA LE-FC" id="L-CVA-FC-0" d="M148.914,286.781L148.914,292.448C148.914,298.115,148.914,309.448,148.914,319.898C148.914,330.348,148.914,339.915,148.914,344.698L148.914,349.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-FC LE-O" id="L-FC-O-0" d="M148.914,387.781L148.914,393.448C148.914,399.115,148.914,410.448,148.914,420.898C148.914,431.348,148.914,440.915,148.914,445.698L148.914,450.481"></path></g><g class="edgeLabels"><g transform="translate(148.9140625, 115.78125)" class="edgeLabel"><g transform="translate(-77.828125, -9)" class="label"><foreignobject height="18" width="155.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Types in the input box</span></div></foreignobject></g></g><g transform="translate(148.9140625, 219.78125)" class="edgeLabel"><g transform="translate(-75.5390625, -9)" class="label"><foreignobject height="18" width="151.078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Fires the 'input' event</span></div></foreignobject></g></g><g transform="translate(148.9140625, 320.78125)" class="edgeLabel"><g transform="translate(-127.015625, -9)" class="label"><foreignobject height="18" width="254.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Calls setValue() on the FormControl</span></div></foreignobject></g></g><g transform="translate(148.9140625, 421.78125)" class="edgeLabel"><g transform="translate(-148.9140625, -9)" class="label"><foreignobject height="18" width="297.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Fires a 'valueChanges' event to observers</span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(148.9140625, 40.890625)" data-id="U" data-node="true" id="flowchart-U-0" class="node default default flowchart-label"><polygon style="" transform="translate(-40.890625,40.890625)" class="label-container" points="40.890625,0 81.78125,-40.890625 40.890625,-81.78125 0,-40.890625"></polygon><g transform="translate(-16.890625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="33.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User</span></div></foreignobject></g></g><g transform="translate(148.9140625, 167.78125)" data-id="I" data-node="true" id="flowchart-I-1" class="node default default flowchart-label"><rect height="36" width="200" y="-18" x="-100" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-92.5, -10.5)" style="" class="label"><rect></rect><foreignobject height="21" width="185"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><input></span></div></foreignobject></g></g><g transform="translate(148.9140625, 270.28125)" data-id="CVA" data-node="true" id="flowchart-CVA-2" class="node default default flowchart-label"><rect height="33" width="172.109375" y="-16.5" x="-86.0546875" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-78.5546875, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="157.109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ControlValueAccessor</span></div></foreignobject></g></g><g transform="translate(148.9140625, 371.28125)" data-id="FC" data-node="true" id="flowchart-FC-3" class="node default default flowchart-label"><rect height="33" width="103.90625" y="-16.5" x="-51.953125" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-44.453125, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="88.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">FormControl</span></div></foreignobject></g></g><g transform="translate(148.9140625, 472.28125)" data-id="O" data-node="true" id="flowchart-O-4" class="node default default flowchart-label"><rect height="33" width="88.796875" y="-16.5" x="-44.3984375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-36.8984375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="73.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Observers</span></div></foreignobject></g></g></g></g></g></svg><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9313120ylistdipv0uf6ne38l">这个模型到视图的原理图体现了程序中对模型的修改是如何通过下列步骤传播到视图中的。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_ref_id="3cstld6jxnsmoldn9bh1xfszi">用户调用 
<code>favoriteColorControl.setValue()</code> 方法，更新 
<code>FormControl</code> 的值。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="9rv5gfa46bonkzbgpy4nun9l5"><code>FormControl</code> 实例通过 
<code>valueChanges</code> observable 发出新值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6o84h5lh1a0whj8cudceg9lwj"><code>valueChanges</code> 的任何一个订阅者都会收到这个新值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5n09qcw4tez2634hdbkbqvwno">该表单输入框元素上的控件值访问器会把控件更新为这个新值。</li>

    </ol>
    <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-8 -8 636.078125 406.78125" style="max-width: 636.078125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-U LE-FC" id="L-U-FC-0" d="M326.809,82.281L326.725,87.865C326.642,93.448,326.475,104.615,326.392,114.981C326.309,125.348,326.309,134.915,326.309,139.698L326.309,144.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-FC LE-CVA" id="L-FC-CVA-0" d="M278.98,182.781L262.725,188.448C246.471,194.115,213.962,205.448,197.708,215.898C181.453,226.348,181.453,235.915,181.453,240.698L181.453,245.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-FC LE-O" id="L-FC-O-0" d="M373.638,182.781L389.892,188.448C406.146,194.115,438.655,205.448,454.91,215.898C471.164,226.348,471.164,235.915,471.164,240.698L471.164,245.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CVA LE-I" id="L-CVA-I-0" d="M181.453,283.781L181.453,289.698C181.453,295.615,181.453,307.448,181.453,318.398C181.453,329.348,181.453,339.415,181.453,344.448L181.453,349.481"></path></g><g class="edgeLabels"><g transform="translate(326.30859375, 115.78125)" class="edgeLabel"><g transform="translate(-127.015625, -9)" class="label"><foreignobject height="18" width="254.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Calls setValue() on the FormControl</span></div></foreignobject></g></g><g transform="translate(181.453125, 216.78125)" class="edgeLabel"><g transform="translate(-120.796875, -9)" class="label"><foreignobject height="18" width="241.59375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Notifies the ControlValueAccessor</span></div></foreignobject></g></g><g transform="translate(471.1640625, 216.78125)" class="edgeLabel"><g transform="translate(-148.9140625, -9)" class="label"><foreignobject height="18" width="297.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Fires a 'valueChanges' event to observers</span></div></foreignobject></g></g><g transform="translate(181.453125, 319.28125)" class="edgeLabel"><g transform="translate(-181.453125, -10.5)" class="label"><foreignobject height="21" width="362.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Updates the value of the <input></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(326.30859375, 40.890625)" data-id="U" data-node="true" id="flowchart-U-0" class="node default default flowchart-label"><polygon style="" transform="translate(-40.890625,40.890625)" class="label-container" points="40.890625,0 81.78125,-40.890625 40.890625,-81.78125 0,-40.890625"></polygon><g transform="translate(-16.890625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="33.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User</span></div></foreignobject></g></g><g transform="translate(181.453125, 372.78125)" data-id="I" data-node="true" id="flowchart-I-1" class="node default default flowchart-label"><rect height="36" width="200" y="-18" x="-100" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-92.5, -10.5)" style="" class="label"><rect></rect><foreignobject height="21" width="185"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><input></span></div></foreignobject></g></g><g transform="translate(181.453125, 267.28125)" data-id="CVA" data-node="true" id="flowchart-CVA-2" class="node default default flowchart-label"><rect height="33" width="172.109375" y="-16.5" x="-86.0546875" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-78.5546875, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="157.109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ControlValueAccessor</span></div></foreignobject></g></g><g transform="translate(326.30859375, 166.28125)" data-id="FC" data-node="true" id="flowchart-FC-3" class="node default default flowchart-label"><rect height="33" width="103.90625" y="-16.5" x="-51.953125" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-44.453125, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="88.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">FormControl</span></div></foreignobject></g></g><g transform="translate(471.1640625, 267.28125)" data-id="O" data-node="true" id="flowchart-O-4" class="node default default flowchart-label"><rect height="33" width="88.796875" y="-16.5" x="-44.3984375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-36.8984375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="73.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Observers</span></div></foreignobject></g></g></g></g></g></svg>
  <h3 id="data-flow-in-template-driven-forms">
    <a href="#data-flow-in-template-driven-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Data flow in template-driven forms" data-ng_translator_product="100" data-ng_translator_ref_id="aikd7yu9ohck7b7pwaor509nv">模板驱动表单中的数据流</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c220zh08db1gij1mgzr8i21vt">在模板驱动表单中，每一个表单元素都是和一个负责管理内部表单模型的指令关联起来的。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9hl4tb1veopxo66cwpfs3ibnf">这个视图到模型的图表展示了当输入字段的值发生变化时，数据流是如何从视图开始经过下列步骤进行流动的。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6mazhtn6xgr4vigolblu2g3vx">最终用户在输入框元素中敲 <em>Blue</em>。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="f1qcwuv0oaqs1lzxjkxucwrcj">输入元素发出值为 
<em>Blue</em> 的 "input" 事件。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="19qfvzovyhdm32q2b30zhxdh4">附加到输入的控件值访问器触发 
<code>FormControl</code> 实例上的 
<code>setValue()</code> 方法。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="9rv5gfa46bonkzbgpy4nun9l5"><code>FormControl</code> 实例通过 
<code>valueChanges</code> observable 发出新值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6o84h5lh1a0whj8cudceg9lwj"><code>valueChanges</code> 的任何一个订阅者都会收到这个新值。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="dy7cg7yrq9pzdirypgybh9ymf">控制值访问器还会调用 
<code>NgModel.viewToModelUpdate()</code> 方法，该方法会触发一个 
<code>ngModelChange</code> 事件。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="4jc4ifrfg7ffszguinwxqr8uo">由于组件模板对 
<code>favoriteColor</code> 属性使用了双向数据绑定，组件中的 
<code>favoriteColor</code> 属性会更新为 
<code>ngModelChange</code> 事件发出的值（
<em>Blue</em>）。</li>

    </ol>
    <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-8 -8 622.0078125 605.78125" style="max-width: 622.0078125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-U LE-I" id="L-U-I-0" d="M290.797,82.281L290.714,87.865C290.63,93.448,290.464,104.615,290.38,114.981C290.297,125.348,290.297,134.915,290.297,139.698L290.297,144.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-I LE-CVA" id="L-I-CVA-0" d="M290.297,185.781L290.297,191.448C290.297,197.115,290.297,208.448,290.297,218.898C290.297,229.348,290.297,238.915,290.297,243.698L290.297,248.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CVA LE-FC" id="L-CVA-FC-0" d="M244.102,286.781L228.238,292.448C212.373,298.115,180.644,309.448,164.779,319.898C148.914,330.348,148.914,339.915,148.914,344.698L148.914,349.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-FC LE-O" id="L-FC-O-0" d="M148.914,387.781L148.914,393.448C148.914,399.115,148.914,410.448,148.914,420.898C148.914,431.348,148.914,440.915,148.914,445.698L148.914,450.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CVA LE-M" id="L-CVA-M-0" d="M336.491,286.781L352.356,292.448C368.221,298.115,399.95,309.448,415.815,319.898C431.68,330.348,431.68,339.915,431.68,344.698L431.68,349.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-C" id="L-M-C-0" d="M431.68,387.781L431.68,393.448C431.68,399.115,431.68,410.448,431.68,420.898C431.68,431.348,431.68,440.915,431.68,445.698L431.68,450.481"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-P" id="L-C-P-0" d="M431.68,488.781L431.68,494.448C431.68,500.115,431.68,511.448,431.68,521.898C431.68,532.348,431.68,541.915,431.68,546.698L431.68,551.481"></path></g><g class="edgeLabels"><g transform="translate(290.296875, 115.78125)" class="edgeLabel"><g transform="translate(-77.828125, -9)" class="label"><foreignobject height="18" width="155.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Types in the input box</span></div></foreignobject></g></g><g transform="translate(290.296875, 219.78125)" class="edgeLabel"><g transform="translate(-75.5390625, -9)" class="label"><foreignobject height="18" width="151.078125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Fires the 'input' event</span></div></foreignobject></g></g><g transform="translate(148.9140625, 320.78125)" class="edgeLabel"><g transform="translate(-127.015625, -9)" class="label"><foreignobject height="18" width="254.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Calls setValue() on the FormControl</span></div></foreignobject></g></g><g transform="translate(148.9140625, 421.78125)" class="edgeLabel"><g transform="translate(-148.9140625, -9)" class="label"><foreignobject height="18" width="297.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Fires a 'valueChanges' event to observers</span></div></foreignobject></g></g><g transform="translate(431.6796875, 320.78125)" class="edgeLabel"><g transform="translate(-97.375, -9)" class="label"><foreignobject height="18" width="194.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Calls viewToModelUpdate()</span></div></foreignobject></g></g><g transform="translate(431.6796875, 421.78125)" class="edgeLabel"><g transform="translate(-113.8515625, -9)" class="label"><foreignobject height="18" width="227.703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Emits an ngModelChange event</span></div></foreignobject></g></g><g transform="translate(431.6796875, 522.78125)" class="edgeLabel"><g transform="translate(-174.328125, -9)" class="label"><foreignobject height="18" width="348.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Updates the value of the two-way bound property</span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(290.296875, 40.890625)" data-id="U" data-node="true" id="flowchart-U-0" class="node default default flowchart-label"><polygon style="" transform="translate(-40.890625,40.890625)" class="label-container" points="40.890625,0 81.78125,-40.890625 40.890625,-81.78125 0,-40.890625"></polygon><g transform="translate(-16.890625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="33.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">User</span></div></foreignobject></g></g><g transform="translate(290.296875, 167.78125)" data-id="I" data-node="true" id="flowchart-I-1" class="node default default flowchart-label"><rect height="36" width="200" y="-18" x="-100" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-92.5, -10.5)" style="" class="label"><rect></rect><foreignobject height="21" width="185"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><input></span></div></foreignobject></g></g><g transform="translate(290.296875, 270.28125)" data-id="CVA" data-node="true" id="flowchart-CVA-2" class="node default default flowchart-label"><rect height="33" width="172.109375" y="-16.5" x="-86.0546875" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-78.5546875, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="157.109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ControlValueAccessor</span></div></foreignobject></g></g><g transform="translate(148.9140625, 371.28125)" data-id="FC" data-node="true" id="flowchart-FC-3" class="node default default flowchart-label"><rect height="33" width="103.90625" y="-16.5" x="-51.953125" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-44.453125, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="88.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">FormControl</span></div></foreignobject></g></g><g transform="translate(431.6796875, 371.28125)" data-id="M" data-node="true" id="flowchart-M-4" class="node default default flowchart-label"><rect height="33" width="79.03125" y="-16.5" x="-39.515625" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-32.015625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="64.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">NgModel</span></div></foreignobject></g></g><g transform="translate(148.9140625, 472.28125)" data-id="O" data-node="true" id="flowchart-O-5" class="node default default flowchart-label"><rect height="33" width="88.796875" y="-16.5" x="-44.3984375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-36.8984375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="73.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Observers</span></div></foreignobject></g></g><g transform="translate(431.6796875, 472.28125)" data-id="C" data-node="true" id="flowchart-C-6" class="node default default flowchart-label"><rect height="33" width="97.71875" y="-16.5" x="-48.859375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-41.359375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="82.71875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Component</span></div></foreignobject></g></g><g transform="translate(431.6796875, 573.28125)" data-id="P" data-node="true" id="flowchart-P-7" class="node default default flowchart-label"><rect height="33" width="134.171875" y="-16.5" x="-67.0859375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-59.5859375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="119.171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Two-way binding</span></div></foreignobject></g></g></g></g></g></svg><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="asrqpsxmzdbl7fykquqye0srs">这个模型到视图的原理图展示了当 <code>favoriteColor</code> 从<em>蓝</em>变到<em>红</em>时，数据是如何经过如下步骤从模型流动到视图的。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dzc0fknrkb4kmn7isurjhobwd">组件中修改了 <code>favoriteColor</code> 的值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="jm63uz2hoby47dlz6eq6bn6t">变更检测开始。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="9iugp974lytrwc9ql4bajphdb">在变更检测期间，
<code>NgModel</code> 指令实例上会调用 
<code>ngOnChanges</code> 生命周期钩子，因为其输入之一的值发生了变化。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="1sc8se0q5w3iwiva6mcq1nmm2"><code>ngOnChanges()</code> 方法会排队一个异步任务来设置内部 
<code>FormControl</code> 实例的值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bnnzbtxjnzwnw0zofzdv48ies">变更检测完成。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="f59xecka7d1kb418c34wke6ti">在下一个刻度上，执行设置 
<code>FormControl</code> 实例值的任务。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="98sbc2imvh56b142xupnkobr3"><code>FormControl</code> 实例通过 
<code>valueChanges</code> 可观察者发出最新值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6o84h5lh1a0whj8cudceg9lwj"><code>valueChanges</code> 的任何一个订阅者都会收到这个新值。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="4ebaq8uyoturm5maps8uep0ne">控件值访问器会使用最新的 
<code>favoriteColor</code> 值更新视图中的表单输入元素。</li>

    </ol>
    <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-8 -8 429.578125 859" style="max-width: 429.578125px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-C LE-P" id="L-C-P-0" d="M206.789,33L206.789,38.667C206.789,44.333,206.789,55.667,206.789,66.117C206.789,76.567,206.789,86.133,206.789,90.917L206.789,95.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-P LE-CD1" id="L-P-CD1-0" d="M206.789,134L206.789,139.667C206.789,145.333,206.789,156.667,206.789,167.117C206.789,177.567,206.789,187.133,206.789,191.917L206.789,196.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CD1 LE-CD2" id="L-CD1-CD2-0" d="M206.789,386L206.789,391.667C206.789,397.333,206.789,408.667,206.789,419.117C206.789,429.567,206.789,439.133,206.789,443.917L206.789,448.7"></path></g><g class="edgeLabels"><g transform="translate(206.7890625, 67)" class="edgeLabel"><g transform="translate(-96.0625, -9)" class="label"><foreignobject height="18" width="192.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Updates the property value</span></div></foreignobject></g></g><g transform="translate(206.7890625, 168)" class="edgeLabel"><g transform="translate(-42.8203125, -9)" class="label"><foreignobject height="18" width="85.640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Triggers CD</span></div></foreignobject></g></g><g transform="translate(206.7890625, 420)" class="edgeLabel"><g transform="translate(-206.7890625, -9)" class="label"><foreignobject height="18" width="413.578125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Async actions trigger a second round of Change Detection</span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(-6.4453125, 446)" class="root"><g class="clusters"><g id="CD2" class="cluster default flowchart-label"><rect height="389" width="411.46875" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(120.3359375, 8)" class="cluster-label"><foreignobject height="18" width="186.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Second Change Detection</span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-FC2 LE-O" id="L-FC2-O-0" d="M213.734,66L213.734,71.667C213.734,77.333,213.734,88.667,213.734,99.117C213.734,109.567,213.734,119.133,213.734,123.917L213.734,128.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-O LE-CVA" id="L-O-CVA-0" d="M213.734,167L213.734,172.667C213.734,178.333,213.734,189.667,213.734,200.117C213.734,210.567,213.734,220.133,213.734,224.917L213.734,229.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CVA LE-I" id="L-CVA-I-0" d="M213.734,268L213.734,273.667C213.734,279.333,213.734,290.667,213.734,301.117C213.734,311.567,213.734,321.133,213.734,325.917L213.734,330.7"></path></g><g class="edgeLabels"><g transform="translate(213.734375, 100)" class="edgeLabel"><g transform="translate(-148.9140625, -9)" class="label"><foreignobject height="18" width="297.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Fires a 'valueChanges' event to observers</span></div></foreignobject></g></g><g transform="translate(213.734375, 201)" class="edgeLabel"><g transform="translate(-185.734375, -9)" class="label"><foreignobject height="18" width="371.46875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">ControlValueAccessor receives valueChanges event</span></div></foreignobject></g></g><g transform="translate(213.734375, 302)" class="edgeLabel"><g transform="translate(-98.7265625, -9)" class="label"><foreignobject height="18" width="197.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Sets the value in the control</span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(213.734375, 49.5)" data-id="FC2" data-node="true" id="flowchart-FC2-12" class="node default default flowchart-label"><rect height="33" width="103.90625" y="-16.5" x="-51.953125" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-44.453125, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="88.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">FormControl</span></div></foreignobject></g></g><g transform="translate(213.734375, 150.5)" data-id="O" data-node="true" id="flowchart-O-13" class="node default default flowchart-label"><rect height="33" width="88.796875" y="-16.5" x="-44.3984375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-36.8984375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="73.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Observers</span></div></foreignobject></g></g><g transform="translate(213.734375, 251.5)" data-id="CVA" data-node="true" id="flowchart-CVA-14" class="node default default flowchart-label"><rect height="33" width="172.109375" y="-16.5" x="-86.0546875" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-78.5546875, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="157.109375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ControlValueAccessor</span></div></foreignobject></g></g><g transform="translate(213.734375, 354)" data-id="I" data-node="true" id="flowchart-I-15" class="node default default flowchart-label"><rect height="36" width="200" y="-18" x="-100" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-92.5, -10.5)" style="" class="label"><rect></rect><foreignobject height="21" width="185"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><input></span></div></foreignobject></g></g></g></g><g transform="translate(37.8984375, 194)" class="root"><g class="clusters"><g id="CD1" class="cluster default flowchart-label"><rect height="184" width="322.78125" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(87.5703125, 8)" class="cluster-label"><foreignobject height="18" width="163.640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">First Change Detection</span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-M LE-FC" id="L-M-FC-0" d="M169.391,66L169.391,71.667C169.391,77.333,169.391,88.667,169.391,99.117C169.391,109.567,169.391,119.133,169.391,123.917L169.391,128.7"></path></g><g class="edgeLabels"><g transform="translate(169.390625, 100)" class="edgeLabel"><g transform="translate(-141.390625, -9)" class="label"><foreignobject height="18" width="282.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Asynchronously sets FormControl value</span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(169.390625, 49.5)" data-id="M" data-node="true" id="flowchart-M-6" class="node default default flowchart-label"><rect height="33" width="79.03125" y="-16.5" x="-39.515625" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-32.015625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="64.03125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">NgModel</span></div></foreignobject></g></g><g transform="translate(169.390625, 150.5)" data-id="FC" data-node="true" id="flowchart-FC-7" class="node default default flowchart-label"><rect height="33" width="103.90625" y="-16.5" x="-51.953125" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-44.453125, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="88.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">FormControl</span></div></foreignobject></g></g></g></g><g transform="translate(206.7890625, 16.5)" data-id="C" data-node="true" id="flowchart-C-0" class="node default default flowchart-label"><rect height="33" width="97.71875" y="-16.5" x="-48.859375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-41.359375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="82.71875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Component</span></div></foreignobject></g></g><g transform="translate(206.7890625, 117.5)" data-id="P" data-node="true" id="flowchart-P-1" class="node default default flowchart-label"><rect height="33" width="210.671875" y="-16.5" x="-105.3359375" ry="5" rx="5" style="" class="basic label-container"></rect><g transform="translate(-97.8359375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="195.671875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Property bound to NgModel</span></div></foreignobject></g></g></g></g></g></svg>
    <div class="docs-alert docs-alert-note">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="2rh8nh662p87s1bjfsbx1my7x"><strong>注意：</strong>
<code>NgModel</code> 触发第二次变更检测以避免 
<code>ExpressionChangedAfterItHasBeenChecked</code> 错误，因为值更改源自输入绑定。</p>

    </div>
    
  <h3 id="mutability-of-the-data-model">
    <a href="#mutability-of-the-data-model" class="docs-anchor" tabindex="-1" aria-label="Link to Mutability of the data model" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8a7ok15vnroy0m8n4p6otx0az">数据模型的可变性</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2zi1eho7dwuwefiogjdd1d9e6">变更追踪的方法对应用的效率有着重要影响。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5xsni8fgg13z9qwldwylke25i">表单</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b2xwzrnb2ye7twpwf3t9i2eiv">响应式表单</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="30d84q3z1w3lpojyuzfxpbcdw">通过将数据模型提供为不可变数据结构来保持数据模型的纯净性。每次在数据模型上触发更改时，
<code>FormControl</code> 实例返回一个新数据模型，而不是更新现有数据模型。这使你能够通过控件的可观察者跟踪对数据模型的唯一更改。变更检测更有效，因为它只需要在唯一更改时进行更新。由于数据更新遵循响应式模式，你可以与可观察操作符集成以转换数据。</td>
</tr>
<tr>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8ikuesboztjr8out2q3bj6j8i">模板驱动表单</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="9cy4370jn6qowd2ixfbl5s33o">依靠使用双向数据绑定来更新组件中的数据模型，因为更改在模板中进行。当使用双向数据绑定时，由于没有唯一更改需要跟踪数据模型，所以变更检测在确定何时需要更新时效率较低。</td>
</tr>

      </tbody>
    </table>
  </div>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="1qgaf2xpzojcu8a3l6yc21xa8">这个差异在之前使用 favorite-color 输入元素的范例中得到了展示。</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_ref_id="48rrzwz4ua3bwnaq1zrbf7nln">对于响应式表单，
<strong><code>FormControl</code> 实例</strong>在控件的值更新时始终返回一个新值</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="bpkre46o2dq3abgp6v2uzty9i">使用模板驱动表单时，
<strong>favorite color 属性</strong>总是被修改为其新值。</li>

  </ul>
  
  <h2 id="form-validation">
    <a href="#form-validation" class="docs-anchor" tabindex="-1" aria-label="Link to Form validation" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9oba10w29tdu00d0zldlhdruv">表单验证</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3t1nt8bdgh0mliep8pm6n8sk2">验证是管理任何表单时必备的一部分。无论你是要检查必填项，还是查询外部 API 来检查用户名是否已存在，Angular 都会提供一组内置的验证器，以及创建自定义验证器所需的能力。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5xsni8fgg13z9qwldwylke25i">表单</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b2xwzrnb2ye7twpwf3t9i2eiv">响应式表单</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="d2y00vqb0tk3adhn2r1161wcq">将自定义验证器定义为接收要验证的控件的
<strong>函数</strong></td>
</tr>
<tr>
<td align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8ikuesboztjr8out2q3bj6j8i">模板驱动表单</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="1ouv0aq8zu2yqkvpuo29eodww">与模板
<strong>指令</strong>相关联，必须提供包装验证函数的自定义验证器指令</td>
</tr>

      </tbody>
    </table>
  </div>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="b51e4woidhqss2mjdefwq130j">更多信息，请参阅 
<a href="guide/forms/form-validation#validating-input-in-reactive-forms">表单验证</a>。</p>

  <h2 id="testing">
    <a href="#testing" class="docs-anchor" tabindex="-1" aria-label="Link to Testing" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="etpgj6p39fywtmcrsphy8qrcg">测试</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a6mg4fpm5e37dii1hnj6gi5ki">测试在复杂的应用程序中也起着重要的作用。当验证你的表单功能是否正确时，更简单的测试策略往往也更有用。测试响应式表单和模板驱动表单的差别之一在于它们是否需要渲染 UI 才能基于表单控件和表单字段变化来执行断言。下面的例子演示了使用响应式表单和模板驱动表单时表单的测试过程。</p>

  <h3 id="testing-reactive-forms">
    <a href="#testing-reactive-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Testing reactive forms" data-ng_translator_product="100" data-ng_translator_ref_id="bjv843oafc1y9eq181dg6at7g">测试响应式表单</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ab6icdnvhrj3gspumg1ct1yo6">响应式表单提供了相对简单的测试策略，因为它们能提供对表单和数据模型的同步访问，而且不必渲染 UI 就能测试它们。在这些测试中，控件和数据是通过控件进行查询和操纵的，不需要和变更检测周期打交道。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="a9aticl2y3aiinnqlz6pe7e0x">下面的测试利用前面例子中的 "喜欢的颜色" 组件来验证响应式表单中的 "从视图到模型" 和 "从模型到视图" 数据流。</p>
<!--todo: make consistent with other topics -->


  <h4 id="verifying-view-to-model-data-flow">
    <a href="#verifying-view-to-model-data-flow" class="docs-anchor" tabindex="-1" aria-label="Link to Verifying view-to-model data flow" data-ng_translator_product="100" data-ng_translator_ref_id="62gxdgy7la5fucfsr939esz1b">验证视图到模型数据流</a>
  </h4>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="19j8ftquallal10mlo4qvpcg7">第一个例子执行了下列步骤来验证“从视图到模型”数据流。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="78w38u5puerwpid0jmfrjskjz">查询表单输入框元素的视图，并为测试创建自定义的 "input" 事件</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7j4u42i7juseeku7f5i0u2me5">把输入的新值设置为 <em>Red</em>，并在表单输入元素上调度 "input" 事件。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="55o0qn06f36gsse897rrk1omr">断言该组件的 <code>favoriteColorControl</code> 的值与来自输入框的值是匹配的。</li>

    </ol>
    <div class="docs-code" path="adev/src/content/examples/forms-overview/src/app/reactive/favorite-color/favorite-color.component.spec.ts" visiblelines="27,28,29,30,31,32,33,34,35" header="Favorite color test - view to model">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="2izp62pzl7nncxe43ygekjxv">喜爱的颜色测试 - 视图到模型</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ComponentFixture, TestBed, waitForAsync} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core/testing'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ReactiveFormsModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {createNewEvent} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../shared/utils'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FavoriteColorComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'./favorite-color.component'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">describe(<span class="hljs-string">'Favorite Color Component'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">  let component: FavoriteColorComponent;</div><div class="hljs-ln-line">  let fixture: ComponentFixture&lt;FavoriteColorComponent&gt;;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  beforeEach(waitForAsync(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    TestBed.configureTestingModule({</div><div class="hljs-ln-line">      imports: [ReactiveFormsModule],</div><div class="hljs-ln-line">      declarations: [FavoriteColorComponent],</div><div class="hljs-ln-line">    }).compileComponents();</div><div class="hljs-ln-line">  }));</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    fixture = TestBed.createComponent(FavoriteColorComponent);</div><div class="hljs-ln-line">    component = fixture.componentInstance;</div><div class="hljs-ln-line">    fixture.detectChanges();</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should create'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    expect(component).toBeTruthy();</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should update the value of the input field'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    const input = fixture.nativeElement.querySelector(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line">    const event = createNewEvent(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    input.value = <span class="hljs-string">'Red'</span>;</div><div class="hljs-ln-line">    input.dispatchEvent(event);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    expect(fixture.componentInstance.favoriteColorControl.value).toEqual(<span class="hljs-string">'Red'</span>);</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should update the value in the control'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    component.favoriteColorControl.setValue(<span class="hljs-string">'Blue'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    const input = fixture.nativeElement.querySelector(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    expect(input.value).toBe(<span class="hljs-string">'Blue'</span>);</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">});</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3of9j8pabf14gymudav6rtxx9">下一个例子执行了下列步骤来验证“从模型到视图”数据流。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_ref_id="13mwjo00shep0yrb3pwopghmj">使用 
<code>favoriteColorControl</code>，一个 
<code>FormControl</code> 实例，来设置新值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="mgbnxo67xpvb1lb1ifkv4zde">查询表单中输入框的视图。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8jlag8hiaqk98imgeokgjbfmb">断言控件上设置的新值与输入中的值是匹配的。</li>

    </ol>
    <div class="docs-code" path="adev/src/content/examples/forms-overview/src/app/reactive/favorite-color/favorite-color.component.spec.ts" visiblelines="37,38,39,40,41,42,43" header="Favorite color test - model to view">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="akbszm248mafls1pjskgo8dfn">喜爱的颜色测试 - 模型到视图</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ComponentFixture, TestBed, waitForAsync} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core/testing'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ReactiveFormsModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {createNewEvent} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../shared/utils'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FavoriteColorComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'./favorite-color.component'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">describe(<span class="hljs-string">'Favorite Color Component'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">  let component: FavoriteColorComponent;</div><div class="hljs-ln-line">  let fixture: ComponentFixture&lt;FavoriteColorComponent&gt;;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  beforeEach(waitForAsync(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    TestBed.configureTestingModule({</div><div class="hljs-ln-line">      imports: [ReactiveFormsModule],</div><div class="hljs-ln-line">      declarations: [FavoriteColorComponent],</div><div class="hljs-ln-line">    }).compileComponents();</div><div class="hljs-ln-line">  }));</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    fixture = TestBed.createComponent(FavoriteColorComponent);</div><div class="hljs-ln-line">    component = fixture.componentInstance;</div><div class="hljs-ln-line">    fixture.detectChanges();</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should create'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    expect(component).toBeTruthy();</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should update the value of the input field'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    const input = fixture.nativeElement.querySelector(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line">    const event = createNewEvent(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    input.value = <span class="hljs-string">'Red'</span>;</div><div class="hljs-ln-line">    input.dispatchEvent(event);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    expect(fixture.componentInstance.favoriteColorControl.value).toEqual(<span class="hljs-string">'Red'</span>);</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should update the value in the control'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    component.favoriteColorControl.setValue(<span class="hljs-string">'Blue'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    const input = fixture.nativeElement.querySelector(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    expect(input.value).toBe(<span class="hljs-string">'Blue'</span>);</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">});</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
  <h3 id="testing-template-driven-forms">
    <a href="#testing-template-driven-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Testing template-driven forms" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dodjm2pzlmrtzauhvrg5jzdka">测试模板驱动表单</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ocyyyxiy5xb326snk6sjuv6l">使用模板驱动表单编写测试就需要详细了解变更检测过程，以及指令在每个变更检测周期中如何运行，以确保在正确的时间查询、测试或更改元素。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="e9rjywcsiagr3asat0qvrwcvr">下面的测试使用了以前的 "喜欢的颜色" 组件，来验证模板驱动表单的 "从视图到模型" 和 "从模型到视图" 数据流。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="chku795zj036mb9gwhn094g10">下面的测试验证了 "从视图到模型" 数据流：</p>
<div class="docs-code" path="adev/src/content/examples/forms-overview/src/app/template/favorite-color/favorite-color.component.spec.ts" visiblelines="39,40,41,42,43,44,45,46,47,48,49" header="Favorite color test - view to model">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="2izp62pzl7nncxe43ygekjxv">喜爱的颜色测试 - 视图到模型</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ComponentFixture, fakeAsync, TestBed, tick, waitForAsync} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core/testing'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormsModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {createNewEvent} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../shared/utils'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FavoriteColorComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'./favorite-color.component'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">describe(<span class="hljs-string">'FavoriteColorComponent'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">  let component: FavoriteColorComponent;</div><div class="hljs-ln-line">  let fixture: ComponentFixture&lt;FavoriteColorComponent&gt;;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  beforeEach(waitForAsync(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    TestBed.configureTestingModule({</div><div class="hljs-ln-line">      imports: [FormsModule],</div><div class="hljs-ln-line">      declarations: [FavoriteColorComponent],</div><div class="hljs-ln-line">    }).compileComponents();</div><div class="hljs-ln-line">  }));</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    fixture = TestBed.createComponent(FavoriteColorComponent);</div><div class="hljs-ln-line">    component = fixture.componentInstance;</div><div class="hljs-ln-line">    fixture.detectChanges();</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should create'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    expect(component).toBeTruthy();</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should update the favorite color on the input field'</span>, fakeAsync(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    component.favoriteColor = <span class="hljs-string">'Blue'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    fixture.detectChanges();</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    tick();</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    const input = fixture.nativeElement.querySelector(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    expect(input.value).toBe(<span class="hljs-string">'Blue'</span>);</div><div class="hljs-ln-line">  }));</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should update the favorite color in the component'</span>, fakeAsync(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    const input = fixture.nativeElement.querySelector(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line">    const event = createNewEvent(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    input.value = <span class="hljs-string">'Red'</span>;</div><div class="hljs-ln-line">    input.dispatchEvent(event);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    fixture.detectChanges();</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    expect(component.favoriteColor).toEqual(<span class="hljs-string">'Red'</span>);</div><div class="hljs-ln-line">  }));</div><div class="hljs-ln-line">});</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="crsiuuufn1jd57emeq250aifq">这个 "视图到模型" 测试的执行步骤如下：</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="78w38u5puerwpid0jmfrjskjz">查询表单输入框元素的视图，并为测试创建自定义的 "input" 事件</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7j4u42i7juseeku7f5i0u2me5">把输入的新值设置为 <em>Red</em>，并在表单输入元素上调度 "input" 事件。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bm25ip6x2uyryu38qfk2iownq">通过测试夹具（Fixture）来运行变更检测。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="dznmfq0mwoknim2gt5zxkbc5r">断言该组件 <code>favoriteColor</code> 属性的值与来自输入框的值是匹配的。</li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="85wm9u8c4ftd0kdddou9buowb">下面的测试验证了 "从模型到视图" 的数据流：</p>
<div class="docs-code" path="adev/src/content/examples/forms-overview/src/app/template/favorite-color/favorite-color.component.spec.ts" visiblelines="27,28,29,30,31,32,33,34,35,36,37" header="Favorite color test - model to view">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="akbszm248mafls1pjskgo8dfn">喜爱的颜色测试 - 模型到视图</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ComponentFixture, fakeAsync, TestBed, tick, waitForAsync} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core/testing'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormsModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {createNewEvent} <span class="hljs-keyword">from</span> <span class="hljs-string">'../../shared/utils'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FavoriteColorComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'./favorite-color.component'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">describe(<span class="hljs-string">'FavoriteColorComponent'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">  let component: FavoriteColorComponent;</div><div class="hljs-ln-line">  let fixture: ComponentFixture&lt;FavoriteColorComponent&gt;;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  beforeEach(waitForAsync(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    TestBed.configureTestingModule({</div><div class="hljs-ln-line">      imports: [FormsModule],</div><div class="hljs-ln-line">      declarations: [FavoriteColorComponent],</div><div class="hljs-ln-line">    }).compileComponents();</div><div class="hljs-ln-line">  }));</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    fixture = TestBed.createComponent(FavoriteColorComponent);</div><div class="hljs-ln-line">    component = fixture.componentInstance;</div><div class="hljs-ln-line">    fixture.detectChanges();</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should create'</span>, <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    expect(component).toBeTruthy();</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should update the favorite color on the input field'</span>, fakeAsync(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    component.favoriteColor = <span class="hljs-string">'Blue'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    fixture.detectChanges();</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    tick();</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    const input = fixture.nativeElement.querySelector(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    expect(input.value).toBe(<span class="hljs-string">'Blue'</span>);</div><div class="hljs-ln-line">  }));</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  it(<span class="hljs-string">'should update the favorite color in the component'</span>, fakeAsync(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {</div><div class="hljs-ln-line">    const input = fixture.nativeElement.querySelector(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line">    const event = createNewEvent(<span class="hljs-string">'input'</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    input.value = <span class="hljs-string">'Red'</span>;</div><div class="hljs-ln-line">    input.dispatchEvent(event);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    fixture.detectChanges();</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    expect(component.favoriteColor).toEqual(<span class="hljs-string">'Red'</span>);</div><div class="hljs-ln-line">  }));</div><div class="hljs-ln-line">});</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="96sz3xae4hctlw3c8lr135gu8">这个 "模型到视图" 测试的执行步骤如下：</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1jazn4yg4fc8tjgduh0dewut1">使用组件实例来设置 <code>favoriteColor</code> 的值。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bm25ip6x2uyryu38qfk2iownq">通过测试夹具（Fixture）来运行变更检测。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="1u8q238mbnzo5denlh98i44qz">使用
<code>tick()</code>方法在
<code>fakeAsync()</code>任务中模拟时间的流逝。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="mgbnxo67xpvb1lb1ifkv4zde">查询表单中输入框的视图。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b9uxx9lggcy89zr63cw81lbow">断言输入框的值与该组件实例的 <code>favoriteColor</code> 属性值是匹配的。</li>

    </ol>
    
  <h2 id="next-steps">
    <a href="#next-steps" class="docs-anchor" tabindex="-1" aria-label="Link to Next steps" data-ng_translator_product="100" data-ng_translator_ref_id="c4pkljueu68ifjoi5994e9l8o">后续步骤</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="f12x3s8sgeivlj1ki3ee6uv4n">要进一步了解响应式表单，参阅下列章节：</p>

    <nav class="docs-pill-row">
      
    <a class="docs-pill" href="guide/forms/reactive-forms" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9n00elsmmvfwbrk2uy85m10x9">响应式表单</a>
    
    <a class="docs-pill" href="guide/forms/form-validation#validating-input-in-reactive-forms" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="e6toflc55aon4h988x9vttc0y">表单验证</a>
    
    <a class="docs-pill" href="guide/forms/dynamic-forms" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cxo54denrpflb9se9udizrrzw">动态表单</a>
    

    </nav>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="20iahnjug73qams2e9h6znh4d">要进一步了解模板驱动表单，参阅下列章节：</p>

    <nav class="docs-pill-row">
      
    <a class="docs-pill" href="guide/forms/template-driven-forms" data-ng_translator_product="100" data-ng_translator_ref_id="e1irg6pkzdqe82hflwdmklfpd">模板驱动表单教程</a>
    
    <a class="docs-pill" href="guide/forms/form-validation#validating-input-in-template-driven-forms" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="e6toflc55aon4h988x9vttc0y">表单验证</a>
    
    <a class="docs-pill" href="api/forms/NgForm" data-ng_translator_product="100" data-ng_translator_ref_id="9n2xyng1u9nv4zhlnnkyhoc47">NgForm 指令 API 参考</a>
    

    </nav>
    