<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b2xwzrnb2ye7twpwf3t9i2eiv">响应式表单</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/forms/reactive-forms.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1jlimjbqirhzn9e8682fakis0">响应式表单提供了一种模型驱动的方式来处理表单输入，其中的值会随时间而变化。本文会向你展示如何创建和更新基本的表单控件，接下来还会在一个表单组中使用多个控件，验证表单的值，以及创建动态表单，也就是在运行期添加或移除控件。</p>

  <h2 id="overview-of-reactive-forms">
    <a href="#overview-of-reactive-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Overview of reactive forms" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6ytjp8a8cccvj5seiyo3oz4r4">响应式表单概览</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="8qkg6q9lh1thoanjvhuddyk6g">响应式表单使用明确且不可变的方法来管理表单在特定时间点的状态。 对表单状态的每次更改都会返回一个新状态，保持模型在更改之间的完整性。 响应式表单围绕可观察流构建，其中表单输入和值被提供为输入值流，可以同步访问。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cnglyza13v428ijj3n1h1asl8">响应式表单还提供了一种更直观的测试路径，因为在请求时你可以确信这些数据是一致的、可预料的。这个流的任何一个消费者都可以安全地操纵这些数据。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="3biyobh3vd3bu2ucf9uw7rwi3">响应式表单与
<a href="guide/forms/template-driven-forms">模板驱动表单</a>在不同方面有所不同。 响应式表单提供对数据模型的同步访问，使用可观察操作符进行不可变性，并通过可观察流进行更改跟踪。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="a36i014lx1cq2br86rvh2jern">模板驱动表单允许直接访问模板中的数据进行修改，但比响应式表单不那么明确，因为它们依赖于嵌入模板中的指令，以及可变数据来异步跟踪更改。 查看
<a href="guide/forms">表单概述</a>以详细比较这两种范例。</p>

  <h2 id="adding-a-basic-form-control">
    <a href="#adding-a-basic-form-control" class="docs-anchor" tabindex="-1" aria-label="Link to Adding a basic form control" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="lhmjzgldp42sj2bgi7ni2shl">添加基础表单控件</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="86od8zyjw6f7zl0pv81ex3j6g">使用表单控件有三个步骤。</p>

    <ol class="docs-ordered-list">
      <li><p data-ng_translator_product="100" data-ng_translator_ref_id="5fw6wa71hj83vm574eg4xarmx">在应用程序中注册响应式表单模块。 这个模块声明了你需要使用响应式表单的指令。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="de7pkpb0wl8710rdgotav857o">生成一个新组件并实例化一个新的
<code>FormControl</code>。</p>
</li>
<li><p data-ng_translator_product="100" data-ng_translator_ref_id="az5q3b5ltavgk4xzcnit0ql4f">在模板中注册
<code>FormControl</code>。</p>
</li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9u8k7pis6wjf81ghuec43m5w">然后，你可以把组件添加到模板中来显示表单。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="12c44d0ajer6qfunm2itwakbu">下面的例子展示了如何添加一个表单控件。在这个例子中，用户在输入字段中输入自己的名字，捕获其输入值，并显示表单控件的当前值。</p>

    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="import-the-reactiveformsmodule">
    <a href="#import-the-reactiveformsmodule" class="docs-anchor" tabindex="-1" aria-label="Link to Import the ReactiveFormsModule" data-ng_translator_product="100" data-ng_translator_ref_id="7vgvzyeo0e4wbbtqry61gt0z9">导入ReactiveFormsModule</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="c6we7gtdigu2ps580fv24vcsz">要使用响应式表单控件，从
<code>@angular/forms</code>包中导入
<code>ReactiveFormsModule</code>并将其添加到NgModule的
<code>imports</code>数组中。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/app.module.ts" visiblelines="2,3,8,10,12,13,14,17,18" header="src/app/app.module.ts (excerpt)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="yukxc8i894fhzomkpnsfwlka">src/app/app.module.ts（摘录）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {BrowserModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/platform-browser'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {NgModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ReactiveFormsModule} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {AppComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.component'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {NameEditorComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'./name-editor/name-editor.component'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {ProfileEditorComponent} <span class="hljs-keyword">from</span> <span class="hljs-string">'./profile-editor/profile-editor.component'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@NgModule({</div><div class="hljs-ln-line">  declarations: [AppComponent, NameEditorComponent, ProfileEditorComponent],</div><div class="hljs-ln-line">  imports: [</div><div class="hljs-ln-line">    BrowserModule,</div><div class="hljs-ln-line">    <span class="hljs-regexp">//</span> other imports ...</div><div class="hljs-ln-line">    ReactiveFormsModule,</div><div class="hljs-ln-line">  ],</div><div class="hljs-ln-line">  providers: [],</div><div class="hljs-ln-line">  bootstrap: [AppComponent],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">AppModule</span> {}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="generate-a-new-component-with-a-formcontrol">
    <a href="#generate-a-new-component-with-a-formcontrol" class="docs-anchor" tabindex="-1" aria-label="Link to Generate a new component with a FormControl" data-ng_translator_product="100" data-ng_translator_ref_id="b116v3154by2tmg98pcf9t5lc">生成带有FormControl的新组件</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="c7ycr54z0bofhczkq1frxv1an">使用CLI命令
<code>ng generate component</code>在项目中生成一个用于承载控件的组件。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/name-editor/name-editor.component.ts" visiblelines="0,1,2,3,4,5,6,7,8,9,14" header="src/app/name-editor/name-editor.component.ts">
    <div class="docs-code-header"><h3>src/app/name-editor/name-editor.component.ts</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Component</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">FormControl</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-name-editor'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./name-editor.component.html'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./name-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NameEditorComponent</span> {</div><div class="hljs-ln-line">  name = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">updateName</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>.<span class="hljs-title function_">setValue</span>(<span class="hljs-string">'Nancy'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="e9mnnphsoxauqm45iq5ymkqha">使用
<code>FormControl</code>的构造函数设置其初始值，在这种情况下是一个空字符串。通过在组件类中创建这些控件，你可以立即访问以监听、更新和验证表单输入状态。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="register-the-control-in-the-template">
    <a href="#register-the-control-in-the-template" class="docs-anchor" tabindex="-1" aria-label="Link to Register the control in the template" data-ng_translator_product="100" data-ng_translator_ref_id="5dnbvfxn9m33o912ar9tfgp1y">在模板中注册控件</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="631qw04tyadhpfuu5p26k6m7z">在组件类中创建控件后，必须将其与模板中的表单控件关联起来。使用由
<code>FormControlDirective</code>提供的
<code>formControl</code>绑定更新模板，该指令也包含在
<code>ReactiveFormsModule</code>中。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/name-editor/name-editor.component.html" visiblelines="0,1" header="src/app/name-editor/name-editor.component.html">
    <div class="docs-code-header"><h3>src/app/name-editor/name-editor.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControl</span>]=<span class="hljs-string">"name"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">name.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateName()"</span>&gt;</span>Update Name<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="8mw872azv19zg557hmk7x74w9">使用模板绑定语法，表单控件现在已注册到模板中的
<code>name</code>输入元素。表单控件和DOM元素之间相互通信：视图反映模型的变化，模型反映视图的变化。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="display-the-component">
    <a href="#display-the-component" class="docs-anchor" tabindex="-1" aria-label="Link to Display the component" data-ng_translator_product="100" data-ng_translator_ref_id="exfzjlt09qtpyaycgbqjuvooa">显示组件</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="90wuact73r14bmqgsw99r3fyd">在将 
<code>FormControl</code> 赋给 
<code>name</code> 属性时，当将 
<code>&lt;app-name-editor&gt;</code> 组件添加到模板中时，该控件会显示。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/app.component.1.html" visiblelines="2" header="src/app/app.component.html (name editor)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="6my4zzv267lr1t138spznl3g2">src/app/app.component.html（名称编辑器）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Reactive Forms<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">app-name-editor</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-name-editor</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">app-profile-editor</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-profile-editor</span>&gt;</span></div></code>
    </pre>
  </div>
    </li>
    
    </ol>
    
  <h3 id="displaying-a-form-control-value">
    <a href="#displaying-a-form-control-value" class="docs-anchor" tabindex="-1" aria-label="Link to Displaying a form control value" data-ng_translator_product="100" data-ng_translator_ref_id="1ljfghmfsihcrk3hxsxumdztm">显示表单控件的值</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="e43ygfbtq01gxu8n11zed2ih3">你可以用下列方式显示它的值。</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_ref_id="2ircof2ytqjfvmw9m01ugsrqj">通过 
<code>valueChanges</code> 可观察者，你可以在模板中使用 
<code>AsyncPipe</code> 或在组件类中使用 
<code>subscribe()</code> 方法监听表单值的变化。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="exxdcqpzd8f5u4sp8o631y75r">使用 <code>value</code> 属性。它能让你获得当前值的一份快照。</li>

  </ul>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="1pmypu4slg7i2bb5uxn9fdb50">下面的例子展示了如何在模板中使用插值显示当前值。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/name-editor/name-editor.component.html" visiblelines="3" header="src/app/name-editor/name-editor.component.html (control value)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="9jk9it596ngpylno3arlsazpi">src/app/name-editor/name-editor.component.html（控件值）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControl</span>]=<span class="hljs-string">"name"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">name.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateName()"</span>&gt;</span>Update Name<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="r075z0scuk04scm3d6mabdqw">一旦你修改了表单控件所关联的元素，这里显示的值也跟着变化了。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="1xjnae4het86vo0a5zf5c0f0n">响应式表单通过提供的每个实例中的属性和方法，提供对给定控件的信息访问。 这些属性和方法来自底层 
<a href="api/forms/AbstractControl" title="API" reference>AbstractControl</a> 类，用于控制表单状态，并确定在处理 
<a href="#basic-form-validation" title="了解更多" 表单验证>输入验证</a> 时何时显示消息。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="cjal14cp6gzro10wwc6nzktbq">在 
<a href="api/forms/FormControl" title="详细" 语法参考>API 参考</a> 中了解其他 
<code>FormControl</code> 属性和方法。</p>

  <h3 id="replacing-a-form-control-value">
    <a href="#replacing-a-form-control-value" class="docs-anchor" tabindex="-1" aria-label="Link to Replacing a form control value" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2y447111jw2jx6droz8x2m02k">替换表单控件的值</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="1ltmkzmdl3bfmb313mhvz64fv">响应式表单有方法可以通过编程方式更改控件的值，这让你可以在不进行用户交互的情况下更新值。 一个表单控件实例提供了 
<code>setValue()</code> 方法，该方法更新表单控件的值并根据控件的结构验证所提供值的结构。 例如，当从后端 API 或服务中检索表单数据时，使用 
<code>setValue()</code> 方法将控件更新为其新值，完全替换旧值。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="efnb4t60w77bqgq3gmoc3joi8">下列的例子往组件类中添加了一个方法，它使用 <code>setValue()</code> 方法来将控件的值修改为 <em>Nancy</em>。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/name-editor/name-editor.component.ts" visiblelines="11,12,13" header="src/app/name-editor/name-editor.component.ts (update value)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="795xadsy5yhxkomg7kzhd1mj8">src/app/name-editor/name-editor.component.ts（更新值）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Component</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">FormControl</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-name-editor'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./name-editor.component.html'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./name-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NameEditorComponent</span> {</div><div class="hljs-ln-line">  name = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">updateName</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>.<span class="hljs-title function_">setValue</span>(<span class="hljs-string">'Nancy'</span>);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="c4o9tbowcb5mqsk6dvtbo4s2a">更新模板，添加一个按钮以模拟名称更新。 当你点击 
<strong>Update Name</strong> 按钮时，表单控件元素中输入的值会反映为其当前值。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/name-editor/name-editor.component.html" visiblelines="5" header="src/app/name-editor/name-editor.component.html (update value)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="16rzaaoqnzix92ice4obgogai">src/app/name-editor/name-editor.component.html（更新值）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControl</span>]=<span class="hljs-string">"name"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">name.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateName()"</span>&gt;</span>Update Name<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9akc4i4ge3j05s7d6ne1msncn">由于表单模型是该控件的事实之源，因此当你单击该按钮时，组件中该输入框的值也变化了，覆盖掉它的当前值。</p>

    <div class="docs-alert docs-alert-helpful">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="29ks9rd3zez2aryr4f6mog0nj"><strong>提示：</strong> 在此示例中，你正在使用单个控件。 当使用 
<code>setValue()</code> 方法时，如果是针对 
<a href="#grouping-form-controls">表单组</a> 或 
<a href="#creating-dynamic-forms">表单数组</a> 实例，值需要与该组或数组的结构匹配。</p>

    </div>
    
  <h2 id="grouping-form-controls">
    <a href="#grouping-form-controls" class="docs-anchor" tabindex="-1" aria-label="Link to Grouping form controls" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ebp6l4cz7g6ebzrj3ixzdgidr">把表单控件分组</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="329hb2zpzy7wx2ym44z6h4f57">表单中通常会包含几个相互关联的控件。响应式表单提供了两种把多个相关控件分组到同一个输入表单中的方法。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="1ngau0a6t749at24vwnzrz546">表单组</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="f29x74v1ea7lp27z3inu83opl">表单组</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="68ryhvk8xbxw0fm7naj7e5o62">定义一个具有一组固定控件的表单，你可以一起管理这些控件。本节介绍了表单组的基础知识。你还可以 
<a href="#creating-nested-form-groups" title="查看更多" 关于嵌套组>嵌套表单组</a> 来创建更复杂的表单。</td>
</tr>
<tr>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="3p9yaammp9kmb6owakru0tkhg">表单数组</td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="4ebg6uq4qtoat6w1wcccbl3v8">定义一个动态表单，可以在运行时添加和删除控件。你还可以嵌套表单数组来创建更复杂的表单。有关此选项的更多信息，请参阅 
<a href="#creating-dynamic-forms">创建动态表单</a>。</td>
</tr>

      </tbody>
    </table>
  </div>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="yne0l1augb5nhoxi8o4uxqu">就像一个表单控件实例让你能控制单个输入字段一样，一个表单组实例会追踪一组表单控件实例（例如，一个表单）的表单状态。创建表单组时，每个表单组实例中的控件通过名称进行追踪。以下示例展示了如何在单个组中管理多个表单控件实例。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="5fr6oh9i69s66ton0j7ty546l">生成一个 
<code>ProfileEditor</code> 组件，并从 
<code>@angular/forms</code> 包中导入 
<code>FormGroup</code> 和 
<code>FormControl</code> 类。</p>
<div class="docs-code shell">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">ng generate component ProfileEditor</div></code>
    </pre>
  </div><div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.1.ts" visiblelines="1" header="src/app/profile-editor/profile-editor.component.ts (imports)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="t2fi6mvp7mymn02xyzcoq9g6">src/app/profile-editor/profile-editor.component.ts（导入）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">import {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line">import {FormGroup, FormControl} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@<span class="hljs-title function_ invoke__">Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProfileEditorComponent</span> </span>{</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">    firstName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    lastName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">      street: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      city: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      state: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      zip: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-title function_ invoke__">updateProfile</span>() {</div><div class="hljs-ln-line">    this.profileForm.<span class="hljs-title function_ invoke__">patchValue</span>({</div><div class="hljs-ln-line">      <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">address</span>: {</div><div class="hljs-ln-line">        <span class="hljs-attr">street</span>: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7qjvz5ayjkxvdccsi0nd4y2f5">要将表单组添加到此组件中，请执行以下步骤。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_ref_id="epseidjy7n6y04ttyc1x74jyf">创建一个 
<code>FormGroup</code> 实例。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="72m4zf402po5g2fvbruxzie76">关联 
<code>FormGroup</code> 模型和视图。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="35u19fr5xo9ostfmimua3fnel">保存表单数据。</li>

    </ol>
    
    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="create-a-formgroup-instance">
    <a href="#create-a-formgroup-instance" class="docs-anchor" tabindex="-1" aria-label="Link to Create a FormGroup instance" data-ng_translator_product="100" data-ng_translator_ref_id="bxjypxrcwuy0s8x36c4u3oi2j">创建一个 FormGroup 实例</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="ezolkz80sm7fnqwuua6ahnsnj">在组件类中创建一个名为 
<code>profileForm</code> 的属性，并将该属性设置为一个新的表单组实例。要初始化表单组，请向构造函数提供一个以命名键映射到其控件的对象。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="al6keb923gtcm4n6sugz18769">对于个人资料表单，添加两个表单控件实例，名称分别为 
<code>firstName</code> 和 
<code>lastName</code></p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.1.ts" visiblelines="0,1,2,3,4,5,6,7,8,9,10,11,18,27" header="src/app/profile-editor/profile-editor.component.ts (form group)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="a0w5evb4esq11fjb6hokai04f">src/app/profile-editor/profile-editor.component.ts (表单组)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">import {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line">import {FormGroup, FormControl} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@<span class="hljs-title function_ invoke__">Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProfileEditorComponent</span> </span>{</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">    firstName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    lastName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">      street: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      city: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      state: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      zip: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-title function_ invoke__">updateProfile</span>() {</div><div class="hljs-ln-line">    this.profileForm.<span class="hljs-title function_ invoke__">patchValue</span>({</div><div class="hljs-ln-line">      <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">address</span>: {</div><div class="hljs-ln-line">        <span class="hljs-attr">street</span>: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="8ibnbljgbhw2kf4yzhcmzi01b">现在，个别表单控件已收集在一个组内。一个 
<code>FormGroup</code> 实例将其模型值作为从组内每个控件的值减少而来的对象提供。表单组实例具有与表单控件实例相同的属性（例如 
<code>value</code> 和 
<code>untouched</code>）和方法（例如 
<code>setValue()</code>）。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="associate-the-formgroup-model-and-view">
    <a href="#associate-the-formgroup-model-and-view" class="docs-anchor" tabindex="-1" aria-label="Link to Associate the FormGroup model and view" data-ng_translator_product="100" data-ng_translator_ref_id="d1wkyvl4h86x49g9x682n2wvf">关联 FormGroup 模型和视图</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="2jgqq39muq4gst3391c8rs5cy">表单组跟踪其每个控件的状态和更改，因此如果其中一个控件发生更改，父控件也会发出新的状态或值更改。组的模型是从其成员中维护的。在定义模型后，你必须更新模板以反映视图中的模型。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.1.html" visiblelines="0,1,2,3,4,5,6,7,34" header="src/app/profile-editor/profile-editor.component.html (template form group)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="51sl19u0l5ruyj2m32qh91245">src/app/profile-editor/profile-editor.component.html (模板表单组)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"profileForm"</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"first-name"</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"first-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"firstName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"last-name"</span>&gt;</span>Last Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"last-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"lastName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"address"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"street"</span>&gt;</span>Street: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"street"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"street"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"city"</span>&gt;</span>City: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"city"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"city"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"state"</span>&gt;</span>State: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"state"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"state"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"zip"</span>&gt;</span>Zip Code: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"zip"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"zip"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formArrayName</span>=<span class="hljs-string">"aliases"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Aliases<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"addAlias()"</span>&gt;</span>+ Add another alias<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let address of aliases.controls; let i=index"</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-comment">&lt;!-- The repeated alias template --&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>Alias: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControlName</span>]=<span class="hljs-string">"i"</span>&gt;</span></span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Value: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateProfile()"</span>&gt;</span>Update Profile<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="e56wvoqpnvmxtcfflmts5zicn">就像表单组包含一组控件一样，
<em>profileForm</em> 
<code>FormGroup</code> 与 
<code>form</code> 元素绑定，使用 
<code>FormGroup</code> 指令，在模型和包含输入的表单之间创建通信层。由 
<code>FormControlName</code> 指令提供的 
<code>formControlName</code> 输入将每个单独的输入绑定到 
<code>FormGroup</code> 中定义的表单控件。表单控件与各自的元素通信。它们还将更改传达给表单组实例，为模型值提供事实之源。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="save-form-data">
    <a href="#save-form-data" class="docs-anchor" tabindex="-1" aria-label="Link to Save form data" data-ng_translator_product="100" data-ng_translator_ref_id="ewfedwkz2pap4rmyv0u380ser">保存表单数据</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="ejtj5t1kd5gxee61tkwptspmc"><code>ProfileEditor</code> 组件接受用户的输入，但在实际情况下，你希望捕获表单值并使其可用于组件外部的进一步处理。 
<code>FormGroup</code> 指令监听由 
<code>form</code> 元素发出的 
<code>submit</code> 事件，并发出一个 
<code>ngSubmit</code> 事件，你可以将其绑定到回调函数。在 
<code>form</code> 标签中添加一个带有 
<code>onSubmit()</code> 回调方法的 
<code>ngSubmit</code> 事件监听器。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.html" visiblelines="0" header="src/app/profile-editor/profile-editor.component.html (submit event)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="23np0pb6mg76t3a1fns1r64n0">src/app/profile-editor/profile-editor.component.html (提交事件)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"profileForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit()"</span>&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"first-name"</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"first-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"firstName"</span> <span class="hljs-attr">required</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"last-name"</span>&gt;</span>Last Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"last-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"lastName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"address"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"street"</span>&gt;</span>Street: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"street"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"street"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"city"</span>&gt;</span>City: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"city"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"city"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"state"</span>&gt;</span>State: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"state"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"state"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"zip"</span>&gt;</span>Zip Code: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"zip"</span><span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"zip"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formArrayName</span>=<span class="hljs-string">"aliases"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Aliases<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"addAlias()"</span>&gt;</span>+ Add another alias<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let alias of aliases.controls; let i=index"</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-comment">&lt;!-- The repeated alias template --&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>Alias:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControlName</span>]=<span class="hljs-string">"i"</span>&gt;</span></span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Complete the form to enable button.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> [<span class="hljs-attr">disabled</span>]=<span class="hljs-string">"!profileForm.valid"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Value: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Status: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.status</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateProfile()"</span>&gt;</span>Update Profile<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="7j79wh2q5alvslxs9xvs04aei"><code>ProfileEditor</code> 组件中的 
<code>onSubmit()</code> 方法捕获 
<code>profileForm</code> 的当前值。使用 
<code>EventEmitter</code> 保持表单封装，并在组件外部提供表单值。以下示例使用 
<code>console.warn</code> 在浏览器控制台中记录一条消息。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.ts" visiblelines="41,42,43,44,45" header="src/app/profile-editor/profile-editor.component.ts (submit method)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="4ctyu8pd5yxlbhq75qawmwgt3">src/app/profile-editor/profile-editor.component.ts (提交方法)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Validators} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>, Validators.required],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  onSubmit() {</div><div class="hljs-ln-line">    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Use EventEmitter with form value</span></div><div class="hljs-ln-line">    console.warn(<span class="hljs-keyword">this</span>.profileForm.value);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="e89fny8kgxtrefba754rdrf2k"><code>submit</code> 事件通过内置的 DOM 事件由 
<code>form</code> 标签发出。你可以通过点击具有 
<code>submit</code> 类型的按钮触发事件。这使用户可以按 
<strong>Enter</strong> 键提交已填写的表单。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="dgehge67bzc10tcz6yn5m19dj">使用 
<code>button</code> 元素在表单底部添加一个按钮来触发表单提交。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.html" visiblelines="35,36" header="src/app/profile-editor/profile-editor.component.html (submit button)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="612kavgpoqhz4sz84z8zqbztb">src/app/profile-editor/profile-editor.component.html (提交按钮)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"profileForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit()"</span>&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"first-name"</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"first-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"firstName"</span> <span class="hljs-attr">required</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"last-name"</span>&gt;</span>Last Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"last-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"lastName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"address"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"street"</span>&gt;</span>Street: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"street"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"street"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"city"</span>&gt;</span>City: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"city"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"city"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"state"</span>&gt;</span>State: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"state"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"state"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"zip"</span>&gt;</span>Zip Code: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"zip"</span><span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"zip"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formArrayName</span>=<span class="hljs-string">"aliases"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Aliases<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"addAlias()"</span>&gt;</span>+ Add another alias<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let alias of aliases.controls; let i=index"</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-comment">&lt;!-- The repeated alias template --&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>Alias:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControlName</span>]=<span class="hljs-string">"i"</span>&gt;</span></span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Complete the form to enable button.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> [<span class="hljs-attr">disabled</span>]=<span class="hljs-string">"!profileForm.valid"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Value: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Status: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.status</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateProfile()"</span>&gt;</span>Update Profile<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="cwb2icvdzecsjns8dqmghmhn6">前面代码段中的按钮还附有一个绑定的 
<code>disabled</code>，以在 
<code>profileForm</code> 无效时禁用按钮。目前尚未执行任何验证，因此按钮始终可用。基本表单验证在 
<a href="#validating-form-input">验证表单输入</a> 部分中介绍。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="display-the-component-1">
    <a href="#display-the-component-1" class="docs-anchor" tabindex="-1" aria-label="Link to Display the component" data-ng_translator_product="100" data-ng_translator_ref_id="exfzjlt09qtpyaycgbqjuvooa">显示组件</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="8psywuqxxqb1wbvv27xelyilf">要显示包含表单的 
<code>ProfileEditor</code> 组件，请将其添加到组件模板中。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/app.component.1.html" visiblelines="4" header="src/app/app.component.html (profile editor)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="9tigca3wy6ifky7lgglplo3rj">src/app/app.component.html (档案编辑器)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Reactive Forms<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">app-name-editor</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-name-editor</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">app-profile-editor</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app-profile-editor</span>&gt;</span></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="9wultmtj81pd0k5j7ofycpupa"><code>ProfileEditor</code> 允许你管理表单组实例中的 
<code>firstName</code> 和 
<code>lastName</code> 控件的表单控件实例。</p>

  <h3 id="creating-nested-form-groups">
    <a href="#creating-nested-form-groups" class="docs-anchor" tabindex="-1" aria-label="Link to Creating nested form groups" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bpovoo6cwrqivfdh8a9qjolju">创建嵌套的表单组</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="aklzyzaf2uhfv1aivoace1kq4">表单组可以同时接受单个表单控件实例和其它表单组实例作为其子控件。这可以让复杂的表单模型更容易维护，并在逻辑上把它们分组到一起。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="dv6q64950bm6fupzc0h2oomb3">在构建复杂表单时，在较小的部分中管理不同的信息区域会更容易。 使用嵌套的表单组实例可以将大的表单组拆分为较小、更易管理的部分。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="6juoxv7i1ds9h21qswytuiomq">要制作更复杂的表单，请遵循如下步骤。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="avvv6bozxp54cxr408mzedv5k">创建一个嵌套的表单组。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b7lrotzhtr2ec6klgpxci2m5l">在模板中对这个嵌套表单分组。</li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="37n6foherrdjm0c8ui1yjl0ds">某些类型的信息天然就属于同一个组。比如名称和地址就是这类嵌套组的典型例子，下面的例子中就用到了它们。</p>
<docs-workflow>
<docs-step title="Create a nested group">
To create a nested group in `profileForm`, add a nested `address` element to the form group instance.

<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.1.ts" visiblelines="0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,27,28,29" header="src/app/profile-editor/profile-editor.component.ts (nested form group)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="4pe6jt85wzrtmd96xbe1f65a1">src/app/profile-editor/profile-editor.component.ts (嵌套表单组)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">import {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line">import {FormGroup, FormControl} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@<span class="hljs-title function_ invoke__">Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProfileEditorComponent</span> </span>{</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">    firstName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    lastName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">      street: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      city: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      state: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      zip: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-title function_ invoke__">updateProfile</span>() {</div><div class="hljs-ln-line">    this.profileForm.<span class="hljs-title function_ invoke__">patchValue</span>({</div><div class="hljs-ln-line">      <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">address</span>: {</div><div class="hljs-ln-line">        <span class="hljs-attr">street</span>: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="3nauocjyb75yhplsqrnkkgv86">在此示例中，
<code>address group</code> 将当前的 
<code>firstName</code> 和 
<code>lastName</code> 控件与新的 
<code>street</code>、
<code>city</code>、
<code>state</code> 和 
<code>zip</code> 控件结合起来。尽管表单组中的 
<code>address</code> 元素是整体表单组中 
<code>profileForm</code> 元素的子元素，但同样的规则适用于值和状态的变化。嵌套表单组的状态和值变化会传播到父表单组，保持与整体模型的一致性。</p>

    </docs-step></docs-workflow></li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="group-the-nested-form-in-the-template">
    <a href="#group-the-nested-form-in-the-template" class="docs-anchor" tabindex="-1" aria-label="Link to Group the nested form in the template" data-ng_translator_product="100" data-ng_translator_ref_id="dr5xlkyuxps8a08n0h28539gr">在模板中分组嵌套表单</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="4doqqfu4q1yrtgcqziya1dpzh">在组件类中更新模型后，更新模板以连接表单组实例及其输入元素。将包含 
<code>street</code>、
<code>city</code>、
<code>state</code> 和 
<code>zip</code> 字段的 
<code>address</code> 表单组添加到 
<code>ProfileEditor</code> 模板中。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.1.html" visiblelines="8,9,10,11,12,13,14,15,16,17,18,19,20,21,22" header="src/app/profile-editor/profile-editor.component.html (template nested form group)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="3w64qukff4bcmn6ssz8p3w4ii">src/app/profile-editor/profile-editor.component.html (嵌套表单组模板)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"profileForm"</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"first-name"</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"first-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"firstName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"last-name"</span>&gt;</span>Last Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"last-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"lastName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"address"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"street"</span>&gt;</span>Street: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"street"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"street"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"city"</span>&gt;</span>City: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"city"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"city"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"state"</span>&gt;</span>State: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"state"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"state"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"zip"</span>&gt;</span>Zip Code: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"zip"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"zip"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formArrayName</span>=<span class="hljs-string">"aliases"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Aliases<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"addAlias()"</span>&gt;</span>+ Add another alias<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let address of aliases.controls; let i=index"</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-comment">&lt;!-- The repeated alias template --&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>Alias: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControlName</span>]=<span class="hljs-string">"i"</span>&gt;</span></span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Value: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateProfile()"</span>&gt;</span>Update Profile<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="9r2fe69x8eu4xp2f66hhqsgfn"><code>ProfileEditor</code> 表单显示为一个组，但模型进一步分解以表示逻辑分组区域。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="gmt57ezkm972kqd3rujityj">使用 
<code>value</code> 属性和 
<code>JsonPipe</code> 在组件模板中显示表单组实例的值。</p>

    </li>
    
    </ol>
    
  <h3 id="updating-parts-of-the-data-model">
    <a href="#updating-parts-of-the-data-model" class="docs-anchor" tabindex="-1" aria-label="Link to Updating parts of the data model" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="79doltm3ltchl1q64nsndmvuf">更新数据模型的部分内容</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="3s6y6b45jen7eps4hgeogeol7">当更新包含多个控件的表单组实例的值时，你可能只想更新模型的某些部分。 本节介绍如何更新表单控件数据模型的特定部分。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="d2cehnv06ru6paj612vwoosni">有两种更新模型值的方式：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="1xubgaqmffibk0p3s7z4lwoiw">方法</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>setValue()</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="a1h74gdjermlato26kgh7i114">为单个控件设置新值。
<code>setValue()</code> 方法严格遵循表单组的结构，并替换控件的整个值。</td>
</tr>
<tr>
<td align="left"><code>patchValue()</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="2ryky193pgg1eahtuxvlm28la">替换在表单模型中对象中定义的已更改的任何属性。</td>
</tr>

      </tbody>
    </table>
  </div>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="csdob4rucokriy7d48yb1er6a"><code>setValue()</code> 方法的严格检查可以帮助你捕获复杂表单嵌套中的错误，而 <code>patchValue()</code> 在遇到那些错误时可能会默默的失败。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="akd417lsh82sj3s5w4e2wy09j">在 <code>ProfileEditorComponent</code> 中，使用 <code>updateProfile</code> 方法传入下列数据可以更新用户的名字与街道住址。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.1.ts" visiblelines="19,20,21,22,23,24,25,26" header="src/app/profile-editor/profile-editor.component.ts (patch value)">
    <div class="docs-code-header"><h3>src/app/profile-editor/profile-editor.component.ts (patch value)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">import {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line">import {FormGroup, FormControl} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@<span class="hljs-title function_ invoke__">Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProfileEditorComponent</span> </span>{</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">    firstName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    lastName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">      street: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      city: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      state: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      zip: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-title function_ invoke__">updateProfile</span>() {</div><div class="hljs-ln-line">    this.profileForm.<span class="hljs-title function_ invoke__">patchValue</span>({</div><div class="hljs-ln-line">      <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">address</span>: {</div><div class="hljs-ln-line">        <span class="hljs-attr">street</span>: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="b72t9pes0pmkixn592abvg42e">通过往模板中添加一个按钮来模拟一次更新操作，以修改用户档案。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.1.html" visiblelines="38" header="src/app/profile-editor/profile-editor.component.html (update value)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="38611zab8njhcx47afvfjain2">src/app/profile-editor/profile-editor.component.html (更新值)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"profileForm"</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"first-name"</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"first-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"firstName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"last-name"</span>&gt;</span>Last Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"last-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"lastName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"address"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"street"</span>&gt;</span>Street: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"street"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"street"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"city"</span>&gt;</span>City: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"city"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"city"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"state"</span>&gt;</span>State: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"state"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"state"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"zip"</span>&gt;</span>Zip Code: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"zip"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"zip"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formArrayName</span>=<span class="hljs-string">"aliases"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Aliases<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"addAlias()"</span>&gt;</span>+ Add another alias<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let address of aliases.controls; let i=index"</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-comment">&lt;!-- The repeated alias template --&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>Alias: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControlName</span>]=<span class="hljs-string">"i"</span>&gt;</span></span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Value: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateProfile()"</span>&gt;</span>Update Profile<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="94ipwahd6fkqnvlbirea0rqlr">当用户点击按钮时，
<code>profileForm</code>模型会更新
<code>firstName</code>和
<code>street</code>的新值。注意
<code>street</code>是提供在
<code>address</code>属性中的一个对象内的。这是必要的，因为
<code>patchValue()</code>方法是针对模型结构应用更新的。
<code>patchValue()</code>只更新表单模型定义的属性。</p>

  <h2 id="using-the-formbuilder-service-to-generate-controls">
    <a href="#using-the-formbuilder-service-to-generate-controls" class="docs-anchor" tabindex="-1" aria-label="Link to Using the FormBuilder service to generate controls" data-ng_translator_product="100" data-ng_translator_ref_id="edqcwfo3te608olip9ptu0mac">使用 FormBuilder 服务生成控件</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="cg1qcrtj0my2sb9rl80dshoog">当处理多个表单时，手动创建表单控件实例可能会变得重复。
<code>FormBuilder</code>服务提供了便捷的方法来生成控件。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4k4pjx3m0p92jn6zaiwkd6vct">通过下列步骤可以利用这项服务。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_ref_id="6madphopjvvk4qzh19e762jsx">导入
<code>FormBuilder</code>类。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="emub0w8omswswhplste640d25">注入
<code>FormBuilder</code>服务。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8pk42y7ozodrg64k4uizl841h">生成表单内容。</li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="bht3aqkhgfnatyiy254ljhk8u">以下示例展示了如何重构 
<code>ProfileEditor</code> 组件，以使用表单构建器服务来创建表单控件和表单组实例。</p>

    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="import-the-formbuilder-class">
    <a href="#import-the-formbuilder-class" class="docs-anchor" tabindex="-1" aria-label="Link to Import the FormBuilder class" data-ng_translator_product="100" data-ng_translator_ref_id="7nkaf80o8zqmnarc7kjox23fg">导入FormBuilder类</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="b0lsj7gy8dtewbuwkn60ohw7m">从
<code>@angular/forms</code>包中导入
<code>FormBuilder</code>类。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.2.ts" visiblelines="1" header="src/app/profile-editor/profile-editor.component.ts (import)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="emb7pqb5zftq7yad4yrfrpf80">src/app/profile-editor/profile-editor.component.ts (导入)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="inject-the-formbuilder-service">
    <a href="#inject-the-formbuilder-service" class="docs-anchor" tabindex="-1" aria-label="Link to Inject the FormBuilder service" data-ng_translator_product="100" data-ng_translator_ref_id="aelqijlgak9h5pnglk00owy41">注入FormBuilder服务</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="42voqv089uulcd6iidm49ifnz"><code>FormBuilder</code>服务是一个可注入的提供者，由响应式表单模块提供。通过将其添加到组件构造函数中来注入此依赖项。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.2.ts" visiblelines="25,26" header="src/app/profile-editor/profile-editor.component.ts (constructor)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="4w4jxnr5lsc61plsb5amp9u1t">src/app/profile-editor/profile-editor.component.ts (构造函数)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="generate-form-controls">
    <a href="#generate-form-controls" class="docs-anchor" tabindex="-1" aria-label="Link to Generate form controls" data-ng_translator_product="100" data-ng_translator_ref_id="7hab1kzm365vmk452i1c4xgjq">生成表单控件</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="1gj5y8odzzp3eycpwarf3oikm"><code>FormBuilder</code>服务有三个方法：
<code>control()</code>、
<code>group()</code>和
<code>array()</code>。这些是用于在组件类中生成实例（包括表单控件、表单组和表单数组）的工厂方法。使用
<code>group</code>方法来创建
<code>profileForm</code>控件。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.2.ts" visiblelines="0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,20,25,26,40" header="src/app/profile-editor/profile-editor.component.ts (form builder)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="1kkxnv1qxukdy2nlbkl88pynd">src/app/profile-editor/profile-editor.component.ts (表单构建器)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="10bqbm24utfgnbxtjgwafellx">在前面的示例中，你使用
<code>group()</code>方法与同一个对象来定义模型中的属性。每个控件名称的值是一个数组，数组中的第一个条目是初始值。</p>

    <div class="docs-alert docs-alert-tip">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="6be43tu9e5r6p73e9yknp712z"><strong>提示：</strong>你可以仅定义控件的初始值，但如果控件需要同步或异步验证器，可以将同步和异步验证器作为数组的第二和第三个条目添加。比较使用表单构建器与手动创建实例。</p>

    </div>
    <div class="docs-code-multifile">
    <div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.1.ts" visiblelines="9,10,11,12,13,14,15,16,17,18" header="src/app/profile-editor/profile-editor.component.ts (instances)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="a4t71dvcgcpx42f38j2qfwadn">src/app/profile-editor/profile-editor.component.ts (实例)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">import {Component} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line">import {FormGroup, FormControl} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">@<span class="hljs-title function_ invoke__">Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">templateUrl</span>: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">styleUrls</span>: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ProfileEditorComponent</span> </span>{</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">    firstName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    lastName: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormGroup</span>({</div><div class="hljs-ln-line">      street: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      city: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      state: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">      zip: <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormControl</span>(<span class="hljs-string">''</span>),</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-title function_ invoke__">updateProfile</span>() {</div><div class="hljs-ln-line">    this.profileForm.<span class="hljs-title function_ invoke__">patchValue</span>({</div><div class="hljs-ln-line">      <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      <span class="hljs-attr">address</span>: {</div><div class="hljs-ln-line">        <span class="hljs-attr">street</span>: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.2.ts" visiblelines="10,11,12,13,14,15,16,17,18,20" header="src/app/profile-editor/profile-editor.component.ts (form builder)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="1kkxnv1qxukdy2nlbkl88pynd">src/app/profile-editor/profile-editor.component.ts (表单构建器)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    </div>
    </li>
    
    </ol>
    
  <h2 id="validating-form-input">
    <a href="#validating-form-input" class="docs-anchor" tabindex="-1" aria-label="Link to Validating form input" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bj26fyjitoxu8l9ytnse5nhrn">验证表单输入</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="f54574wrmvyf9zczd4h3esvw1"><em>表单验证</em>用于确保用户输入的完整性和正确性。本节涵盖了向表单控件添加单个验证器和显示整个表单状态。表单验证在
<a href="guide/forms/form-validation">表单验证</a>指南中有更详细的介绍。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7sgoiyfn4kf80g7tgyh1kca54">使用下列步骤添加表单验证。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="eydluqlol4f42nx635myt1a68">在表单组件中导入一个验证器函数。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="4vu0gf0n4rugytpa636zt97o9">把这个验证器添加到表单中的相应字段。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7rmq7st6jkmp3tqo9ik46nv2i">添加逻辑来处理验证状态。</li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3jvyzo51dot5jc6q372knfw1h">最常见的验证是做一个必填字段。下面的例子给出了如何在 <code>firstName</code> 控件中添加必填验证并显示验证结果的方法。</p>

    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="import-a-validator-function">
    <a href="#import-a-validator-function" class="docs-anchor" tabindex="-1" aria-label="Link to Import a validator function" data-ng_translator_product="100" data-ng_translator_ref_id="1tf2rpeh96tfgm71f7jkxa0sz">导入一个验证器函数</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="e76lplkjk1qeq3m42sltju8lw">响应式表单包含一组用于常见用例的验证器函数。这些函数接收一个要验证的控件，并根据验证检查返回一个错误对象或 null 值。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="isyvn0vcmm3htmim8fk4lyqt">从 
<code>@angular/forms</code> 包中导入 
<code>Validators</code> 类。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.ts" visiblelines="2" header="src/app/profile-editor/profile-editor.component.ts (import)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="emb7pqb5zftq7yad4yrfrpf80">src/app/profile-editor/profile-editor.component.ts (导入)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Validators} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>, Validators.required],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  onSubmit() {</div><div class="hljs-ln-line">    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Use EventEmitter with form value</span></div><div class="hljs-ln-line">    console.warn(<span class="hljs-keyword">this</span>.profileForm.value);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="make-a-field-required">
    <a href="#make-a-field-required" class="docs-anchor" tabindex="-1" aria-label="Link to Make a field required" data-ng_translator_product="100" data-ng_translator_ref_id="adgea8vzvev2bk63mdiekpynx">使某个字段为必填项</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="9v5phchwli2fgmb2k9i7jstgc">在 
<code>ProfileEditor</code> 组件中，为 
<code>firstName</code> 控件的数组添加 
<code>Validators.required</code> 静态方法作为第二个条目。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.ts" visiblelines="11,12,13,14,15,16,17,18,19,21" header="src/app/profile-editor/profile-editor.component.ts (required validator)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="28rvoopnmrsl3rachcz358zoe">src/app/profile-editor/profile-editor.component.ts (必填验证器)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Validators} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>, Validators.required],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  onSubmit() {</div><div class="hljs-ln-line">    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Use EventEmitter with form value</span></div><div class="hljs-ln-line">    console.warn(<span class="hljs-keyword">this</span>.profileForm.value);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="display-form-status">
    <a href="#display-form-status" class="docs-anchor" tabindex="-1" aria-label="Link to Display form status" data-ng_translator_product="100" data-ng_translator_ref_id="72nqjoaef0xg4ezkf34ct5ydb">显示表单状态</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="bqlibsg63p6b2k4utj8yawiex">当你为表单控件添加一个必填字段时，其初始状态为无效。这种无效状态会传播到父表单组元素，使其状态无效。通过表单组实例的 
<code>status</code> 属性访问当前状态。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="bwyytpy9jcxayhizrug6nxlrd">使用插值显示 
<code>profileForm</code> 的当前状态。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.html" visiblelines="43" header="src/app/profile-editor/profile-editor.component.html (display status)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="70m147kd6rijcf467oe0m3401">src/app/profile-editor/profile-editor.component.html (显示状态)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"profileForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit()"</span>&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"first-name"</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"first-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"firstName"</span> <span class="hljs-attr">required</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"last-name"</span>&gt;</span>Last Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"last-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"lastName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"address"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"street"</span>&gt;</span>Street: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"street"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"street"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"city"</span>&gt;</span>City: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"city"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"city"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"state"</span>&gt;</span>State: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"state"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"state"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"zip"</span>&gt;</span>Zip Code: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"zip"</span><span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"zip"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formArrayName</span>=<span class="hljs-string">"aliases"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Aliases<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"addAlias()"</span>&gt;</span>+ Add another alias<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let alias of aliases.controls; let i=index"</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-comment">&lt;!-- The repeated alias template --&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>Alias:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControlName</span>]=<span class="hljs-string">"i"</span>&gt;</span></span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Complete the form to enable button.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> [<span class="hljs-attr">disabled</span>]=<span class="hljs-string">"!profileForm.valid"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Value: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Status: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.status</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateProfile()"</span>&gt;</span>Update Profile<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="4j56cc8jlnpf2kj78ja5stmw"><strong>提交</strong> 按钮被禁用，因为 
<code>profileForm</code> 由于必填的 
<code>firstName</code> 表单控件而无效。在你填写 
<code>firstName</code> 输入后，表单变为有效，
<strong>提交</strong> 按钮被启用。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8vl8dsobvx4yo9s1n1rvh2z5a">有关表单验证的更多信息，请访问 
<a href="guide/forms/form-validation">表单验证</a> 指南。</p>

    </li>
    
    </ol>
    
  <h2 id="creating-dynamic-forms">
    <a href="#creating-dynamic-forms" class="docs-anchor" tabindex="-1" aria-label="Link to Creating dynamic forms" data-ng_translator_product="100" data-ng_translator_ref_id="d1i171v2m669qwsefxozcpdj">创建动态表单</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="9f1wmef6ypefpsdnpcayhoezh"><code>FormArray</code> 是管理任意数量未命名控件的 
<code>FormGroup</code> 的一种替代方案。与表单组实例一样，你可以动态地插入和移除表单数组实例中的控件，并且表单数组实例的值和验证状态是从其子控件计算得出的。然而，你不需要为每个控件按名称定义一个键，因此如果你事先不知道子值的数量，这是一个很好的选择。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2ibuq0m3xr9h2akonojvkmgj7">要定义一个动态表单，请执行以下步骤。</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_ref_id="do2jm050id5crfaid59yskt2i">导入 
<code>FormArray</code> 类。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="9umitwrh6vxhkw9prjlzsllb1">定义一个 
<code>FormArray</code> 控件。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="1cau9ly2ytaaprq13fjw5mye3">通过 getter 方法访问 
<code>FormArray</code> 控件。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7t5avvfbcvppfs3lboxdc6bfm">在模板中显示这个表单数组。</li>

    </ol>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ab8p1tm2z88xecqnw8tq6ttks">下面的例子展示了如何在 <code>ProfileEditor</code> 中管理<em>别名</em>数组。</p>

    <ol class="docs-steps">
      
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="import-the-formarray-class">
    <a href="#import-the-formarray-class" class="docs-anchor" tabindex="-1" aria-label="Link to Import the <code>FormArray</code> class" data-ng_translator_product="100" data-ng_translator_ref_id="cz4igizs76p403ip62oqrizmd">导入 
<code>FormArray</code> 类</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="aq6j1uo6g0fjux8v7akfzwest">从 
<code>@angular/forms</code> 导入 
<code>FormArray</code> 类以用于类型信息。
<code>FormBuilder</code> 服务已准备好创建一个 
<code>FormArray</code> 实例。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.2.ts" visiblelines="2" header="src/app/profile-editor/profile-editor.component.ts (import)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="emb7pqb5zftq7yad4yrfrpf80">src/app/profile-editor/profile-editor.component.ts (导入)</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="define-a-formarray-control">
    <a href="#define-a-formarray-control" class="docs-anchor" tabindex="-1" aria-label="Link to Define a <code>FormArray</code> control" data-ng_translator_product="100" data-ng_translator_ref_id="a70nmw609n1yy7zvjtqdgsj97">定义一个 
<code>FormArray</code> 控件</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="csyqo7uzlnz0k55j3dt27gd5r">你可以通过在数组中定义控件，初始化一个包含任意数量控件的表单数组（从零到多个）。将一个 
<code>aliases</code> 属性附加到 
<code>profileForm</code> 的表单组实例上，以定义此表单数组。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="d2s5d0u67xy40oh5z6sdut7ce">使用 
<code>FormBuilder.array()</code> 方法来定义数组，并使用 
<code>FormBuilder.control()</code> 方法为数组填充一个初始控件。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.ts" visiblelines="11,12,13,14,15,16,17,18,19,20,21" header="src/app/profile-editor/profile-editor.component.ts (aliases form array)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="c8t7d0xxrxciov3xyvtrs5eqk">src/app/profile-editor/profile-editor.component.ts（aliases 表单数组）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Validators} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>, Validators.required],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  onSubmit() {</div><div class="hljs-ln-line">    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Use EventEmitter with form value</span></div><div class="hljs-ln-line">    console.warn(<span class="hljs-keyword">this</span>.profileForm.value);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="8c881f3jzzdcl8h97i9jkios6">表单组实例中的 aliases 控件现在填充了一个控件，直到动态添加更多控件为止。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="access-the-formarray-control">
    <a href="#access-the-formarray-control" class="docs-anchor" tabindex="-1" aria-label="Link to Access the <code>FormArray</code> control" data-ng_translator_product="100" data-ng_translator_ref_id="6zzi204j9hzif9s271zmnwm77">访问 
<code>FormArray</code> 控件</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="6qq6unzuufdydnynohbcx6flw">通过 getter 方法可以访问表单数组实例中的别名，相比重复使用
<code>profileForm.get()</code>方法获取每个实例，这样更为便捷。表单数组实例代表数组中数量不确定的控件。通过 getter 方法访问控件很方便，这种方法也很容易重复应用于其他控件。
<br></p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="cab1lg0tmmybxlzcnusu3y8ja">使用 getter 语法创建一个
<code>aliases</code>类属性，从父表单组中检索别名的表单数组控件。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.ts" visiblelines="22,23,24,25,26" header="src/app/profile-editor/profile-editor.component.ts (aliases getter)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="bpold9swkbc9lk13hdrswfl8r">src/app/profile-editor/profile-editor.component.ts（aliases getter）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Validators} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>, Validators.required],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  onSubmit() {</div><div class="hljs-ln-line">    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Use EventEmitter with form value</span></div><div class="hljs-ln-line">    console.warn(<span class="hljs-keyword">this</span>.profileForm.value);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="f39nao8ulhziq615o2tkboaa7">因为返回的控件是
<code>AbstractControl</code>类型，你需要为访问表单数组实例的方法提供显式类型。定义一个方法，动态地将别名控件插入到别名的表单数组中。
<code>FormArray.push()</code>方法将控件插入数组中作为新条目。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.ts" visiblelines="37,38,39,40" header="src/app/profile-editor/profile-editor.component.ts (add alias)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="2bnfnrmvurfdz53px38pbzy61">src/app/profile-editor/profile-editor.component.ts（添加别名）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Component} from <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormBuilder} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {Validators} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {FormArray} from <span class="hljs-string">'@angular/forms'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component({</span></div><div class="hljs-ln-line">  selector: <span class="hljs-string">'app-profile-editor'</span>,</div><div class="hljs-ln-line">  templateUrl: <span class="hljs-string">'./profile-editor.component.html'</span>,</div><div class="hljs-ln-line">  styleUrls: [<span class="hljs-string">'./profile-editor.component.css'</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line">export <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfileEditorComponent</span> {</div><div class="hljs-ln-line">  profileForm = <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">    firstName: [<span class="hljs-string">''</span>, Validators.required],</div><div class="hljs-ln-line">    lastName: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    address: <span class="hljs-keyword">this</span>.formBuilder.group({</div><div class="hljs-ln-line">      street: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      city: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      state: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">      zip: [<span class="hljs-string">''</span>],</div><div class="hljs-ln-line">    }),</div><div class="hljs-ln-line">    aliases: <span class="hljs-keyword">this</span>.formBuilder.array([<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>)]),</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">get</span> aliases() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.profileForm.<span class="hljs-keyword">get</span>(<span class="hljs-string">'aliases'</span>) <span class="hljs-keyword">as</span> FormArray;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">constructor</span>(<span class="hljs-keyword">private</span> formBuilder: FormBuilder) {}</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  updateProfile() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.profileForm.patchValue({</div><div class="hljs-ln-line">      firstName: <span class="hljs-string">'Nancy'</span>,</div><div class="hljs-ln-line">      address: {</div><div class="hljs-ln-line">        street: <span class="hljs-string">'123 Drew Street'</span>,</div><div class="hljs-ln-line">      },</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  addAlias() {</div><div class="hljs-ln-line">    <span class="hljs-keyword">this</span>.aliases.push(<span class="hljs-keyword">this</span>.formBuilder.control(<span class="hljs-string">''</span>));</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  onSubmit() {</div><div class="hljs-ln-line">    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> Use EventEmitter with form value</span></div><div class="hljs-ln-line">    console.warn(<span class="hljs-keyword">this</span>.profileForm.value);</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="bm8ee6ai3yqdpr8q26o0ysdze">在模板中，每个控件显示为单独的输入字段。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="display-the-form-array-in-the-template">
    <a href="#display-the-form-array-in-the-template" class="docs-anchor" tabindex="-1" aria-label="Link to Display the form array in the template" data-ng_translator_product="100" data-ng_translator_ref_id="4y2kebvgnekz8oges653ecat9">在模板中显示表单数组</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="bdno8ju8p71qbyuia0ihaymt7">要将表单模型中的别名附加到模板中，必须将其添加到模板中。与由
<code>FormGroupNameDirective</code>提供的
<code>formGroupName</code>输入类似，
<code>formArrayName</code>通过
<code>FormArrayNameDirective</code>将表单数组实例与模板进行绑定。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="2docuupe3vxz8tzx53ci4imkm">在关闭 
<code>formGroupName</code> 元素的 
<code>&lt;div&gt;</code> 后添加以下模板 HTML。</p>
<div class="docs-code" path="adev/src/content/examples/reactive-forms/src/app/profile-editor/profile-editor.component.html" visiblelines="23,24,25,26,27,28,29,30,31,32" header="src/app/profile-editor/profile-editor.component.html (aliases form array template)">
    <div class="docs-code-header"><h3 data-ng_translator_product="100" data-ng_translator_ref_id="ed7a20eaudlf0tv2zei7ke39h">src/app/profile-editor/profile-editor.component.html（别名表单数组模板）</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> [<span class="hljs-attr">formGroup</span>]=<span class="hljs-string">"profileForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit()"</span>&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"first-name"</span>&gt;</span>First Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"first-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"firstName"</span> <span class="hljs-attr">required</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"last-name"</span>&gt;</span>Last Name: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"last-name"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"lastName"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formGroupName</span>=<span class="hljs-string">"address"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Address<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"street"</span>&gt;</span>Street: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"street"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"street"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"city"</span>&gt;</span>City: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"city"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"city"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"state"</span>&gt;</span>State: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"state"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"state"</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"zip"</span>&gt;</span>Zip Code: <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"zip"</span><span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">formControlName</span>=<span class="hljs-string">"zip"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">formArrayName</span>=<span class="hljs-string">"aliases"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Aliases<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"addAlias()"</span>&gt;</span>+ Add another alias<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> *<span class="hljs-attr">ngFor</span>=<span class="hljs-string">"let alias of aliases.controls; let i=index"</span>&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-comment">&lt;!-- The repeated alias template --&gt;</span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>Alias:<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></span></div><div class="hljs-ln-line">      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"alias-</span></span><span class="hljs-template-variable">{{ <span class="hljs-name">i</span> }}</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [<span class="hljs-attr">formControlName</span>]=<span class="hljs-string">"i"</span>&gt;</span></span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Complete the form to enable button.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> [<span class="hljs-attr">disabled</span>]=<span class="hljs-string">"!profileForm.valid"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Value: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Form Status: <span class="hljs-template-variable">{{ <span class="hljs-name">profileForm.status</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"updateProfile()"</span>&gt;</span>Update Profile<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="d8pnc67o4kpvwp7bkvmf8bfsd"><code>*ngFor</code>指令遍历由别名表单数组实例提供的每个表单控件实例。因为表单数组元素没有名称，你将索引分配给
<code>i</code>变量，并将其传递给每个控件以将其绑定到
<code>formControlName</code>输入。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4lejcqj7zbd36acnfp0xq1kcj">每次添加新别名实例时，根据索引提供新的表单数组实例控件。这样你可以在计算根控件的状态和值时跟踪每个单独的控件。</p>

    </li>
    
    <li>
      <span class="docs-step-number" aria-hidden="true"></span>
      
  <h3 id="add-an-alias">
    <a href="#add-an-alias" class="docs-anchor" tabindex="-1" aria-label="Link to Add an alias" data-ng_translator_product="100" data-ng_translator_ref_id="7bzevn4u589buadx1kuedp5fy">添加别名</a>
  </h3>
  
      <p data-ng_translator_product="100" data-ng_translator_ref_id="3bdfir8i0rpz826sjbhhc8an2">最初，表单包含一个
<code>Alias</code>字段。要添加另一个字段，请点击
<strong>添加别名</strong>按钮。你还可以通过模板底部显示的
<code>Form Value</code>验证表单模型报告的别名数组。与为每个别名提供一个表单控件实例不同，你可以使用其他字段组成另一个表单组实例。定义每个条目的控件的过程是相同的。</p>

    </li>
    
    </ol>
    
  <h2 id="reactive-forms-api-summary">
    <a href="#reactive-forms-api-summary" class="docs-anchor" tabindex="-1" aria-label="Link to Reactive forms API summary" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2jv6zxxi13f8zqdhdbpyr938a">响应式表单 API 摘要</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="9z36rw9dm2x7ow2w7gu9pk6k9">以下表格列出了用于创建和管理响应式表单控件的基础类和服务。有关完整的语法详细信息，请参阅
<a href="api/forms" title="API" reference>Forms package</a>的API参考文档。</p>

  <h3 id="classes">
    <a href="#classes" class="docs-anchor" tabindex="-1" aria-label="Link to Classes" data-ng_translator_product="100" data-ng_translator_ref_id="dtpuzegyjmcbul5yz5jn1ham3">类</a>
  </h3>
  
  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="985cbtp8j98j90yytg5u911v3">类</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>AbstractControl</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="96j7h399eaknn4la7nx4nlktf">具体表单控件类
<code>FormControl</code>、
<code>FormGroup</code>和
<code>FormArray</code>的抽象基类。它提供它们的通用行为和属性。</td>
</tr>
<tr>
<td align="left"><code>FormControl</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="c1yusncunhmpnr8yg1ahmy711">管理单个表单控件的值和有效状态。对应于HTML表单控件，如
<code>&lt;input&gt;</code>或
<code>&lt;select&gt;</code>。</td>
</tr>
<tr>
<td align="left"><code>FormGroup</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="8zt2gd4r7lemwj0og9scme52t">管理一组
<code>AbstractControl</code>实例的值和有效状态。该组的属性包括其子控件。你组件中的顶层表单是
<code>FormGroup</code>。</td>
</tr>
<tr>
<td align="left"><code>FormArray</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="crv2235p75a8xwt37s8piid90">管理数字索引数组中
<code>AbstractControl</code>实例的值和有效状态。</td>
</tr>
<tr>
<td align="left"><code>FormBuilder</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="b9w17tl2xehs5rewqshsi2y4e">一个可注入的服务，提供用于创建控件实例的工厂方法。</td>
</tr>
<tr>
<td align="left"><code>FormRecord</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="7tuznf28hl30oijeg7zc750gw">跟踪一组
<code>FormControl</code>实例的值和有效状态，每个实例具有相同的值类型。</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h3 id="directives">
    <a href="#directives" class="docs-anchor" tabindex="-1" aria-label="Link to Directives" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9uaad125h3hufxqa64leub0r9">指令</a>
  </h3>
  
  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left" data-ng_translator_product="100" data-ng_translator_ref_id="1qejxun37dz68k5ig2h0hy3bw">指令</th>
<th align="left" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3prlgfrx5eo2xqncnnob4crxu">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>FormControlDirective</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="ccksgc8z82kuouh48wybmz85y">将独立的
<code>FormControl</code>实例与表单控件元素同步。</td>
</tr>
<tr>
<td align="left"><code>FormControlName</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="9l11czube9nyrw4844iftgopa">通过名称将现有
<code>FormGroup</code>实例中的
<code>FormControl</code>与表单控件元素同步。</td>
</tr>
<tr>
<td align="left"><code>FormGroupDirective</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="dr4gsp1o4q65y1gqnigg6w3ey">将现有
<code>FormGroup</code>实例与DOM元素同步。</td>
</tr>
<tr>
<td align="left"><code>FormGroupName</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="7uv7t8owzr157rbj01avywcv9">将嵌套的
<code>FormGroup</code>实例与DOM元素同步。</td>
</tr>
<tr>
<td align="left"><code>FormArrayName</code></td>
<td align="left" data-ng_translator_product="100" data-ng_translator_ref_id="38muza7x5xlt4fyz5lvmvmc23">将嵌套的
<code>FormArray</code>实例与DOM元素同步。</td>
</tr>

      </tbody>
    </table>
  </div>
  