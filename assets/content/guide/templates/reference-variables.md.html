<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="34marep0igwa0f1zsomxufpiz">瞭解範本變數</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/templates/reference-variables.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9sfq56lxu4y2gn1a5791xapm6">範本變數可以幫助你在範本的另一部分使用這個部分的資料。使用範本變數，你可以執行某些任務，比如回應使用者輸入或微調應用的表單。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7ovn6gghr4199c3mn8u5mmrxy">範本變數可以引用這些東西：</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2dxuw253v5qxvmvrnbkvtyswg">範本中的 DOM 元素</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="51iycf4hpcolvskqzse2tlwcj">指令或元件</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7n66fs9eg4l5xwtvpsp7iu34p">來自 <a href="api/core/ng-template">ng-template</a> 的 <a href="api/core/TemplateRef">TemplateRef</a></li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="7ew1xbem8hycy6dap4fra7qch">一個 
<a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components" title="MDN: Web Components">web component</a></li>

  </ul>
  
  <h2 id="syntax">
    <a href="#syntax" class="docs-anchor" tabindex="-1" aria-label="Link to Syntax" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8p44mx807exjp3s0k9dwbuxla">語法</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3whnp7u7qsr7n9h3iykqot3ta">在範本中，要使用井號 <code>#</code> 來宣告一個範本變數。下列範本變數 <code>#phone</code> 宣告了一個名為 <code>phone</code> 的變數，其值為此 <code>&lt;input&gt;</code> 元素。</p>
<div class="docs-code" path="adev/src/content/examples/template-reference-variables/src/app/app.component.html" visiblelines="5" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Template reference variables<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pass value to an event handler<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>See console for output.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"phone number"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"callPhone(phone.value)"</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template reference variable with disabled button<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>btn refers to the button element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></div><div class="hljs-ln-line">    <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span></div><div class="hljs-ln-line">    #<span class="hljs-attr">btn</span></div><div class="hljs-ln-line">    <span class="hljs-attr">disabled</span></div><div class="hljs-ln-line">    [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">"'disabled by attribute: ' + btn.disabled"</span></div><div class="hljs-ln-line">  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Reference variables, forms, and NgForm<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> #<span class="hljs-attr">itemForm</span>=<span class="hljs-string">"ngForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit(itemForm)"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">ngModel</span> <span class="hljs-attr">required</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"!itemForm.form.valid"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-template-variable">{{ <span class="hljs-name">submitMessage</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JSON: <span class="hljs-template-variable">{{ <span class="hljs-name">itemForm.form.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template Reference Variable Scope<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This section demonstrates in which situations you can access local template reference variables (<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>#ref<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>).<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing in a child template<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing a template reference variable from an inner template</span></div><div class="hljs-ln-line">  works as the context is inherited. Try changing the text in the</div><div class="hljs-ln-line">  input to see how it is immediately reflected through the template</div><div class="hljs-ln-line">  reference variable. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref1</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"firstExample"</span> /&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">ref1.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- In this case there's a "hidden" ng-template around the</span></div><div class="hljs-ln-line">  span and the definition of the variable is outside of it. Thus, you access a template variable from a parent template (which is logical as the context is inherited). --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing from outside parent template. (Doesn't work.)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing the template reference variable from outside the parent template does</span></div><div class="hljs-ln-line">not work. The value to the right is empty and changing the</div><div class="hljs-ln-line">value of the input will have no effect. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- &lt;span&gt;Value: </span><span class="hljs-template-variable">{{ <span class="hljs-name">ref2?.value</span> }}</span><span class="language-xml"><span class="hljs-comment">&lt;/span&gt; --&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- uncomment the above and the app breaks --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>*ngFor and template reference variable scope<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- The template is instantiated twice because *ngFor iterates</span></div><div class="hljs-ln-line">  over the two items in the array, so it's impossible to define what ref2 is referencing. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"ngForExample"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing a on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">See the console output to see that when you declare the variable on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, the variable refers to a <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>TemplateRef<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instance, which represents the template.</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">ref3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"log(ref3)"</span>&gt;</span>Log type of #ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cnun2x28nu8dicxhzebpec1gz">可以在元件範本中的任何地方引用某個範本變數。這裡的 <code>&lt;button&gt;</code> 就引用了 <code>phone</code> 變數。</p>
<div class="docs-code" path="adev/src/content/examples/template-reference-variables/src/app/app.component.html" visiblelines="5,6,7,8,9,10" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Template reference variables<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pass value to an event handler<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>See console for output.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"phone number"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"callPhone(phone.value)"</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template reference variable with disabled button<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>btn refers to the button element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></div><div class="hljs-ln-line">    <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span></div><div class="hljs-ln-line">    #<span class="hljs-attr">btn</span></div><div class="hljs-ln-line">    <span class="hljs-attr">disabled</span></div><div class="hljs-ln-line">    [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">"'disabled by attribute: ' + btn.disabled"</span></div><div class="hljs-ln-line">  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Reference variables, forms, and NgForm<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> #<span class="hljs-attr">itemForm</span>=<span class="hljs-string">"ngForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit(itemForm)"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">ngModel</span> <span class="hljs-attr">required</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"!itemForm.form.valid"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-template-variable">{{ <span class="hljs-name">submitMessage</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JSON: <span class="hljs-template-variable">{{ <span class="hljs-name">itemForm.form.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template Reference Variable Scope<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This section demonstrates in which situations you can access local template reference variables (<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>#ref<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>).<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing in a child template<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing a template reference variable from an inner template</span></div><div class="hljs-ln-line">  works as the context is inherited. Try changing the text in the</div><div class="hljs-ln-line">  input to see how it is immediately reflected through the template</div><div class="hljs-ln-line">  reference variable. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref1</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"firstExample"</span> /&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">ref1.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- In this case there's a "hidden" ng-template around the</span></div><div class="hljs-ln-line">  span and the definition of the variable is outside of it. Thus, you access a template variable from a parent template (which is logical as the context is inherited). --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing from outside parent template. (Doesn't work.)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing the template reference variable from outside the parent template does</span></div><div class="hljs-ln-line">not work. The value to the right is empty and changing the</div><div class="hljs-ln-line">value of the input will have no effect. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- &lt;span&gt;Value: </span><span class="hljs-template-variable">{{ <span class="hljs-name">ref2?.value</span> }}</span><span class="language-xml"><span class="hljs-comment">&lt;/span&gt; --&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- uncomment the above and the app breaks --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>*ngFor and template reference variable scope<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- The template is instantiated twice because *ngFor iterates</span></div><div class="hljs-ln-line">  over the two items in the array, so it's impossible to define what ref2 is referencing. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"ngForExample"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing a on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">See the console output to see that when you declare the variable on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, the variable refers to a <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>TemplateRef<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instance, which represents the template.</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">ref3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"log(ref3)"</span>&gt;</span>Log type of #ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
  <h2 id="how-angular-assigns-values-to-template-variables">
    <a href="#how-angular-assigns-values-to-template-variables" class="docs-anchor" tabindex="-1" aria-label="Link to How Angular assigns values to template variables" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cgfzvbpavqbnp4icxupw4051k">Angular 是如何為範本變數賦值的</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="eyijzhxvj22n8hl7gjxgr33u4">Angular 根據你所宣告的變數的位置給範本變數賦值：</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="du09uyt5gt1rc15qnqh51fe2v">如果在元件上聲明變數，該變數就會引用該組件實例。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3wc5k6ctg9gki85u4u4x9e7rl">如果在標準的 HTML 標記上聲明變數，該變數就會引用該元素。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="77j0zeyqvumi1elxtlm16dp4o">如果你在 
<code>&lt;ng-template&gt;</code> 元素上聲明變數，該變數將引用表示範本的 
<code>TemplateRef</code> 實例。 有關 
<code>&lt;ng-template&gt;</code> 的更多訊息，請參閱 
<a href="guide/directives/structural-directives#asterisk">Angular 如何使用星號 <code>*</code> 語法</a> 中的 
<a href="guide/directives/structural-directives">結構型指令</a>。</li>

  </ul>
  
  <h2 id="variable-specifying-a-name">
    <a href="#variable-specifying-a-name" class="docs-anchor" tabindex="-1" aria-label="Link to Variable specifying a name" data-ng_translator_product="100" data-ng_translator_ref_id="5ttt65m3ssa6c9z1umnylirzp">指定名稱的變數</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="74gkkqzzlb09k5ylvofb9mvu7">如果變數在右側指定了一個名稱，例如 
<code>#var="ngModel"</code>，此變數將引用具有對應 
<code>exportAs</code> 名稱的元素上的指令或元件。</p>
<!-- What does the second half of this mean?^^ Can we explain this more fully? Could I see a working example? -kw -->


  <h3 id="using-ngform-with-template-variables">
    <a href="#using-ngform-with-template-variables" class="docs-anchor" tabindex="-1" aria-label="Link to Using <code>NgForm</code> with template variables" data-ng_translator_product="100" data-ng_translator_ref_id="4hl3n8llhl5z3kv55ugu2cbyc">在範本變數中使用 
<code>NgForm</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8fkxo8l9sbitv0vsebj3ejbhu">在大多數情況下，Angular 會把範本變數的值設定為它所在的元素。在前面的例子中，<code>phone</code> 引用的是電話號碼 <code>&lt;input&gt;</code>。該按鈕的 click 處理程式會把這個 <code>&lt;input&gt;</code> 的值傳給該組件的 <code>callPhone()</code> 方法。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4zvr0lw0ole8ly71uqro2rry3"><code>NgForm</code> 指令示範了透過引用指令的 
<code>exportAs</code> 名稱來獲取不同值的引用。 在下面的範例中，範本變數 
<code>itemForm</code> 出現了三次，並被 HTML 分隔。</p>
<div class="docs-code" path="adev/src/content/examples/template-reference-variables/src/app/app.component.html" visiblelines="29,30,31,32,33,34,35,36,37,38" header="src/app/hero-form.component.html">
    <div class="docs-code-header"><h3>src/app/hero-form.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Template reference variables<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pass value to an event handler<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>See console for output.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"phone number"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"callPhone(phone.value)"</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template reference variable with disabled button<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>btn refers to the button element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></div><div class="hljs-ln-line">    <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span></div><div class="hljs-ln-line">    #<span class="hljs-attr">btn</span></div><div class="hljs-ln-line">    <span class="hljs-attr">disabled</span></div><div class="hljs-ln-line">    [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">"'disabled by attribute: ' + btn.disabled"</span></div><div class="hljs-ln-line">  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Reference variables, forms, and NgForm<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> #<span class="hljs-attr">itemForm</span>=<span class="hljs-string">"ngForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit(itemForm)"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">ngModel</span> <span class="hljs-attr">required</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"!itemForm.form.valid"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-template-variable">{{ <span class="hljs-name">submitMessage</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JSON: <span class="hljs-template-variable">{{ <span class="hljs-name">itemForm.form.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template Reference Variable Scope<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This section demonstrates in which situations you can access local template reference variables (<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>#ref<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>).<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing in a child template<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing a template reference variable from an inner template</span></div><div class="hljs-ln-line">  works as the context is inherited. Try changing the text in the</div><div class="hljs-ln-line">  input to see how it is immediately reflected through the template</div><div class="hljs-ln-line">  reference variable. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref1</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"firstExample"</span> /&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">ref1.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- In this case there's a "hidden" ng-template around the</span></div><div class="hljs-ln-line">  span and the definition of the variable is outside of it. Thus, you access a template variable from a parent template (which is logical as the context is inherited). --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing from outside parent template. (Doesn't work.)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing the template reference variable from outside the parent template does</span></div><div class="hljs-ln-line">not work. The value to the right is empty and changing the</div><div class="hljs-ln-line">value of the input will have no effect. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- &lt;span&gt;Value: </span><span class="hljs-template-variable">{{ <span class="hljs-name">ref2?.value</span> }}</span><span class="language-xml"><span class="hljs-comment">&lt;/span&gt; --&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- uncomment the above and the app breaks --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>*ngFor and template reference variable scope<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- The template is instantiated twice because *ngFor iterates</span></div><div class="hljs-ln-line">  over the two items in the array, so it's impossible to define what ref2 is referencing. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"ngForExample"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing a on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">See the console output to see that when you declare the variable on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, the variable refers to a <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>TemplateRef<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instance, which represents the template.</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">ref3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"log(ref3)"</span>&gt;</span>Log type of #ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="58vbhjpctch8bx02ygwsd7v8i">如果沒有 
<code>ngForm</code> 屬性值，
<code>itemForm</code> 的引用值將是 
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement" target="_blank">HTMLFormElement</a>，即 
<code>&lt;form&gt;</code>。 如果一個元素是 Angular 元件，沒有屬性值的引用將自動引用該組件實例。否則，沒有值的引用將引用 DOM 元素，即使該元素應用了一個或多個指令。</p>
<!-- What is the train of thought from talking about a form element to the difference between a component and a directive? Why is the component directive conversation relevant here?  -kw I agree -alex -->


  <h2 id="template-variable-scope">
    <a href="#template-variable-scope" class="docs-anchor" tabindex="-1" aria-label="Link to Template variable scope" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5zb03j1233w56w7duyxmg7v08">範本變數的作用域</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bm1j989lcmi3fg0rha2snz431">就像 JavaScript 或 TypeScript 程式碼中的變數一樣，範本變數的範圍為宣告它們的範本。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="1v1z6tkwrd7etpg27t7uiues">類似地，
<a href="guide/directives">結構型指令</a>（如 
<code>*ngIf</code> 和 
<code>*ngFor</code>）或 
<code>&lt;ng-template&gt;</code> 宣告會建立一個新的巢狀範本作用域，就像 JavaScript 的控制流語句（如 
<code>if</code> 和 
<code>for</code>）建立新的詞法作用域一樣。你不能從這些結構型指令的邊界外訪問其內部的範本變數。</p>

    <div class="docs-alert docs-alert-helpful">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="eki1azp1bo674loskdqie7lhp"><strong>提示：</strong> 只在範本中定義一次變數，以保持執行時值的可預測性。</p>

    </div>
    
  <h3 id="accessing-in-a-nested-template">
    <a href="#accessing-in-a-nested-template" class="docs-anchor" tabindex="-1" aria-label="Link to Accessing in a nested template" data-ng_translator_product="100" data-ng_translator_ref_id="e0hlnkptlnosg1ovybg1wdvnx">在巢狀範本中訪問</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5xj003t897s66xb1jgev9apj3">內部範本可以訪問外範本定義的範本變數。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2bpptaf3w46pstfiz99pq85yk">在下面的例子中，修改 <code>&lt;input&gt;</code> 中的文字值也會改變 <code>&lt;span&gt;</code> 中的值，因為 Angular 會立即透過範本變數 <code>ref1</code> 來更新這種變化。</p>
<div class="docs-code" path="adev/src/content/examples/template-reference-variables/src/app/app.component.html" visiblelines="56,57,58,59" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Template reference variables<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pass value to an event handler<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>See console for output.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"phone number"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"callPhone(phone.value)"</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template reference variable with disabled button<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>btn refers to the button element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></div><div class="hljs-ln-line">    <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span></div><div class="hljs-ln-line">    #<span class="hljs-attr">btn</span></div><div class="hljs-ln-line">    <span class="hljs-attr">disabled</span></div><div class="hljs-ln-line">    [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">"'disabled by attribute: ' + btn.disabled"</span></div><div class="hljs-ln-line">  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Reference variables, forms, and NgForm<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> #<span class="hljs-attr">itemForm</span>=<span class="hljs-string">"ngForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit(itemForm)"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">ngModel</span> <span class="hljs-attr">required</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"!itemForm.form.valid"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-template-variable">{{ <span class="hljs-name">submitMessage</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JSON: <span class="hljs-template-variable">{{ <span class="hljs-name">itemForm.form.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template Reference Variable Scope<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This section demonstrates in which situations you can access local template reference variables (<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>#ref<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>).<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing in a child template<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing a template reference variable from an inner template</span></div><div class="hljs-ln-line">  works as the context is inherited. Try changing the text in the</div><div class="hljs-ln-line">  input to see how it is immediately reflected through the template</div><div class="hljs-ln-line">  reference variable. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref1</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"firstExample"</span> /&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">ref1.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- In this case there's a "hidden" ng-template around the</span></div><div class="hljs-ln-line">  span and the definition of the variable is outside of it. Thus, you access a template variable from a parent template (which is logical as the context is inherited). --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing from outside parent template. (Doesn't work.)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing the template reference variable from outside the parent template does</span></div><div class="hljs-ln-line">not work. The value to the right is empty and changing the</div><div class="hljs-ln-line">value of the input will have no effect. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- &lt;span&gt;Value: </span><span class="hljs-template-variable">{{ <span class="hljs-name">ref2?.value</span> }}</span><span class="language-xml"><span class="hljs-comment">&lt;/span&gt; --&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- uncomment the above and the app breaks --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>*ngFor and template reference variable scope<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- The template is instantiated twice because *ngFor iterates</span></div><div class="hljs-ln-line">  over the two items in the array, so it's impossible to define what ref2 is referencing. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"ngForExample"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing a on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">See the console output to see that when you declare the variable on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, the variable refers to a <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>TemplateRef<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instance, which represents the template.</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">ref3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"log(ref3)"</span>&gt;</span>Log type of #ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="e8vl52xmu9mzatuw8ocjtjhi">在這種情況下，
<code>&lt;span&gt;</code> 上的 
<code>*ngIf</code> 建立一個新的範本作用域，其中包括其父作用域的 
<code>ref1</code> 變數。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bepstuhg4ywxe24nh9ukffinw">但是，從外部的父範本訪問子範圍中的變數是行不通的。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">"true"</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: {{ ref2?.value }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-comment">&lt;!-- doesn't work --&gt;</span></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="ccqarwk5mytkf14i9zyz83sxe">這裡，
<code>ref2</code> 在 
<code>*ngIf</code> 建立的子作用域中宣告，無法從父範本訪問。</p>

  <h2 id="template-input-variables">
    <a href="#template-input-variables" class="docs-anchor" tabindex="-1" aria-label="Link to Template input variables" data-ng_translator_product="100" data-ng_translator_ref_id="9q05nzw9wg2ra9aubnr05myte">範本輸入變數</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="bv4weqe620yt9hpsu81crn1cf"><em>範本輸入變數</em> 是在建立該範本實例時設定值的變數。參見：
<a href="guide/directives/structural-directives">編寫結構型指令</a></p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="ees6wdtweliudmbtzycioitye">範本輸入變數可以在 
<code>NgFor</code> 的詳細用法中看到：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> <span class="hljs-attr">ngFor</span> <span class="hljs-attr">let-hero</span> [<span class="hljs-attr">ngForOf</span>]=<span class="hljs-string">"heroes"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>{{hero.name}}</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="95rys9m6s787stho1qpor4fa2"><code>NgFor</code> 指令將對 
<code>heroes</code> 陣列中的每個英雄實例化一次此 
<ng-template>
 ，併為每個實例相應地設定 
 <code>hero</code> 變數。
</ng-template></p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8ks3di6zr7n854d8tycru508a">當 
<code>&lt;ng-template&gt;</code> 實例化時，可以傳遞多個命名值，這些值可以繫結到不同的範本輸入變數上。輸入變數的 
<code>let-</code> 宣告的右側可以指定應該用於該變數的值。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="7ivf58x84ykhjyoegi1ia4wyf"><code>NgFor</code> 例如還提供了對陣列中每個英雄的 
<code>index</code> 的訪問：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> <span class="hljs-attr">ngFor</span> <span class="hljs-attr">let-hero</span> <span class="hljs-attr">let-i</span>=<span class="hljs-string">"index"</span> [<span class="hljs-attr">ngForOf</span>]=<span class="hljs-string">"heroes"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Hero number {{i}}: {{hero.name}}</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></div></code>
    </pre>
  </div>
  <h2 id="whats-next">
    <a href="#whats-next" class="docs-anchor" tabindex="-1" aria-label="Link to What」s next" data-ng_translator_product="100" data-ng_translator_ref_id="ll381kx5kaawqp659sqtiywr">下一步呢？</a>
  </h2>
  
    <nav class="docs-pill-row">
      
    <a class="docs-pill" href="guide/directives/structural-directives" data-ng_translator_product="100" data-ng_translator_ref_id="63rqu8xnpd5viuto1sf512oj5">編寫結構型指令</a>
    

    </nav>
    