<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="34marep0igwa0f1zsomxufpiz">了解模板变量</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/templates/reference-variables.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="9sfq56lxu4y2gn1a5791xapm6">模板变量可以帮助你在模板的另一部分使用这个部分的数据。使用模板变量，你可以执行某些任务，比如响应用户输入或微调应用的表单。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7ovn6gghr4199c3mn8u5mmrxy">模板变量可以引用这些东西：</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2dxuw253v5qxvmvrnbkvtyswg">模板中的 DOM 元素</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="51iycf4hpcolvskqzse2tlwcj">指令或组件</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7n66fs9eg4l5xwtvpsp7iu34p">来自 <a href="api/core/ng-template">ng-template</a> 的 <a href="api/core/TemplateRef">TemplateRef</a></li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="7ew1xbem8hycy6dap4fra7qch">一个 
<a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components" title="MDN: Web Components">web component</a></li>

  </ul>
  
  <h2 id="syntax">
    <a href="#syntax" class="docs-anchor" tabindex="-1" aria-label="Link to Syntax" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8p44mx807exjp3s0k9dwbuxla">语法</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3whnp7u7qsr7n9h3iykqot3ta">在模板中，要使用井号 <code>#</code> 来声明一个模板变量。下列模板变量 <code>#phone</code> 声明了一个名为 <code>phone</code> 的变量，其值为此 <code>&lt;input&gt;</code> 元素。</p>
<div class="docs-code" path="adev/src/content/examples/template-reference-variables/src/app/app.component.html" visiblelines="5" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Template reference variables<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pass value to an event handler<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>See console for output.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"phone number"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"callPhone(phone.value)"</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template reference variable with disabled button<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>btn refers to the button element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></div><div class="hljs-ln-line">    <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span></div><div class="hljs-ln-line">    #<span class="hljs-attr">btn</span></div><div class="hljs-ln-line">    <span class="hljs-attr">disabled</span></div><div class="hljs-ln-line">    [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">"'disabled by attribute: ' + btn.disabled"</span></div><div class="hljs-ln-line">  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Reference variables, forms, and NgForm<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> #<span class="hljs-attr">itemForm</span>=<span class="hljs-string">"ngForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit(itemForm)"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">ngModel</span> <span class="hljs-attr">required</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"!itemForm.form.valid"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-template-variable">{{ <span class="hljs-name">submitMessage</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JSON: <span class="hljs-template-variable">{{ <span class="hljs-name">itemForm.form.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template Reference Variable Scope<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This section demonstrates in which situations you can access local template reference variables (<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>#ref<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>).<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing in a child template<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing a template reference variable from an inner template</span></div><div class="hljs-ln-line">  works as the context is inherited. Try changing the text in the</div><div class="hljs-ln-line">  input to see how it is immediately reflected through the template</div><div class="hljs-ln-line">  reference variable. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref1</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"firstExample"</span> /&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">ref1.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- In this case there's a "hidden" ng-template around the</span></div><div class="hljs-ln-line">  span and the definition of the variable is outside of it. Thus, you access a template variable from a parent template (which is logical as the context is inherited). --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing from outside parent template. (Doesn't work.)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing the template reference variable from outside the parent template does</span></div><div class="hljs-ln-line">not work. The value to the right is empty and changing the</div><div class="hljs-ln-line">value of the input will have no effect. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- &lt;span&gt;Value: </span><span class="hljs-template-variable">{{ <span class="hljs-name">ref2?.value</span> }}</span><span class="language-xml"><span class="hljs-comment">&lt;/span&gt; --&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- uncomment the above and the app breaks --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>*ngFor and template reference variable scope<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- The template is instantiated twice because *ngFor iterates</span></div><div class="hljs-ln-line">  over the two items in the array, so it's impossible to define what ref2 is referencing. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"ngForExample"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing a on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">See the console output to see that when you declare the variable on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, the variable refers to a <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>TemplateRef<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instance, which represents the template.</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">ref3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"log(ref3)"</span>&gt;</span>Log type of #ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cnun2x28nu8dicxhzebpec1gz">可以在组件模板中的任何地方引用某个模板变量。这里的 <code>&lt;button&gt;</code> 就引用了 <code>phone</code> 变量。</p>
<div class="docs-code" path="adev/src/content/examples/template-reference-variables/src/app/app.component.html" visiblelines="5,6,7,8,9,10" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Template reference variables<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pass value to an event handler<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>See console for output.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"phone number"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"callPhone(phone.value)"</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template reference variable with disabled button<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>btn refers to the button element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></div><div class="hljs-ln-line">    <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span></div><div class="hljs-ln-line">    #<span class="hljs-attr">btn</span></div><div class="hljs-ln-line">    <span class="hljs-attr">disabled</span></div><div class="hljs-ln-line">    [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">"'disabled by attribute: ' + btn.disabled"</span></div><div class="hljs-ln-line">  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Reference variables, forms, and NgForm<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> #<span class="hljs-attr">itemForm</span>=<span class="hljs-string">"ngForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit(itemForm)"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">ngModel</span> <span class="hljs-attr">required</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"!itemForm.form.valid"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-template-variable">{{ <span class="hljs-name">submitMessage</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JSON: <span class="hljs-template-variable">{{ <span class="hljs-name">itemForm.form.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template Reference Variable Scope<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This section demonstrates in which situations you can access local template reference variables (<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>#ref<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>).<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing in a child template<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing a template reference variable from an inner template</span></div><div class="hljs-ln-line">  works as the context is inherited. Try changing the text in the</div><div class="hljs-ln-line">  input to see how it is immediately reflected through the template</div><div class="hljs-ln-line">  reference variable. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref1</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"firstExample"</span> /&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">ref1.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- In this case there's a "hidden" ng-template around the</span></div><div class="hljs-ln-line">  span and the definition of the variable is outside of it. Thus, you access a template variable from a parent template (which is logical as the context is inherited). --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing from outside parent template. (Doesn't work.)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing the template reference variable from outside the parent template does</span></div><div class="hljs-ln-line">not work. The value to the right is empty and changing the</div><div class="hljs-ln-line">value of the input will have no effect. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- &lt;span&gt;Value: </span><span class="hljs-template-variable">{{ <span class="hljs-name">ref2?.value</span> }}</span><span class="language-xml"><span class="hljs-comment">&lt;/span&gt; --&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- uncomment the above and the app breaks --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>*ngFor and template reference variable scope<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- The template is instantiated twice because *ngFor iterates</span></div><div class="hljs-ln-line">  over the two items in the array, so it's impossible to define what ref2 is referencing. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"ngForExample"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing a on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">See the console output to see that when you declare the variable on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, the variable refers to a <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>TemplateRef<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instance, which represents the template.</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">ref3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"log(ref3)"</span>&gt;</span>Log type of #ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>
  <h2 id="how-angular-assigns-values-to-template-variables">
    <a href="#how-angular-assigns-values-to-template-variables" class="docs-anchor" tabindex="-1" aria-label="Link to How Angular assigns values to template variables" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="cgfzvbpavqbnp4icxupw4051k">Angular 是如何为模板变量赋值的</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="eyijzhxvj22n8hl7gjxgr33u4">Angular 根据你所声明的变量的位置给模板变量赋值：</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="du09uyt5gt1rc15qnqh51fe2v">如果在组件上声明变量，该变量就会引用该组件实例。</li>
<li data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="3wc5k6ctg9gki85u4u4x9e7rl">如果在标准的 HTML 标记上声明变量，该变量就会引用该元素。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="77j0zeyqvumi1elxtlm16dp4o">如果你在 
<code>&lt;ng-template&gt;</code> 元素上声明变量，该变量将引用表示模板的 
<code>TemplateRef</code> 实例。 有关 
<code>&lt;ng-template&gt;</code> 的更多信息，请参阅 
<a href="guide/directives/structural-directives#asterisk">Angular 如何使用星号 <code>*</code> 语法</a> 中的 
<a href="guide/directives/structural-directives">结构型指令</a>。</li>

  </ul>
  
  <h2 id="variable-specifying-a-name">
    <a href="#variable-specifying-a-name" class="docs-anchor" tabindex="-1" aria-label="Link to Variable specifying a name" data-ng_translator_product="100" data-ng_translator_ref_id="5ttt65m3ssa6c9z1umnylirzp">指定名称的变量</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="74gkkqzzlb09k5ylvofb9mvu7">如果变量在右侧指定了一个名称，例如 
<code>#var="ngModel"</code>，此变量将引用具有匹配 
<code>exportAs</code> 名称的元素上的指令或组件。</p>
<!-- What does the second half of this mean?^^ Can we explain this more fully? Could I see a working example? -kw -->


  <h3 id="using-ngform-with-template-variables">
    <a href="#using-ngform-with-template-variables" class="docs-anchor" tabindex="-1" aria-label="Link to Using <code>NgForm</code> with template variables" data-ng_translator_product="100" data-ng_translator_ref_id="4hl3n8llhl5z3kv55ugu2cbyc">在模板变量中使用 
<code>NgForm</code></a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="8fkxo8l9sbitv0vsebj3ejbhu">在大多数情况下，Angular 会把模板变量的值设置为它所在的元素。在前面的例子中，<code>phone</code> 引用的是电话号码 <code>&lt;input&gt;</code>。该按钮的 click 处理程序会把这个 <code>&lt;input&gt;</code> 的值传给该组件的 <code>callPhone()</code> 方法。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4zvr0lw0ole8ly71uqro2rry3"><code>NgForm</code> 指令演示了通过引用指令的 
<code>exportAs</code> 名称来获取不同值的引用。 在下面的示例中，模板变量 
<code>itemForm</code> 出现了三次，并被 HTML 分隔。</p>
<div class="docs-code" path="adev/src/content/examples/template-reference-variables/src/app/app.component.html" visiblelines="29,30,31,32,33,34,35,36,37,38" header="src/app/hero-form.component.html">
    <div class="docs-code-header"><h3>src/app/hero-form.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Template reference variables<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pass value to an event handler<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>See console for output.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"phone number"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"callPhone(phone.value)"</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template reference variable with disabled button<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>btn refers to the button element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></div><div class="hljs-ln-line">    <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span></div><div class="hljs-ln-line">    #<span class="hljs-attr">btn</span></div><div class="hljs-ln-line">    <span class="hljs-attr">disabled</span></div><div class="hljs-ln-line">    [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">"'disabled by attribute: ' + btn.disabled"</span></div><div class="hljs-ln-line">  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Reference variables, forms, and NgForm<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> #<span class="hljs-attr">itemForm</span>=<span class="hljs-string">"ngForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit(itemForm)"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">ngModel</span> <span class="hljs-attr">required</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"!itemForm.form.valid"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-template-variable">{{ <span class="hljs-name">submitMessage</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JSON: <span class="hljs-template-variable">{{ <span class="hljs-name">itemForm.form.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template Reference Variable Scope<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This section demonstrates in which situations you can access local template reference variables (<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>#ref<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>).<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing in a child template<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing a template reference variable from an inner template</span></div><div class="hljs-ln-line">  works as the context is inherited. Try changing the text in the</div><div class="hljs-ln-line">  input to see how it is immediately reflected through the template</div><div class="hljs-ln-line">  reference variable. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref1</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"firstExample"</span> /&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">ref1.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- In this case there's a "hidden" ng-template around the</span></div><div class="hljs-ln-line">  span and the definition of the variable is outside of it. Thus, you access a template variable from a parent template (which is logical as the context is inherited). --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing from outside parent template. (Doesn't work.)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing the template reference variable from outside the parent template does</span></div><div class="hljs-ln-line">not work. The value to the right is empty and changing the</div><div class="hljs-ln-line">value of the input will have no effect. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- &lt;span&gt;Value: </span><span class="hljs-template-variable">{{ <span class="hljs-name">ref2?.value</span> }}</span><span class="language-xml"><span class="hljs-comment">&lt;/span&gt; --&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- uncomment the above and the app breaks --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>*ngFor and template reference variable scope<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- The template is instantiated twice because *ngFor iterates</span></div><div class="hljs-ln-line">  over the two items in the array, so it's impossible to define what ref2 is referencing. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"ngForExample"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing a on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">See the console output to see that when you declare the variable on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, the variable refers to a <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>TemplateRef<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instance, which represents the template.</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">ref3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"log(ref3)"</span>&gt;</span>Log type of #ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="58vbhjpctch8bx02ygwsd7v8i">如果没有 
<code>ngForm</code> 属性值，
<code>itemForm</code> 的引用值将是 
<a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLFormElement" target="_blank">HTMLFormElement</a>，即 
<code>&lt;form&gt;</code>。 如果一个元素是 Angular 组件，没有属性值的引用将自动引用该组件实例。否则，没有值的引用将引用 DOM 元素，即使该元素应用了一个或多个指令。</p>
<!-- What is the train of thought from talking about a form element to the difference between a component and a directive? Why is the component directive conversation relevant here?  -kw I agree -alex -->


  <h2 id="template-variable-scope">
    <a href="#template-variable-scope" class="docs-anchor" tabindex="-1" aria-label="Link to Template variable scope" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5zb03j1233w56w7duyxmg7v08">模板变量的作用域</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bm1j989lcmi3fg0rha2snz431">就像 JavaScript 或 TypeScript 代码中的变量一样，模板变量的范围为声明它们的模板。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="1v1z6tkwrd7etpg27t7uiues">类似地，
<a href="guide/directives">结构型指令</a>（如 
<code>*ngIf</code> 和 
<code>*ngFor</code>）或 
<code>&lt;ng-template&gt;</code> 声明会创建一个新的嵌套模板作用域，就像 JavaScript 的控制流语句（如 
<code>if</code> 和 
<code>for</code>）创建新的词法作用域一样。你不能从这些结构型指令的边界外访问其内部的模板变量。</p>

    <div class="docs-alert docs-alert-helpful">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="eki1azp1bo674loskdqie7lhp"><strong>提示：</strong> 只在模板中定义一次变量，以保持运行时值的可预测性。</p>

    </div>
    
  <h3 id="accessing-in-a-nested-template">
    <a href="#accessing-in-a-nested-template" class="docs-anchor" tabindex="-1" aria-label="Link to Accessing in a nested template" data-ng_translator_product="100" data-ng_translator_ref_id="e0hlnkptlnosg1ovybg1wdvnx">在嵌套模板中访问</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="5xj003t897s66xb1jgev9apj3">内部模板可以访问外模板定义的模板变量。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2bpptaf3w46pstfiz99pq85yk">在下面的例子中，修改 <code>&lt;input&gt;</code> 中的文本值也会改变 <code>&lt;span&gt;</code> 中的值，因为 Angular 会立即通过模板变量 <code>ref1</code> 来更新这种变化。</p>
<div class="docs-code" path="adev/src/content/examples/template-reference-variables/src/app/app.component.html" visiblelines="56,57,58,59" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Template reference variables<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Pass value to an event handler<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>See console for output.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">phone</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"phone number"</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- lots of other elements --&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- phone refers to the input element; pass its `value` to an event handler --&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"callPhone(phone.value)"</span>&gt;</span>Call<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template reference variable with disabled button<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>btn refers to the button element.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span></span></div><div class="hljs-ln-line">    <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span></div><div class="hljs-ln-line">    #<span class="hljs-attr">btn</span></div><div class="hljs-ln-line">    <span class="hljs-attr">disabled</span></div><div class="hljs-ln-line">    [<span class="hljs-attr">innerHTML</span>]=<span class="hljs-string">"'disabled by attribute: ' + btn.disabled"</span></div><div class="hljs-ln-line">  &gt;<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Reference variables, forms, and NgForm<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> #<span class="hljs-attr">itemForm</span>=<span class="hljs-string">"ngForm"</span> (<span class="hljs-attr">ngSubmit</span>)=<span class="hljs-string">"onSubmit(itemForm)"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"name"</span>&gt;</span>Name<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">ngModel</span> <span class="hljs-attr">required</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">hidden</span>]=<span class="hljs-string">"!itemForm.form.valid"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-template-variable">{{ <span class="hljs-name">submitMessage</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>JSON: <span class="hljs-template-variable">{{ <span class="hljs-name">itemForm.form.value</span> | json }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">hr</span> /&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Template Reference Variable Scope<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>This section demonstrates in which situations you can access local template reference variables (<span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>#ref<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>).<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing in a child template<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing a template reference variable from an inner template</span></div><div class="hljs-ln-line">  works as the context is inherited. Try changing the text in the</div><div class="hljs-ln-line">  input to see how it is immediately reflected through the template</div><div class="hljs-ln-line">  reference variable. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref1</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"firstExample"</span> /&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: <span class="hljs-template-variable">{{ <span class="hljs-name">ref1.value</span> }}</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span></span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- In this case there's a "hidden" ng-template around the</span></div><div class="hljs-ln-line">  span and the definition of the variable is outside of it. Thus, you access a template variable from a parent template (which is logical as the context is inherited). --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing from outside parent template. (Doesn't work.)<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Accessing the template reference variable from outside the parent template does</span></div><div class="hljs-ln-line">not work. The value to the right is empty and changing the</div><div class="hljs-ln-line">value of the input will have no effect. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"example"</span>&gt;</span></div><div class="hljs-ln-line">  @if (true) {</div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- &lt;span&gt;Value: </span><span class="hljs-template-variable">{{ <span class="hljs-name">ref2?.value</span> }}</span><span class="language-xml"><span class="hljs-comment">&lt;/span&gt; --&gt;</span></span></div><div class="hljs-ln-line">  <span class="hljs-comment">&lt;!-- uncomment the above and the app breaks --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Here's the desugared syntax:<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"desugared2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>*ngFor and template reference variable scope<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- The template is instantiated twice because *ngFor iterates</span></div><div class="hljs-ln-line">  over the two items in the array, so it's impossible to define what ref2 is referencing. --&gt;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span> [<span class="hljs-attr">innerText</span>]=<span class="hljs-string">"ngForExample"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Accessing a on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">See the console output to see that when you declare the variable on an <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>ng-template<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>, the variable refers to a <span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>TemplateRef<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span> instance, which represents the template.</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> #<span class="hljs-attr">ref3</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> (<span class="hljs-attr">click</span>)=<span class="hljs-string">"log(ref3)"</span>&gt;</span>Log type of #ref<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div><div class="hljs-ln-line"></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="e8vl52xmu9mzatuw8ocjtjhi">在这种情况下，
<code>&lt;span&gt;</code> 上的 
<code>*ngIf</code> 创建一个新的模板作用域，其中包括其父作用域的 
<code>ref1</code> 变量。</p>
<p data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="bepstuhg4ywxe24nh9ukffinw">但是，从外部的父模板访问子范围中的变量是行不通的。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> *<span class="hljs-attr">ngIf</span>=<span class="hljs-string">"true"</span> #<span class="hljs-attr">ref2</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> [(<span class="hljs-attr">ngModel</span>)]=<span class="hljs-string">"secondExample"</span> /&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Value: {{ ref2?.value }}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> <span class="hljs-comment">&lt;!-- doesn't work --&gt;</span></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="ccqarwk5mytkf14i9zyz83sxe">这里，
<code>ref2</code> 在 
<code>*ngIf</code> 创建的子作用域中声明，无法从父模板访问。</p>

  <h2 id="template-input-variables">
    <a href="#template-input-variables" class="docs-anchor" tabindex="-1" aria-label="Link to Template input variables" data-ng_translator_product="100" data-ng_translator_ref_id="9q05nzw9wg2ra9aubnr05myte">模板输入变量</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="bv4weqe620yt9hpsu81crn1cf"><em>模板输入变量</em> 是在创建该模板实例时设置值的变量。参见：
<a href="guide/directives/structural-directives">编写结构型指令</a></p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="ees6wdtweliudmbtzycioitye">模板输入变量可以在 
<code>NgFor</code> 的详细用法中看到：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> <span class="hljs-attr">ngFor</span> <span class="hljs-attr">let-hero</span> [<span class="hljs-attr">ngForOf</span>]=<span class="hljs-string">"heroes"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>{{hero.name}}</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="95rys9m6s787stho1qpor4fa2"><code>NgFor</code> 指令将对 
<code>heroes</code> 数组中的每个英雄实例化一次此 
<ng-template>
 ，并为每个实例相应地设置 
 <code>hero</code> 变量。
</ng-template></p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8ks3di6zr7n854d8tycru508a">当 
<code>&lt;ng-template&gt;</code> 实例化时，可以传递多个命名值，这些值可以绑定到不同的模板输入变量上。输入变量的 
<code>let-</code> 声明的右侧可以指定应该用于该变量的值。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="7ivf58x84ykhjyoegi1ia4wyf"><code>NgFor</code> 例如还提供了对数组中每个英雄的 
<code>index</code> 的访问：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">ng-template</span> <span class="hljs-attr">ngFor</span> <span class="hljs-attr">let-hero</span> <span class="hljs-attr">let-i</span>=<span class="hljs-string">"index"</span> [<span class="hljs-attr">ngForOf</span>]=<span class="hljs-string">"heroes"</span>&gt;</span></div><div class="hljs-ln-line">    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>Hero number {{i}}: {{hero.name}}</div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;/<span class="hljs-name">ng-template</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></div></code>
    </pre>
  </div>
  <h2 id="whats-next">
    <a href="#whats-next" class="docs-anchor" tabindex="-1" aria-label="Link to What’s next" data-ng_translator_product="100" data-ng_translator_ref_id="ll381kx5kaawqp659sqtiywr">下一步呢？</a>
  </h2>
  
    <nav class="docs-pill-row">
      
    <a class="docs-pill" href="guide/directives/structural-directives" data-ng_translator_product="100" data-ng_translator_ref_id="63rqu8xnpd5viuto1sf512oj5">编写结构型指令</a>
    

    </nav>
    