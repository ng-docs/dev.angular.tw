<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="c2kb5nzomzhfq1a0wnn462b4m">从一个可观察者中解包数据</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/pipes/unwrapping-data-observables.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="77b4cupl6s85xps5yhr5pavkt">可观察者允许你在应用的各部分之间传递消息。你可以使用可观察者进行事件处理、异步编程和处理多个值。可观察者可以同步地（像函数向其调用者传递值一样）或按计划异步地传递任何类型的单个或多个值。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="49xr74htxle0pfassk7h92o6n">使用内置的 
<a href="api/common/AsyncPipe" title="API" description of asyncpipe><code>AsyncPipe</code></a> 接受一个可观察者作为输入并自动订阅该输入。如果没有这个管道，你的组件代码将不得不订阅可观察者以消费其值、提取求解后的值、将其暴露给绑定，并在可观察者销毁时取消订阅以防止内存泄漏。
<code>AsyncPipe</code> 是一个管道，它在你的组件中节省了样板代码，以维护订阅并在这些值到达时继续传递来自该可观察者的值。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="do7lbttszi3mcfabt4cw2botr">下面的代码示例使用 
<code>async</code> 管道将一个消息字符串的可观察者（
<code>message$</code>）绑定到视图。</p>
<!-- TODO: Enable preview if this example does not depend on Zone/ or if we run the example with Zone. -->
<div class="docs-code" path="adev/src/content/examples/pipes/src/app/hero-async-message.component.ts" header="src/app/hero-async-message.component.ts">
    <div class="docs-code-header"><h3>src/app/hero-async-message.component.ts</h3></div>
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Component</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">AsyncPipe</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/common'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Observable</span>, interval} <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs'</span>;</div><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {map, startWith, take} <span class="hljs-keyword">from</span> <span class="hljs-string">'rxjs/operators'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">standalone</span>: <span class="hljs-literal">true</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'app-hero-async-message'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></div><div class="hljs-ln-line">    &lt;h2&gt;Async Messages and AsyncPipe&lt;/h2&gt;</div><div class="hljs-ln-line">    &lt;p&gt;{{ message$ | async }}&lt;/p&gt;</div><div class="hljs-ln-line">    &lt;button type="button" (click)="resend()"&gt;Resend Messages&lt;/button&gt;`,</div><div class="hljs-ln-line">  <span class="hljs-attr">imports</span>: [<span class="hljs-title class_">AsyncPipe</span>],</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HeroAsyncMessageComponent</span> {</div><div class="hljs-ln-line">  <span class="hljs-attr">message$</span>: <span class="hljs-title class_">Observable</span>&lt;<span class="hljs-built_in">string</span>&gt;;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> messages = [<span class="hljs-string">'You are my hero!'</span>, <span class="hljs-string">'You are the best hero!'</span>, <span class="hljs-string">'Will you be my hero?'</span>];</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message$</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getResendObservable</span>();</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">resend</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-variable language_">this</span>.<span class="hljs-property">message$</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getResendObservable</span>();</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> <span class="hljs-title function_">getResendObservable</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-title function_">interval</span>(<span class="hljs-number">1000</span>).<span class="hljs-title function_">pipe</span>(</div><div class="hljs-ln-line">      <span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">i</span>) =&gt;</span> <span class="hljs-string">`Message #<span class="hljs-subst">${i + <span class="hljs-number">1</span>}</span>: <span class="hljs-subst">${<span class="hljs-variable language_">this</span>.messages[i]}</span>`</span>),</div><div class="hljs-ln-line">      <span class="hljs-title function_">take</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">messages</span>.<span class="hljs-property">length</span>),</div><div class="hljs-ln-line">      <span class="hljs-title function_">startWith</span>(<span class="hljs-string">'Waiting for messages...'</span>),</div><div class="hljs-ln-line">    );</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div><div class="hljs-ln-line"></div></code>
    </pre>
  </div>