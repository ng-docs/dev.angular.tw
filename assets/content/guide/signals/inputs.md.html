<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="3dusl85b8uq8bewp993jz4y5q">訊號輸入</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/signals/inputs.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="ya9zgz97r1tvd3ubmfk2ucym">訊號輸入允許從父元件繫結值。這些值使用 
<code>Signal</code> 暴露，並且可以在元件的生命週期內發生變化。</p>

    <div class="docs-alert docs-alert-helpful">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="70tbr7i7alzipfdzdr1a76h7a"><strong>提示：</strong>訊號輸入目前處於 
<a href="/reference/releases#developer-preview">開發者預覽</a> 階段。</p>

    </div>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="5rdn0kyjnlii2ipy2u2dvsxog">Angular 支援兩種輸入變體：</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="817x91ekcnofjvld8abyj73vh"><strong>可選輸入</strong> 輸入預設是可選的，除非你使用 
<code>input.required</code>。你可以指定一個明確的初始值，否則 Angular 將隱式使用 
<code>undefined</code>。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4sxk4weav8l2cppwopfc9zv5s"><strong>必要輸入</strong> 必要輸入始終具有給定輸入型別的值。它們使用 
<code>input.required</code> 函式宣告。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Component</span>, input} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({...})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComp</span> {</div><div class="hljs-ln-line">  <span class="hljs-comment">// optional</span></div><div class="hljs-ln-line">  firstName = input&lt;<span class="hljs-built_in">string</span>&gt;();         <span class="hljs-comment">// InputSignal&lt;string|undefined&gt;</span></div><div class="hljs-ln-line">  age = <span class="hljs-title function_">input</span>(<span class="hljs-number">0</span>);                      <span class="hljs-comment">// InputSignal&lt;number&gt;</span></div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">// required</span></div><div class="hljs-ln-line">  lastName = input.<span class="hljs-property">required</span>&lt;<span class="hljs-built_in">string</span>&gt;(); <span class="hljs-comment">// InputSignal&lt;string&gt;</span></div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="4mrols8mwm090uh6cj2vzhztd">每當你使用 
<code>input</code> 或 
<code>input.required</code> 函式作為類別成員的初始化器時，Angular 會自動識別輸入。</p>

  <h2 id="aliasing-an-input">
    <a href="#aliasing-an-input" class="docs-anchor" tabindex="-1" aria-label="Link to Aliasing an input" data-ng_translator_product="100" data-ng_translator_ref_id="4bqi2fpzb1ksywzc5ygbbkg8w">為輸入設別名</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="d5wrizptsinkuq23fxljm6c98">Angular 使用類別成員名稱作為輸入名稱。你可以為輸入設別名，以使它們的公開名稱不同。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentDirective</span> {</div><div class="hljs-ln-line">  age = <span class="hljs-title function_">input</span>(<span class="hljs-number">0</span>, {<span class="hljs-attr">alias</span>: <span class="hljs-string">'studentAge'</span>});</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="dgwmvx3d5g3t862os8mmqmqnl">這允許使用者使用 
<code>[studentAge]</code> 繫結到你的輸入，同時在你的元件內部，你可以使用 
<code>this.age</code> 訪問輸入值。</p>

  <h2 id="using-in-templates">
    <a href="#using-in-templates" class="docs-anchor" tabindex="-1" aria-label="Link to Using in templates" data-ng_translator_product="100" data-ng_translator_ref_id="7c8ptqg50lt0wk8it42p7q5kq">在範本中使用</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="2m85vm0inu4nvhme7m1m4dazd">訊號輸入是隻讀訊號。與透過 
<code>signal()</code> 宣告的訊號一樣，你可以透過呼叫輸入訊號來訪問當前的輸入值。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>First name: {{firstName()}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Last name: {{lastName()}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="dcvf7dno7t5zg4wdpd446a68m">這種對值的訪問會在回應式上下文中被捕獲，並且可以在輸入值變化時通知活動消費者（如 Angular 本身）。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="48uws1c8l78lin53w1jzjo1yc">實際上，輸入訊號是你從
<a href="guide/signals">訊號指南</a>中瞭解到的訊號的一個簡單擴充套件。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InputSignal</span>&lt;T&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Signal</span>&lt;T&gt; { ... }<span class="hljs-string">`.</span></div></code>
    </pre>
  </div>
  <h2 id="deriving-values">
    <a href="#deriving-values" class="docs-anchor" tabindex="-1" aria-label="Link to Deriving values" data-ng_translator_product="100" data-ng_translator_ref_id="140olfp11p27pflws0qt91kwp">派生值</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="atpkgkmgjkchfekzmhgynub4h">與訊號一樣，你可以使用 
<code>computed</code> 從輸入中派生值。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Component</span>, input, computed} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({...})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComp</span> {</div><div class="hljs-ln-line">  age = <span class="hljs-title function_">input</span>(<span class="hljs-number">0</span>);</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">// age multiplied by two.</span></div><div class="hljs-ln-line">  ageMultiplied = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">age</span>() * <span class="hljs-number">2</span>);</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="3py6rolhf4xjpxlreh9eea98l">計算訊號會記憶值。檢視
<a href="guide/signals#computed-signals">關於 computed 的專門章節</a>瞭解更多細節。</p>

  <h2 id="monitoring-changes">
    <a href="#monitoring-changes" class="docs-anchor" tabindex="-1" aria-label="Link to Monitoring changes" data-ng_translator_product="100" data-ng_translator_ref_id="bwi75eyis0to52f12dsu1buum">監控變化</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="779vy97u889d009k059ilu7ud">使用訊號輸入，使用者可以利用 
<code>effect</code> 函式。該函式將在輸入變化時執行。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="3l5uu3ws4jpch7vp3vngivu4h">考慮以下範例。每當 
<code>firstName</code> 輸入變化時，新值都會被列印到控制台。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {input, effect} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComp</span> {</div><div class="hljs-ln-line">  firstName = input.<span class="hljs-property">required</span>&lt;<span class="hljs-built_in">string</span>&gt;();</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-title function_">effect</span>(<span class="hljs-function">() =&gt;</span> {</div><div class="hljs-ln-line">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">firstName</span>());</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="9u9u5hmc81l5xbibmu8nf4lsz">每次 
<code>firstName</code> 輸入變化時，都會呼叫 
<code>console.log</code> 函式。這將在 
<code>firstName</code> 可用時立即發生，並在 
<code>MyComp</code> 的生命週期內的後續變化時發生。</p>

  <h2 id="value-transforms">
    <a href="#value-transforms" class="docs-anchor" tabindex="-1" aria-label="Link to Value transforms" data-ng_translator_product="100" data-ng_translator_ref_id="8hfhy2kpwzakj3kahd2v6uaij">值轉換</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="b2wb9tra424docfeemxj4g8e5">你可能想在不改變輸入意義的情況下強制或解析輸入值。轉換會將原始值從父範本轉換為預期的輸入型別。轉換應該是
<a href="https://en.wikipedia.org/wiki/Pure_function" target="_blank">純函式</a>。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyComp</span> {</div><div class="hljs-ln-line">  disabled = <span class="hljs-title function_">input</span>(<span class="hljs-literal">false</span>, {</div><div class="hljs-ln-line">    <span class="hljs-attr">transform</span>: <span class="hljs-function">(<span class="hljs-params">value: <span class="hljs-built_in">boolean</span>|<span class="hljs-built_in">string</span></span>) =&gt;</span> <span class="hljs-keyword">typeof</span> value === <span class="hljs-string">'string'</span> ? value === <span class="hljs-string">''</span> : value,</div><div class="hljs-ln-line">  });</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="6o4t06p0s066dior1hrxsfyxj">在上述範例中，你宣告了一個名為 
<code>disabled</code> 的輸入，它接受 
<code>boolean</code> 和 
<code>string</code> 型別的值。這透過 
<code>transform</code> 選項中 
<code>value</code> 的顯式引數型別捕獲。這些值隨後透過轉換被解析為 
<code>boolean</code>，結果為布林值。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4si3v3ax2xy6hgzz9xsgr6g5d">這樣，當呼叫 
<code>this.disabled()</code> 時，你在元件內部只處理 
<code>boolean</code>，而你的元件使用者可以傳遞一個空字串作為標記元件為停用的簡寫。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">my-custom-comp</span> <span class="hljs-attr">disabled</span>&gt;</span></div></code>
    </pre>
  </div>
    <div class="docs-alert docs-alert-important">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="979580yksusmmxoebvny3x5kw"><strong>重要：</strong>如果轉換改變了輸入的意義，或者如果它們是
<a href="https://en.wikipedia.org/wiki/Pure_function#Impure_functions" target="_blank">非純函式</a>，請不要使用轉換。相反，對於具有不同意義的轉換，使用 
<code>computed</code>，或者對於在輸入變化時應執行的非純程式碼，使用 
<code>effect</code>。</p>

    </div>
    
  <h2 id="why-should-we-use-signal-inputs-and-not-input">
    <a href="#why-should-we-use-signal-inputs-and-not-input" class="docs-anchor" tabindex="-1" aria-label="Link to Why should we use signal inputs and not <code>@Input()</code>?" data-ng_translator_product="100" data-ng_translator_ref_id="ezl5y9890qzidvdc9g00ujio9">為什麼我們應該使用訊號輸入而不是 
<code>@Input()</code>？</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="3ynj4nj81d8cjifaekw7apkwr">訊號輸入是基於裝飾器的 
<code>@Input()</code> 的回應式替代方案。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="cc2z5zzaeuk66cfxv47hom7hm">與基於裝飾器的 
<code>@Input</code> 相比，訊號輸入提供了許多好處：</p>

    <ol class="docs-ordered-list">
      <li data-ng_translator_product="100" data-ng_translator_ref_id="6qt2jx2rplp9vd218ytfvu99w">訊號輸入具有更強的
<strong>型別安全性</strong>： 
<br>• 必要的輸入不需要初始值，也不需要使用技巧來告訴 TypeScript 某個輸入
<em>始終</em>有值。 
<br>• 轉換會自動檢查以對應接受的輸入值。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="ca3q02v9yumulxgzgekkawj1d">在範本中使用訊號輸入時，會
<strong>自動</strong>將 
<code>OnPush</code> 元件標記為髒。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="o7398e1x87ie85cc4nzytzft">使用 
<code>computed</code> 可以在輸入變化時輕鬆
<strong>派生</strong>值。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="9q7ye9cvqugoszu4umq5h4eqd">使用 
<code>effect</code> 而不是 
<code>ngOnChanges</code> 或 setters 更容易且更區域性地監控輸入。</li>

    </ol>
    