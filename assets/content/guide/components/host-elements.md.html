<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="eofx6x7i3dvam9708xgu4xqjr">组件宿主元素</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/components/host-elements.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    
    <div class="docs-alert docs-alert-tip">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="dgm70qgb782h0hajisr0uqi7a"><strong>提示：</strong>本指南假定你已经阅读了
<a href="essentials">基本指南</a>。如果你是 Angular 的新手，请先阅读该指南。</p>

    </div>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="163bgjyeio1dr0jdgwose0rg">Angular 会为每个与组件选择器匹配的 HTML 元素创建一个组件实例。与组件选择器匹配的 DOM 元素是该组件的
<strong>宿主元素</strong>。组件模板的内容在其宿主元素内部渲染。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-comment">// Component source</span></div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-attr">selector</span>: <span class="hljs-string">'profile-photo'</span>,</div><div class="hljs-ln-line">  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></div><div class="hljs-ln-line">    &lt;img src="profile-photo.jpg" alt="Your profile photo" /&gt;</div><div class="hljs-ln-line">  `,</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfilePhoto</span> {}</div></code>
    </pre>
  </div><div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Using the component --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Your profile photo<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">profile-photo</span> /&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Upload a new profile photo<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div></code>
    </pre>
  </div><div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-comment">&lt;!-- Rendered DOM --&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Your profile photo<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">profile-photo</span>&gt;</span></div><div class="hljs-ln-line">  <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"profile-photo.jpg"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Your profile photo"</span> /&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;/<span class="hljs-name">profile-photo</span>&gt;</span></div><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">button</span>&gt;</span>Upload a new profile photo<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="dftarhm9ithayjcfjjetk9e38">在上面的例子中，
<code>&lt;profile-photo&gt;</code> 是 
<code>ProfilePhoto</code> 组件的宿主元素。</p>

  <h2 id="binding-to-the-host-element">
    <a href="#binding-to-the-host-element" class="docs-anchor" tabindex="-1" aria-label="Link to Binding to the host element" data-ng_translator_product="100" data-ng_translator_ref_id="24s54airj9rjg1ywxy6kd0370">绑定到宿主元素</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="9hr85p929dwhk2ogrg450odtg">组件可以将属性（Properties）、属性（Attributes）和事件绑定到其宿主元素。这与在组件模板内的元素上定义绑定完全相同，但需要在 
<code>@Component</code> 装饰器中的 
<code>host</code> 属性中定义：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  ...,</div><div class="hljs-ln-line">  <span class="hljs-attr">host</span>: {</div><div class="hljs-ln-line">    <span class="hljs-string">'role'</span>: <span class="hljs-string">'slider'</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">'[attr.aria-valuenow]'</span>: <span class="hljs-string">'value'</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">'[tabIndex]'</span>: <span class="hljs-string">'disabled ? -1 : 0'</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">'(keydown)'</span>: <span class="hljs-string">'updateValue($event)'</span>,</div><div class="hljs-ln-line">  },</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomSlider</span> {</div><div class="hljs-ln-line">  <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</div><div class="hljs-ln-line">  <span class="hljs-attr">disabled</span>: <span class="hljs-built_in">boolean</span> = <span class="hljs-literal">false</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">updateValue</span>(<span class="hljs-params">event: KeyboardEvent</span>) { <span class="hljs-comment">/* ... */</span> }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">/* ... */</span></div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div>
  <h2 id="the-hostbinding-and-hostlistener-decorators">
    <a href="#the-hostbinding-and-hostlistener-decorators" class="docs-anchor" tabindex="-1" aria-label="Link to The <code>@HostBinding</code> and <code>@HostListener</code> decorators" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2k070xpbkbolsar32231wl3s"><code>@HostBinding</code> 与 <code>@HostListener</code> 装饰器</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="4m4nq51d2clmk9a0iwpjzcyiq">你可以通过将
<code>@HostBinding</code>和
<code>@HostListener</code>装饰器应用于类成员来替代绑定到宿主元素。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="9p3qvt6417j10namtc8jr7bby"><code>@HostBinding</code>允许你将宿主属性和属性绑定到属性和方法：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-comment">/* ... */</span></div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomSlider</span> {</div><div class="hljs-ln-line">  <span class="hljs-meta">@HostBinding</span>(<span class="hljs-string">'attr.aria-valuenow'</span>)</div><div class="hljs-ln-line">  <span class="hljs-attr">value</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">0</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-meta">@HostBinding</span>(<span class="hljs-string">'tabIndex'</span>)</div><div class="hljs-ln-line">  <span class="hljs-title function_">getTabIndex</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">disabled</span> ? -<span class="hljs-number">1</span> : <span class="hljs-number">0</span>;</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-comment">/* ... */</span></div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="1l4cvywrx18v0rbc2o7pbqrwe"><code>@HostListener</code>允许你将事件监听器绑定到宿主元素。该装饰器接受一个事件名称和一个可选的参数数组：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">CustomSlider</span> {</div><div class="hljs-ln-line">  <span class="hljs-meta">@HostListener</span>(<span class="hljs-string">'keydown'</span>, [<span class="hljs-string">'$event'</span>])</div><div class="hljs-ln-line">  <span class="hljs-title function_">updateValue</span>(<span class="hljs-params">event: KeyboardEvent</span>) {</div><div class="hljs-ln-line">    <span class="hljs-comment">/* ... */</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="18pi4yy2l1vdcs7of9htexmjh"><strong>始终优先使用<code>host</code>属性，而不是<code>@HostBinding</code>和<code>@HostListener</code>。 </strong> 这些装饰器仅用于向后兼容。</p>

  <h2 id="binding-collisions">
    <a href="#binding-collisions" class="docs-anchor" tabindex="-1" aria-label="Link to Binding collisions" data-ng_translator_product="100" data-ng_translator_ref_id="d6ojeap765blzf54s5yko7rfg">绑定冲突</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="8gymodyop1mzt38aznikegrcz">当你在模板中使用组件时，可以向该组件实例的元素添加绑定。该组件
<em>还</em>可以为相同的属性或 Attribute 定义宿主绑定。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  ...,</div><div class="hljs-ln-line">  <span class="hljs-attr">host</span>: {</div><div class="hljs-ln-line">    <span class="hljs-string">'role'</span>: <span class="hljs-string">'presentation'</span>,</div><div class="hljs-ln-line">    <span class="hljs-string">'[id]'</span>: <span class="hljs-string">'id'</span>,</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ProfilePhoto</span> { <span class="hljs-comment">/* ... */</span> }</div></code>
    </pre>
  </div><div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-tag">&lt;<span class="hljs-name">profile-photo</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"group"</span> [<span class="hljs-attr">id</span>]=<span class="hljs-string">"otherId"</span> /&gt;</span></div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="dpoxvor48xs6c883bppb0znxx">在这种情况下，以下规则决定哪个值获胜：</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_ref_id="da2zfxlogq6zzwsq3n7gqi4tm">如果两个值都是静态的，则实例绑定获胜。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="4877fhma7r1uou2fp82xyw042">如果一个值是静态的，另一个是动态的，则动态值获胜。</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="6teb3cootoxosdf5visdmu0jt">如果两个值都是动态的，则组件的宿主绑定获胜。</li>

  </ul>
  