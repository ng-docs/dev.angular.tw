<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="7g5hf0fg0q0hx9vnyvcduoict">组件的生命周期</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/components/lifecycle.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    
    <div class="docs-alert docs-alert-tip">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="dgm70qgb782h0hajisr0uqi7a"><strong>提示：</strong>本指南假定你已经阅读了
<a href="essentials">基本指南</a>。如果你是 Angular 的新手，请先阅读该指南。</p>

    </div>
    <p data-ng_translator_product="100" data-ng_translator_ref_id="7lnqkniisc8fvvf71voi2t6ks">组件的
<strong>生命周期</strong>是指发生在组件创建和销毁之间的一系列步骤。每个步骤代表 Angular 渲染组件并随时间检查更新的不同部分的过程。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="39q1cik1dsa47qpkcbbg2dxzt">在你的组件中，你可以实现
<strong>生命周期钩子</strong>来在这些步骤中运行代码。与特定组件实例相关的生命周期钩子被实现为你组件类上的方法。与整个 Angular 应用程序相关的生命周期钩子被实现为接受回调的函数。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="cdu63rhd38chimg0tle2wh5a7">组件的生命周期与 Angular 如何随时间检查组件的更改密切相关。为了理解这个生命周期，你只需知道 Angular 从上到下遍历你的应用程序树，检查模板绑定的更改。下面描述的生命周期钩子在 Angular 进行此遍历时运行。此遍历确保每个组件仅被访问一次，因此你应该始终避免在过程中进行进一步的状态更改。</p>

  <h2 id="summary">
    <a href="#summary" class="docs-anchor" tabindex="-1" aria-label="Link to Summary" data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2fflknbbur8ttwdtn3o9w4vat">总结</a>
  </h2>
  <div class="docs-table docs-scroll-track-transparent">
  <table>
    <tbody><tr>
      <td><strong data-ng_translator_product="100" data-ng_translator_ref_id="5ksevlnrwwntaghvm9gkh5nf7">阶段</strong></td>
      <td><strong data-ng_translator_product="100" data-ng_translator_ref_id="4ig4whm19kkyq7jxpgodpcmaw">方法</strong></td>
      <td><strong data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="2fflknbbur8ttwdtn3o9w4vat">总结</strong></td>
    </tr>
    <tr>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="65aoee8m9iko3yov1zjh599wy">创建</td>
      <td><code>constructor</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="ar6csir40sp8hh26nhivj4tty"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/constructor" target="_blank"> 标准 JavaScript 类构造函数 </a>。在 Angular 实例化组件时运行。</td>
    </tr>
    <tr>
      <td rowspan="7">Change<p data-ng_translator_product="100" data-ng_translator_ref_id="51te84bnctsml61tfdo8jnqkx">检测</p></td>
      <td><code>ngOnInit</code>
      </td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="d0hojx767b16skwf450yi41gx">在 Angular 初始化所有组件输入后运行一次。</td>
    </tr>
    <tr>
      <td><code>ngOnChanges</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="c4dwnaqjlgwyqbnxwlmwskqkw">每次组件输入发生变化时运行。</td>
    </tr>
    <tr>
      <td><code>ngDoCheck</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="ebvibf3i4bjhd4aq043i5h5e8">每次检查此组件是否有变化时运行。</td>
    </tr>
    <tr>
      <td><code>ngAfterViewInit</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="db668bdsvb1ykftcbi47moeoi">在组件的 
<em>视图</em> 初始化后运行一次。</td>
    </tr>
    <tr>
      <td><code>ngAfterContentInit</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="c6eds1fkkcsycb8rvoh7jlgu8">在组件的 
<em>内容</em> 初始化后运行一次。</td>
    </tr>
    <tr>
      <td><code>ngAfterViewChecked</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="404dfcuixphxavnw5xdnbuhtc">每次检查组件视图是否有变化时运行。</td>
    </tr>
    <tr>
      <td><code>ngAfterContentChecked</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="26hkgwehfiarn4ao1b1zgnmlp">每次检查此组件内容是否有变化时运行。</td>
    </tr>
    <tr>
      <td rowspan="2" data-ng_translator_product="100" data-ng_translator_ref_id="9vqeb2sqzn85547l1m4hw0kqr">渲染</td>
      <td><code>afterNextRender</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="c6ll85e8sguivfo2xjbwoqc4r">当<strong>所有</strong>组件都已渲染到 DOM 时运行一次。</td>
    </tr>
    <tr>
      <td><code>afterRender</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="91qr07p0dwt6ztnw3e2pfz0a8">每次<strong>所有</strong>组件都渲染到 DOM 时运行。</td>
    </tr>
    <tr>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="28timis0qie30wljdvwbth2d0">销毁</td>
      <td><code>ngOnDestroy</code></td>
      <td data-ng_translator_product="100" data-ng_translator_ref_id="ccjfgus1b9q3o9oqj7tfzbam8">在组件被销毁前运行一次。</td>
    </tr>
  </tbody></table>
</div>


  <h3 id="ngoninit">
    <a href="#ngoninit" class="docs-anchor" tabindex="-1" aria-label="Link to ngOnInit">ngOnInit</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="cx311zdi6yoxshvjaaby2pmsf"><code>ngOnInit</code> 方法在 Angular 初始化所有组件输入为初始值后运行。组件的 
<code>ngOnInit</code> 仅运行一次。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="eqslse96kidv0geet2aw0jn8e">此步骤发生在组件自身的模板初始化
<em>之前</em>。这意味着你可以基于组件的初始输入值更新其状态。</p>

  <h3 id="ngonchanges">
    <a href="#ngonchanges" class="docs-anchor" tabindex="-1" aria-label="Link to ngOnChanges">ngOnChanges</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="6rb4loagrj4ibpvlvfaiosedx"><code>ngOnChanges</code> 方法在任何组件输入发生变化后运行。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="b0rzjcjeifyoq9jdg7af35bib">此步骤发生在组件自身的模板检测
<em>之前</em>。这意味着你可以基于组件的初始输入值更新其状态。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="arcedqwfqf6wqlvb7poro1k6h">在初始化期间，第一个 
<code>ngOnChanges</code> 会在 
<code>ngOnInit</code> 之前运行。</p>

  <h4 id="inspecting-changes">
    <a href="#inspecting-changes" class="docs-anchor" tabindex="-1" aria-label="Link to Inspecting changes" data-ng_translator_product="100" data-ng_translator_ref_id="bbcqz0af7pb7vapbu0dw50zr">检查变化</a>
  </h4>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="bjz661gwtomg0qk6mji7e15i4"><code>ngOnChanges</code> 方法接受一个 
<code>SimpleChanges</code> 参数。这个对象是一个 
<a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type" target="_blank"><code>Record</code></a>，将每个组件输入名称映射到一个 
<code>SimpleChange</code> 对象。每个 
<code>SimpleChange</code> 包含输入的前一个值、当前值以及一个标志，指示这是该输入第一次变化。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-comment">/* ... */</span></div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserProfile</span> {</div><div class="hljs-ln-line">  <span class="hljs-meta">@Input</span>() <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span> = <span class="hljs-string">''</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">ngOnChanges</span>(<span class="hljs-params">changes: SimpleChanges</span>) {</div><div class="hljs-ln-line">    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> inputName <span class="hljs-keyword">in</span> changes) {</div><div class="hljs-ln-line">      <span class="hljs-keyword">const</span> inputValues = changes[inputName];</div><div class="hljs-ln-line">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Previous <span class="hljs-subst">${inputName}</span> == <span class="hljs-subst">${inputValues.previousValue}</span>`</span>);</div><div class="hljs-ln-line">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Current <span class="hljs-subst">${inputName}</span> == <span class="hljs-subst">${inputValues.currentValue}</span>`</span>);</div><div class="hljs-ln-line">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Is first <span class="hljs-subst">${inputName}</span> change == <span class="hljs-subst">${inputValues.firstChange}</span>`</span>);</div><div class="hljs-ln-line">    }</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="dzmvqmd8a63uh90pr5yyx169q">如果你为任何输入属性提供了 
<code>alias</code>，
<code>SimpleChanges</code> 记录仍然使用 TypeScript 属性名称作为键，而不是别名。</p>

  <h3 id="ngondestroy">
    <a href="#ngondestroy" class="docs-anchor" tabindex="-1" aria-label="Link to ngOnDestroy">ngOnDestroy</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="dhd3thki9ymyfilk2xptso7wv"><code>ngOnDestroy</code> 方法在组件销毁之前运行一次。当组件不再显示在页面上时，Angular 会销毁组件，比如被 
<code>NgIf</code> 隐藏或导航到另一个页面。</p>

  <h4 id="destroyref">
    <a href="#destroyref" class="docs-anchor" tabindex="-1" aria-label="Link to DestroyRef">DestroyRef</a>
  </h4>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="8w67g6uqm97x929n3emqb6v6m">作为 
<code>ngOnDestroy</code> 方法的替代，你可以注入一个 
<code>DestroyRef</code> 实例。你可以通过调用 
<code>DestroyRef</code> 的 
<code>onDestroy</code> 方法注册一个回调，以在组件销毁时调用。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-comment">/* ... */</span></div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserProfile</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-keyword">private</span> destroyRef: DestroyRef</span>) {</div><div class="hljs-ln-line">    destroyRef.<span class="hljs-title function_">onDestroy</span>(<span class="hljs-function">() =&gt;</span> {</div><div class="hljs-ln-line">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">'UserProfile destruction'</span>);</div><div class="hljs-ln-line">    });</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="3dd9r8wmmc5hinxhxwqc885gr">你可以将 
<code>DestroyRef</code> 实例传递给组件外的函数或类。如果你有其他代码需要在组件销毁时运行一些清理行为，可以使用这种模式。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4670g7xiixjcjlwxf18ezk8ao">你也可以使用 
<code>DestroyRef</code> 将设置代码与清理代码保持接近，而不是将所有清理代码放在 
<code>ngOnDestroy</code> 方法中。</p>

  <h3 id="ngdocheck">
    <a href="#ngdocheck" class="docs-anchor" tabindex="-1" aria-label="Link to ngDoCheck">ngDoCheck</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="5xls35gqouug7w57qhhgnc5ui"><code>ngDoCheck</code> 方法在 Angular 每次检查组件模板的变化之前运行。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="121chyst079ozgxyl652hq7io">你可以使用这个生命周期钩子手动检查 Angular 正常变更检测之外的状态变化，手动更新组件的状态。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4nft5j8qwfqaphf6mpdda91nq">这个方法运行非常频繁，会显著影响页面性能。尽量避免定义这个钩子，只有在没有其他选择时才使用。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="5r4eol9wfmxk2d2nrf9vbscwa">在初始化期间，第一个 
<code>ngDoCheck</code> 会在 
<code>ngOnInit</code> 之后运行。</p>

  <h3 id="ngafterviewinit">
    <a href="#ngafterviewinit" class="docs-anchor" tabindex="-1" aria-label="Link to ngAfterViewInit">ngAfterViewInit</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="7vjjspe6ydyg0fqu3fu04jn9u"><code>ngAfterViewInit</code> 方法在组件模板（其
<em>视图</em>）中的所有子元素初始化后运行一次。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="daw5008q3ns5fswbektojp0q9">你可以使用此生命周期钩子来读取
<a href="guide/components/queries#view-queries">视图查询</a>的结果。虽然可以访问这些查询的已初始化状态，但尝试在此方法中更改任何状态会导致
<a href="errors/NG0100">ExpressionChangedAfterItHasBeenCheckedError</a>。</p>

  <h3 id="ngaftercontentinit">
    <a href="#ngaftercontentinit" class="docs-anchor" tabindex="-1" aria-label="Link to ngAfterContentInit">ngAfterContentInit</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="8u1al6dpktwqid6rt9c1ogwje"><code>ngAfterContentInit</code> 方法在组件内部嵌套的所有子元素（其
<em>内容</em>）初始化后运行一次。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="9jvmi2uypiocgtotu2vhzytj5">你可以使用此生命周期钩子来读取
<a href="guide/components/queries#content-queries">内容查询</a>的结果。虽然可以访问这些查询的已初始化状态，但尝试在此方法中更改任何状态会导致
<a href="errors/NG0100">ExpressionChangedAfterItHasBeenCheckedError</a>。</p>

  <h3 id="ngafterviewchecked">
    <a href="#ngafterviewchecked" class="docs-anchor" tabindex="-1" aria-label="Link to ngAfterViewChecked">ngAfterViewChecked</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="699c4twai74cev426nwq6vf86"><code>ngAfterViewChecked</code> 方法在组件模板（其
<em>视图</em>）中的子元素每次被检查变化时运行。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4nft5j8qwfqaphf6mpdda91nq">这个方法运行非常频繁，会显著影响页面性能。尽量避免定义这个钩子，只有在没有其他选择时才使用。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8030uvzdiext0kc2mogsq5n5y">虽然可以在此处访问
<a href="guide/components/queries#view-queries">视图查询</a>的更新状态，但尝试在此方法中更改任何状态会导致
<a href="errors/NG0100">ExpressionChangedAfterItHasBeenCheckedError</a>。</p>

  <h3 id="ngaftercontentchecked">
    <a href="#ngaftercontentchecked" class="docs-anchor" tabindex="-1" aria-label="Link to ngAfterContentChecked">ngAfterContentChecked</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="a84udi2iqm6rt545763ttu7yb"><code>ngAfterContentChecked</code> 方法在组件内部嵌套的子元素（其
<em>内容</em>）每次被检查变化时运行。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="4nft5j8qwfqaphf6mpdda91nq">这个方法运行非常频繁，会显著影响页面性能。尽量避免定义这个钩子，只有在没有其他选择时才使用。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="b01ek1capqwhlm2jw73vjx2vl">虽然可以在此处访问
<a href="guide/components/queries#content-queries">内容查询</a>的更新状态，但尝试在此方法中更改任何状态会导致
<a href="errors/NG0100">ExpressionChangedAfterItHasBeenCheckedError</a>。</p>

  <h3 id="afterrender-and-afternextrender">
    <a href="#afterrender-and-afternextrender" class="docs-anchor" tabindex="-1" aria-label="Link to afterRender and afterNextRender" data-ng_translator_product="100" data-ng_translator_ref_id="erp3jh0veym9tlv6juytn58g5">afterRender 和 afterNextRender</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="ef3iz9zfpw32dxh7ua6i0xf57"><code>afterRender</code> 和 
<code>afterNextRender</code> 函数允许你注册一个
<strong>渲染回调</strong>，在 Angular 完成将
<em>所有组件</em>渲染到 DOM 后调用。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="5s36ybaqq4lgbm36f94l93pq3">这些函数与本指南中描述的其他生命周期钩子不同。它们不是类方法，而是接受回调的独立函数。渲染回调的执行不绑定到任何特定组件实例，而是应用范围的钩子。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="dzu617cv8mo6j3s6ccfasi9id"><code>afterRender</code> 和 
<code>afterNextRender</code> 必须在
<a href="guide/di/dependency-injection-context">注入上下文</a>中调用，通常是在组件的构造函数中。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="87i6fyayn337ciqkpot4plq79">你可以使用渲染回调来执行手动 DOM 操作。请参见
<a href="guide/components/dom-apis">在 Angular 中使用 DOM API</a>以获取有关操作 DOM 的指导。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="1gapp8ro2grbuzca9pygwmyvf">渲染回调不会在服务器端渲染或构建时预渲染期间运行。</p>

  <h4 id="afterrender-phases">
    <a href="#afterrender-phases" class="docs-anchor" tabindex="-1" aria-label="Link to afterRender phases" data-ng_translator_product="100" data-ng_translator_ref_id="90tzmmmr4zu9p3mh5a319l0cr">afterRender 阶段</a>
  </h4>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="4hk4wmthpenheee0k4jobnsjs">使用 
<code>afterRender</code> 或 
<code>afterNextRender</code> 时，可以选择性地指定一个 
<code>phase</code>。该阶段让你可以控制 DOM 操作的顺序，在
<em>写</em>操作之前进行
<em>读</em>操作，以最小化
<a href="https://web.dev/avoid-large-complex-layouts-and-layout-thrashing" target="_blank">布局抖动</a>。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Component</span>, <span class="hljs-title class_">ElementRef</span>, afterNextRender, <span class="hljs-title class_">AfterRenderPhase</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({...})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserProfile</span> {</div><div class="hljs-ln-line">  <span class="hljs-keyword">private</span> elementHeight = <span class="hljs-number">0</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">elementRef: ElementRef</span>) {</div><div class="hljs-ln-line">    <span class="hljs-keyword">const</span> nativeElement = elementRef.<span class="hljs-property">nativeElement</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-comment">// Use the `Write` phase to write to a geometric property.</span></div><div class="hljs-ln-line">    <span class="hljs-title function_">afterNextRender</span>(<span class="hljs-function">() =&gt;</span> {</div><div class="hljs-ln-line">      nativeElement.<span class="hljs-property">style</span>.<span class="hljs-property">padding</span> = <span class="hljs-title function_">computePadding</span>();</div><div class="hljs-ln-line">    }, {<span class="hljs-attr">phase</span>: <span class="hljs-title class_">AfterRenderPhase</span>.<span class="hljs-property">Write</span>});</div><div class="hljs-ln-line"></div><div class="hljs-ln-line">    <span class="hljs-comment">// Use the `Read` phase to read geometric properties after all writes have occurred.</span></div><div class="hljs-ln-line">    <span class="hljs-title function_">afterNextRender</span>(<span class="hljs-function">() =&gt;</span> {</div><div class="hljs-ln-line">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">elementHeight</span> = nativeElement.<span class="hljs-title function_">getBoundingClientRect</span>().<span class="hljs-property">height</span>;</div><div class="hljs-ln-line">    }, {<span class="hljs-attr">phase</span>: <span class="hljs-title class_">AfterRenderPhase</span>.<span class="hljs-property">Read</span>});</div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="6dgyas7mbiyjuywbe8qgkrehf">有四个阶段，按以下顺序运行：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th data-ng_translator_product="100" data-ng_translator_ref_id="5ksevlnrwwntaghvm9gkh5nf7">阶段</th>
<th data-ng_translator_product="100" data-ng_translator_confirmed data-ng_translator_ref_id="ar5q09mdsagdppsbze96eagxl">说明</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td><code>EarlyRead</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="bgrzphih0w83lry0k7os7peg8">使用此阶段读取任何会影响布局的 DOM 属性和样式（严格必要的后续计算）。如有可能，避免使用此阶段，优选 
<code>Write</code> 和 
<code>Read</code> 阶段。</td>
</tr>
<tr>
<td><code>MixedReadWrite</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="5pxzt71popmd8mq1d3wgsdy4e">默认阶段。用于需要同时读取和写入会影响布局的属性和样式的任何操作。如有可能，避免使用此阶段，优选明确的 
<code>Write</code> 和 
<code>Read</code> 阶段。</td>
</tr>
<tr>
<td><code>Write</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="dgsxnvvn5bzsceiexa0us4af9">使用此阶段写入会影响布局的 DOM 属性和样式。</td>
</tr>
<tr>
<td><code>Read</code></td>
<td data-ng_translator_product="100" data-ng_translator_ref_id="5c773mcu2bmr1iepq131dg7jd">使用此阶段来读取任何影响布局的 DOM 属性。</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h2 id="lifecycle-interfaces">
    <a href="#lifecycle-interfaces" class="docs-anchor" tabindex="-1" aria-label="Link to Lifecycle interfaces" data-ng_translator_product="100" data-ng_translator_ref_id="9330y0bycmor61c37oeq0fh1e">Lifecycle 接口</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="6ro57n042uh0uyx5i1hpelgxv">Angular 为每个生命周期方法提供了一个 TypeScript 接口。你可以选择性地导入并 
<code>实现</code> 这些接口，以确保你的实现没有任何拼写错误或拼写错误。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="drilwm84110ixbo43hfp8qpob">每个接口的名称与对应的方法名称相同，不包含 
<code>ng</code> 前缀。例如，
<code>ngOnInit</code> 的接口是 
<code>OnInit</code>。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  <span class="hljs-comment">/* ... */</span></div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserProfile</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">OnInit</span> {</div><div class="hljs-ln-line">  <span class="hljs-title function_">ngOnInit</span>(<span class="hljs-params"></span>) {</div><div class="hljs-ln-line">    <span class="hljs-comment">/* ... */</span></div><div class="hljs-ln-line">  }</div><div class="hljs-ln-line">}</div></code>
    </pre>
  </div>
  <h2 id="execution-order">
    <a href="#execution-order" class="docs-anchor" tabindex="-1" aria-label="Link to Execution order" data-ng_translator_product="100" data-ng_translator_ref_id="cgv86alr47tre4phay4rb5jpf">执行顺序</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="8oah9h37o4ssl43yyf4pdz2p6">以下图表显示 Angular 生命周期钩子的执行顺序。</p>

  <h3 id="during-initialization">
    <a href="#during-initialization" class="docs-anchor" tabindex="-1" aria-label="Link to During initialization" data-ng_translator_product="100" data-ng_translator_ref_id="5ms0xe103bkgd2wg0h1dis3ur">初始化期间</a>
  </h3>
  <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-7.5 -8 485.90625 615" style="max-width: 485.90625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-id LE-CHANGE" id="L-id-CHANGE-0" d="M234.953,33L234.953,37.167C234.953,41.333,234.953,49.667,234.953,57.117C234.953,64.567,234.953,71.133,234.953,74.417L234.953,77.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CHANGE LE-afterRender" id="L-CHANGE-afterRender-0" d="M234.953,498L234.953,503.667C234.953,509.333,234.953,520.667,234.953,531.117C234.953,541.567,234.953,551.133,234.953,555.917L234.953,560.7"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g transform="translate(234.953125, 532)" class="edgeLabel"><g transform="translate(-36.9140625, -9)" class="label"><foreignobject height="18" width="73.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Rendering</span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(-7.5, 75)" class="root"><g class="clusters"><g id="CHANGE" class="cluster default flowchart-label"><rect height="415" width="469.90625" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(180.234375, 8)" class="cluster-label"><foreignobject height="18" width="125.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Change detection</span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngOnChanges LE-ngOnInit" id="L-ngOnChanges-ngOnInit-0" d="M248.367,66L248.367,70.167C248.367,74.333,248.367,82.667,248.367,90.117C248.367,97.567,248.367,104.133,248.367,107.417L248.367,110.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngOnInit LE-ngDoCheck" id="L-ngOnInit-ngDoCheck-0" d="M248.367,149L248.367,153.167C248.367,157.333,248.367,165.667,248.367,173.117C248.367,180.567,248.367,187.133,248.367,190.417L248.367,193.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngDoCheck LE-ngAfterContentInit" id="L-ngDoCheck-ngAfterContentInit-0" d="M203.648,232L192.355,236.167C181.062,240.333,158.476,248.667,147.183,256.117C135.891,263.567,135.891,270.133,135.891,273.417L135.891,276.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngDoCheck LE-ngAfterViewInit" id="L-ngDoCheck-ngAfterViewInit-0" d="M293.087,232L304.38,236.167C315.672,240.333,338.258,248.667,349.551,256.117C360.844,263.567,360.844,270.133,360.844,273.417L360.844,276.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngAfterContentInit LE-ngAfterContentChecked" id="L-ngAfterContentInit-ngAfterContentChecked-0" d="M135.891,315L135.891,319.167C135.891,323.333,135.891,331.667,135.891,339.117C135.891,346.567,135.891,353.133,135.891,356.417L135.891,359.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngAfterViewInit LE-ngAfterViewChecked" id="L-ngAfterViewInit-ngAfterViewChecked-0" d="M360.844,315L360.844,319.167C360.844,323.333,360.844,331.667,360.844,339.117C360.844,346.567,360.844,353.133,360.844,356.417L360.844,359.7"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(248.3671875, 132.5)" data-id="ngOnInit" data-node="true" id="flowchart-ngOnInit-3" class="node default default flowchart-label"><rect height="33" width="75.484375" y="-16.5" x="-37.7421875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-30.2421875, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="60.484375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngOnInit</span></div></foreignobject></g></g><g transform="translate(248.3671875, 49.5)" data-id="ngOnChanges" data-node="true" id="flowchart-ngOnChanges-2" class="node default default flowchart-label"><rect height="33" width="118.1875" y="-16.5" x="-59.09375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-51.59375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="103.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngOnChanges</span></div></foreignobject></g></g><g transform="translate(248.3671875, 215.5)" data-id="ngDoCheck" data-node="true" id="flowchart-ngDoCheck-5" class="node default default flowchart-label"><rect height="33" width="98.609375" y="-16.5" x="-49.3046875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-41.8046875, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="83.609375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngDoCheck</span></div></foreignobject></g></g><g transform="translate(135.890625, 298.5)" data-id="ngAfterContentInit" data-node="true" id="flowchart-ngAfterContentInit-7" class="node default default flowchart-label"><rect height="33" width="143.96875" y="-16.5" x="-71.984375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-64.484375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="128.96875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngAfterContentInit</span></div></foreignobject></g></g><g transform="translate(360.84375, 298.5)" data-id="ngAfterViewInit" data-node="true" id="flowchart-ngAfterViewInit-9" class="node default default flowchart-label"><rect height="33" width="122.328125" y="-16.5" x="-61.1640625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-53.6640625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="107.328125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngAfterViewInit</span></div></foreignobject></g></g><g transform="translate(135.890625, 381.5)" data-id="ngAfterContentChecked" data-node="true" id="flowchart-ngAfterContentChecked-11" class="node default default flowchart-label"><rect height="33" width="185.78125" y="-16.5" x="-92.890625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-85.390625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="170.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngAfterContentChecked</span></div></foreignobject></g></g><g transform="translate(360.84375, 381.5)" data-id="ngAfterViewChecked" data-node="true" id="flowchart-ngAfterViewChecked-13" class="node default default flowchart-label"><rect height="33" width="164.125" y="-16.5" x="-82.0625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-74.5625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="149.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngAfterViewChecked</span></div></foreignobject></g></g></g></g><g transform="translate(234.953125, 16.5)" data-id="id" data-node="true" id="flowchart-id-0" class="node default default flowchart-label"><rect height="33" width="94.140625" y="-16.5" x="-47.0703125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-39.5703125, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="79.140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">constructor</span></div></foreignobject></g></g><g transform="translate(234.953125, 582.5)" data-id="afterRender" data-node="true" id="flowchart-afterRender-15" class="node default default flowchart-label"><rect height="33" width="99.5" y="-16.5" x="-49.75" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-42.25, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="84.5"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">afterRender</span></div></foreignobject></g></g></g></g></g></svg>
  <h3 id="subsequent-updates">
    <a href="#subsequent-updates" class="docs-anchor" tabindex="-1" aria-label="Link to Subsequent updates" data-ng_translator_product="100" data-ng_translator_ref_id="dxdkv4xhjv3wqvfzbsf5ptyx">后续更新</a>
  </h3>
  <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewbox="-7.5 -8 485.90625 366" style="max-width: 485.90625px;" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:2px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span,#mermaid-generated-diagram p{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .flowchart-label text{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .node .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span,#mermaid-generated-diagram p{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="6" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerheight="12" markerwidth="12" markerunits="userSpaceOnUse" refy="5" refx="4.5" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="11" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5" refx="-1" viewbox="0 0 10 10" class="marker flowchart" id="mermaid-generated-diagram_flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="12" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerheight="11" markerwidth="11" markerunits="userSpaceOnUse" refy="5.2" refx="-1" viewbox="0 0 11 11" class="marker cross flowchart" id="mermaid-generated-diagram_flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-CHANGE LE-afterRender" id="L-CHANGE-afterRender-0" d="M234.953,249L234.953,254.667C234.953,260.333,234.953,271.667,234.953,282.117C234.953,292.567,234.953,302.133,234.953,306.917L234.953,311.7"></path></g><g class="edgeLabels"><g transform="translate(234.953125, 283)" class="edgeLabel"><g transform="translate(-36.9140625, -9)" class="label"><foreignobject height="18" width="73.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">Rendering</span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(-7.5, -8)" class="root"><g class="clusters"><g id="CHANGE" class="cluster default flowchart-label"><rect height="249" width="469.90625" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(180.234375, 8)" class="cluster-label"><foreignobject height="18" width="125.4375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Change detection</span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngOnChanges LE-ngDoCheck" id="L-ngOnChanges-ngDoCheck-0" d="M248.367,66L248.367,70.167C248.367,74.333,248.367,82.667,248.367,90.117C248.367,97.567,248.367,104.133,248.367,107.417L248.367,110.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngDoCheck LE-ngAfterContentChecked" id="L-ngDoCheck-ngAfterContentChecked-0" d="M203.648,149L192.355,153.167C181.062,157.333,158.476,165.667,147.183,173.117C135.891,180.567,135.891,187.133,135.891,190.417L135.891,193.7"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ngDoCheck LE-ngAfterViewChecked" id="L-ngDoCheck-ngAfterViewChecked-0" d="M293.087,149L304.38,153.167C315.672,157.333,338.258,165.667,349.551,173.117C360.844,180.567,360.844,187.133,360.844,190.417L360.844,193.7"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(248.3671875, 132.5)" data-id="ngDoCheck" data-node="true" id="flowchart-ngDoCheck-1" class="node default default flowchart-label"><rect height="33" width="98.609375" y="-16.5" x="-49.3046875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-41.8046875, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="83.609375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngDoCheck</span></div></foreignobject></g></g><g transform="translate(248.3671875, 49.5)" data-id="ngOnChanges" data-node="true" id="flowchart-ngOnChanges-0" class="node default default flowchart-label"><rect height="33" width="118.1875" y="-16.5" x="-59.09375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-51.59375, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="103.1875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngOnChanges</span></div></foreignobject></g></g><g transform="translate(135.890625, 215.5)" data-id="ngAfterContentChecked" data-node="true" id="flowchart-ngAfterContentChecked-3" class="node default default flowchart-label"><rect height="33" width="185.78125" y="-16.5" x="-92.890625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-85.390625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="170.78125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngAfterContentChecked</span></div></foreignobject></g></g><g transform="translate(360.84375, 215.5)" data-id="ngAfterViewChecked" data-node="true" id="flowchart-ngAfterViewChecked-5" class="node default default flowchart-label"><rect height="33" width="164.125" y="-16.5" x="-82.0625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-74.5625, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="149.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ngAfterViewChecked</span></div></foreignobject></g></g></g></g><g transform="translate(234.953125, 333.5)" data-id="afterRender" data-node="true" id="flowchart-afterRender-7" class="node default default flowchart-label"><rect height="33" width="99.5" y="-16.5" x="-49.75" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-42.25, -9)" style="" class="label"><rect></rect><foreignobject height="18" width="84.5"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">afterRender</span></div></foreignobject></g></g></g></g></g></svg>
  <h3 id="ordering-with-directives">
    <a href="#ordering-with-directives" class="docs-anchor" tabindex="-1" aria-label="Link to Ordering with directives" data-ng_translator_product="100" data-ng_translator_ref_id="2d572xwe1thpst8ic3rj1rzpe">指令排序</a>
  </h3>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="1sauzlm204r7r5zjjel55lqgb">当你在一个元素上放置一个或多个指令与组件一起，无论是在模板中还是使用 
<code>hostDirectives</code> 属性，框架不保证在单个元素上的组件和指令之间的任何生命周期钩子的顺序。永远不要依赖于观察到的顺序，因为这在后续版本的 Angular 中可能会发生变化。</p>
