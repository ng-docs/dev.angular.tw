<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">元件生命週期</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/components/lifecycle.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    
    <div class="docs-alert docs-alert-tip">
    <p><strong>提示：</strong> 本指南假定你已經閱讀過<a href="essentials">《要點指南》</a>。如果你是 Angular 新手，請先閱讀它。</p>

    </div>
    <p>元件的<strong>生命週期</strong>是指元件建立和銷燬之間發生的一系列步驟。每個步驟都代表了 Angular 渲染元件並在一段時間內檢查更新過程的不同部分。</p>
<p>在你的元件中，你可以實現<strong>生命週期鉤子</strong>，以便在這些步驟中執行程式碼。與特定元件實例相關的生命週期鉤子在你的元件類別中以方法的形式實現。與整個 Angular 應用相關的生命週期鉤子則以接受回呼的函式的形式實現。</p>
<p>元件的生命週期與 Angular 如何隨時間推移檢查元件變更緊密相關。為了理解這個生命週期，你只需要知道 Angular 會從上到下遍歷你的應用樹，檢查樣板繫結是否有變更。下面描述的生命週期鉤子在 Angular 執行此遍歷時運行。此遍歷會精確訪問每個元件一次，因此你應該始終避免在此過程的中間進行進一步的狀態更改。</p>

  <h2 id="summary">
    <a href="#summary" class="docs-anchor" tabindex="-1" aria-label="Link to Summary">摘要</a>
  </h2>
  <div class="docs-table docs-scroll-track-transparent">
  <table>
    <tbody><tr>
      <td><strong>階段</strong></td>
      <td><strong>方法</strong></td>
      <td><strong>摘要</strong></td>
    </tr>
    <tr>
      <td>建立</td>
      <td><code>constructor</code></td>
      <td>
        <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Classes/constructor" target="_blank">
          標準 JavaScript 類建構式函式
        </a>。當 Angular 實例化元件時執行。</td>
    </tr>
    <tr>
      <td rowspan="7">變更<p>檢測</p></td>
      <td><code>ngOnInit</code>
      </td>
      <td>在 Angular 初始化完元件的所有輸入之後執行一次。</td>
    </tr>
    <tr>
      <td><code>ngOnChanges</code></td>
      <td>每次元件的輸入發生更改時都會執行。</td>
    </tr>
    <tr>
      <td><code>ngDoCheck</code></td>
      <td>每次檢查此元件是否有更改時都會執行。</td>
    </tr>
    <tr>
      <td><code>ngAfterContentInit</code></td>
      <td>在元件的<em>內容</em>初始化之後執行一次。</td>
    </tr>
    <tr>
      <td><code>ngAfterContentChecked</code></td>
      <td>每次檢查此元件內容是否有更改時都會執行。</td>
    </tr>
    <tr>
      <td><code>ngAfterViewInit</code></td>
      <td>在元件的<em>檢視</em>初始化之後執行一次。</td>
    </tr>
    <tr>
      <td><code>ngAfterViewChecked</code></td>
      <td>每次檢查元件的檢視是否有更改時都會執行。</td>
    </tr>
    <tr>
      <td rowspan="2">渲染</td>
      <td><code>afterNextRender</code></td>
      <td>在<strong>所有</strong>元件下次渲染到 DOM 後執行一次。</td>
    </tr>
    <tr>
      <td><code>afterRender</code></td>
      <td>每次<strong>所有</strong>元件渲染到 DOM 後都會執行。</td>
    </tr>
    <tr>
      <td>銷燬</td>
      <td><code>ngOnDestroy</code></td>
      <td>在元件銷燬之前執行一次。</td>
    </tr>
  </tbody></table>
</div>


  <h3 id="ngoninit">
    <a href="#ngoninit" class="docs-anchor" tabindex="-1" aria-label="Link to ngOnInit">ngOnInit</a>
  </h3>
  <p><code>ngOnInit</code> 方法在 Angular 使用初始值初始化完所有元件輸入之後執行。元件的 <code>ngOnInit</code> 恰好執行一次。</p>
<p>此步驟發生在元件自身的樣板初始化<em>之前</em>。這意味著你可以根據其初始輸入值更新元件的狀態。</p>

  <h3 id="ngonchanges">
    <a href="#ngonchanges" class="docs-anchor" tabindex="-1" aria-label="Link to ngOnChanges">ngOnChanges</a>
  </h3>
  <p><code>ngOnChanges</code> 方法在任何元件輸入發生更改後執行。</p>
<p>此步驟發生在檢查元件自身的樣板<em>之前</em>。這意味著你可以根據其初始輸入值更新元件的狀態。</p>
<p>在初始化期間，第一次 <code>ngOnChanges</code> 在 <code>ngOnInit</code> 之前執行。</p>

  <h4 id="inspecting-changes">
    <a href="#inspecting-changes" class="docs-anchor" tabindex="-1" aria-label="Link to Inspecting changes">檢查變更</a>
  </h4>
  <p><code>ngOnChanges</code> 方法接受一個 <code>SimpleChanges</code> 引數。此物件是一個<a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#recordkeys-type" target="_blank"><code>Record</code></a>，它將每個元件輸入名稱對映到一個 <code>SimpleChange</code> 物件。每個 <code>SimpleChange</code> 都包含輸入的先前值、當前值以及一個標誌，指示這是否是輸入第一次更改。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  /* ... */</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> UserProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Input</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ''</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  ngOnChanges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">changes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SimpleChanges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> inputName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> changes) {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> inputValues</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> changes[inputName];</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`Previous ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">inputName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">} == ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">inputValues</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">previousValue</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`Current ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">inputName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">} == ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">inputValues</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">currentValue</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`Is first ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">inputName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">} change == ${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">inputValues</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">firstChange</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
    </pre>
  </div><p>如果你為任何輸入屬性提供了一個 <code>alias</code>，則 <code>SimpleChanges</code> Record 仍然使用 TypeScript 屬性名稱作為鍵，而不是別名。</p>

  <h3 id="ngondestroy">
    <a href="#ngondestroy" class="docs-anchor" tabindex="-1" aria-label="Link to ngOnDestroy">ngOnDestroy</a>
  </h3>
  <p><code>ngOnDestroy</code> 方法在元件銷燬之前執行一次。當元件不再顯示在頁面上時，Angular 會銷燬元件，例如被 <code>@if</code> 隱藏或導向到另一個頁面時。</p>

  <h4 id="destroyref">
    <a href="#destroyref" class="docs-anchor" tabindex="-1" aria-label="Link to DestroyRef">DestroyRef</a>
  </h4>
  <p>作為 <code>ngOnDestroy</code> 方法的替代方案，你可以注入 <code>DestroyRef</code> 的實例。你可以透過呼叫 <code>DestroyRef</code> 的 <code>onDestroy</code> 方法註冊一個回呼，以便在元件銷燬時調用。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  /* ... */</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> UserProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(DestroyRef).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">onDestroy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'UserProfile destruction'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    });</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
    </pre>
  </div><p>你可以將 <code>DestroyRef</code> 實例傳遞給元件外部的函式或類。如果你的其他程式碼在元件銷燬時應執行一些清理行為，請使用此模式。</p>
<p>你還可以使用 <code>DestroyRef</code> 使設定程式碼靠近清理程式碼，而不是將所有清理程式碼都放在 <code>ngOnDestroy</code> 方法中。</p>

  <h3 id="ngdocheck">
    <a href="#ngdocheck" class="docs-anchor" tabindex="-1" aria-label="Link to ngDoCheck">ngDoCheck</a>
  </h3>
  <p>每次 Angular 檢查元件樣板是否有更改之前，<code>ngDoCheck</code> 方法都會執行。</p>
<p>你可以使用此生命週期鉤子來手動檢查 Angular 正常變更檢測之外的狀態更改，並手動更新元件的狀態。</p>
<p>此方法會非常頻繁地執行，並且可能會嚴重影響頁面的效能。請儘可能避免定義此鉤子，僅在別無選擇時才使用它。</p>
<p>在初始化期間，第一次 <code>ngDoCheck</code> 在 <code>ngOnInit</code> 之後執行。</p>

  <h3 id="ngaftercontentinit">
    <a href="#ngaftercontentinit" class="docs-anchor" tabindex="-1" aria-label="Link to ngAfterContentInit">ngAfterContentInit</a>
  </h3>
  <p><code>ngAfterContentInit</code> 方法在元件內部巢狀的所有子元件（即其<em>內容</em>）都初始化之後執行一次。</p>
<p>你可以使用此生命週期鉤子來讀取<a href="guide/components/queries#content-queries">內容查詢</a>的結果。雖然你可以訪問這些查詢的初始化狀態，但嘗試在此方法中更改任何狀態都會導致<a href="errors/NG0100">ExpressionChangedAfterItHasBeenCheckedError</a></p>

  <h3 id="ngaftercontentchecked">
    <a href="#ngaftercontentchecked" class="docs-anchor" tabindex="-1" aria-label="Link to ngAfterContentChecked">ngAfterContentChecked</a>
  </h3>
  <p>每次檢查元件內部巢狀的子元件（即其<em>內容</em>）是否有更改時，<code>ngAfterContentChecked</code> 方法都會執行。</p>
<p>此方法會非常頻繁地執行，並且可能會嚴重影響頁面的效能。請儘可能避免定義此鉤子，僅在別無選擇時才使用它。</p>
<p>雖然你可以在此處訪問<a href="guide/components/queries#content-queries">內容查詢</a>的更新狀態，但嘗試在此方法中更改任何狀態都會導致<a href="errors/NG0100">ExpressionChangedAfterItHasBeenCheckedError</a>。</p>

  <h3 id="ngafterviewinit">
    <a href="#ngafterviewinit" class="docs-anchor" tabindex="-1" aria-label="Link to ngAfterViewInit">ngAfterViewInit</a>
  </h3>
  <p><code>ngAfterViewInit</code> 方法在元件樣板（即<em>檢視</em>）中的所有子條目都完成初始化之後執行一次。</p>
<p>你可以使用這個生命週期鉤子來讀取<a href="guide/components/queries#view-queries">檢視查詢</a>的結果。雖然你可以訪問這些查詢的初始化狀態，但是嘗試在此方法中更改任何狀態都會導致 <a href="errors/NG0100">ExpressionChangedAfterItHasBeenCheckedError</a> 錯誤。</p>

  <h3 id="ngafterviewchecked">
    <a href="#ngafterviewchecked" class="docs-anchor" tabindex="-1" aria-label="Link to ngAfterViewChecked">ngAfterViewChecked</a>
  </h3>
  <p><code>ngAfterViewChecked</code> 方法在每次元件樣板（即<em>檢視</em>）中的子條目完成變更檢查之後執行。</p>
<p>此方法會非常頻繁地執行，並且可能會嚴重影響頁面的效能。請儘可能避免定義此鉤子，僅在別無選擇時才使用它。</p>
<p>雖然你可以在此處訪問<a href="guide/components/queries#view-queries">檢視查詢</a>的更新狀態，但是嘗試在此方法中更改任何狀態都會導致 <a href="errors/NG0100">ExpressionChangedAfterItHasBeenCheckedError</a> 錯誤。</p>

  <h3 id="afterrender-and-afternextrender">
    <a href="#afterrender-and-afternextrender" class="docs-anchor" tabindex="-1" aria-label="Link to afterRender and afterNextRender">afterRender 和 afterNextRender</a>
  </h3>
  <p><code>afterRender</code> 和 <code>afterNextRender</code> 函式允許你註冊一個<strong>渲染回呼</strong>，該回調將在 Angular 完成將頁面上的<em>所有元件</em>渲染到 DOM 中之後被呼叫。</p>
<p>這些函式與本指南中描述的其他生命週期鉤子不同。它們不是類方法，而是接受回呼的獨立函式。渲染回呼的執行不依賴於任何特定的元件實例，而是一個應用級的鉤子。</p>
<p><code>afterRender</code> 和 <code>afterNextRender</code> 必須在<a href="guide/di/dependency-injection-context">注入上下文</a>中呼叫，通常是元件的建構式函式。</p>
<p>你可以使用渲染回呼來執行手動 DOM 操作。有關在 Angular 中使用 DOM 的指南，請參閱<a href="guide/components/dom-apis">使用 DOM API</a>。</p>
<p>渲染回呼在服務器端渲染或建立時預渲染期間不會執行。</p>

  <h4 id="afterrender-phases">
    <a href="#afterrender-phases" class="docs-anchor" tabindex="-1" aria-label="Link to afterRender phases">afterRender 階段</a>
  </h4>
  <p>當使用 <code>afterRender</code> 或 <code>afterNextRender</code> 時，你可以選擇將工作拆分為多個階段。階段使你可以控制 DOM 操作的順序，從而讓你可以在<em>讀取</em>操作之前對<em>寫入</em>操作進行排序，以最大程度地減少<a href="https://web.dev/avoid-large-complex-layouts-and-layout-thrashing" target="_blank">佈局抖動</a>。為了跨階段進行通訊，階段函式可能會回傳一個結果值，該值可以在下一階段中訪問。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {Component, ElementRef, afterNextRender} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> UserProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> prevPadding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> elementHeight</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    private elementRef </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(ElementRef);</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> nativeElement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> elementRef.nativeElement;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    afterNextRender</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // Use the `Write` phase to write to a geometric property.</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      write</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> padding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> computePadding</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> changed</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> padding </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">!==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.prevPadding;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (changed) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          nativeElement.style.padding </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> padding;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        }</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> changed; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Communicate whether anything changed to the read phase.</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      },</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">      // Use the `Read` phase to read geometric properties after all writes have occurred.</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      read</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">didWrite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (didWrite) {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">          this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.elementHeight </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> nativeElement.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getBoundingClientRect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">().height;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    });</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
    </pre>
  </div><p>共有四個階段，按以下順序執行：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th>階段</th>
<th>描述</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td><code>earlyRead</code></td>
<td>使用此階段讀取任何對於後續計算而言絕對必要的、影響佈局的 DOM 屬性和樣式。如果可能，請避免使用此階段，而首選 <code>write</code> 和 <code>read</code> 階段。</td>
</tr>
<tr>
<td><code>mixedReadWrite</code></td>
<td>預設階段。用於任何需要同時讀取和寫入影響佈局的屬性和樣式的操作。如果可能，請避免使用此階段，而首選顯式的 <code>write</code> 和 <code>read</code> 階段。</td>
</tr>
<tr>
<td><code>write</code></td>
<td>使用此階段寫入影響佈局的 DOM 屬性和樣式。</td>
</tr>
<tr>
<td><code>read</code></td>
<td>使用此階段讀取任何影響佈局的 DOM 屬性。</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h2 id="lifecycle-interfaces">
    <a href="#lifecycle-interfaces" class="docs-anchor" tabindex="-1" aria-label="Link to Lifecycle interfaces">生命週期介面</a>
  </h2>
  <p>Angular 為每個生命週期方法提供了一個 TypeScript 介面。你可以選擇匯入並 <code>implement</code> 這些介面，以確保你的實現沒有任何拼寫錯誤。</p>
<p>每個介面的名稱都與其對應的方法相同，只是沒有 <code>ng</code> 字首。例如，<code>ngOnInit</code> 的介面是 <code>OnInit</code>。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  /* ... */</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> UserProfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> OnInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  ngOnInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">    /* ... */</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
    </pre>
  </div>
  <h2 id="execution-order">
    <a href="#execution-order" class="docs-anchor" tabindex="-1" aria-label="Link to Execution order">執行順序</a>
  </h2>
  <p>以下圖表顯示了 Angular 生命週期鉤子的執行順序。</p>

  <h3 id="during-initialization">
    <a href="#during-initialization" class="docs-anchor" tabindex="-1" aria-label="Link to During initialization">在初始化期間</a>
  </h3>
  <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 612.34375 893" style="max-width: 612.34375px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_id_CHANGE_0" d="M306.172,62L306.172,66.167C306.172,70.333,306.172,78.667,306.172,86.333C306.172,94,306.172,101,306.172,104.5L306.172,108"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CHANGE_afterRender_0" d="M306.172,757L306.172,763.167C306.172,769.333,306.172,781.667,306.172,793.333C306.172,805,306.172,816,306.172,821.5L306.172,827"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(306.171875, 794)" class="edgeLabel"><g transform="translate(-40.8515625, -12)" class="label"><foreignObject height="24" width="81.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Rendering</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(0, 104)" class="root"><g class="clusters"><g data-look="classic" id="CHANGE" class="cluster"><rect height="645" width="596.34375" y="8" x="8" style=""></rect><g transform="translate(235.21875, 8)" class="cluster-label"><foreignObject height="24" width="141.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Change detection</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngOnChanges_ngOnInit_0" d="M312.586,99.5L312.586,105.75C312.586,112,312.586,124.5,312.586,136.333C312.586,148.167,312.586,159.333,312.586,164.917L312.586,170.5"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngOnInit_ngDoCheck_0" d="M312.586,228.5L312.586,234.75C312.586,241,312.586,253.5,312.586,265.333C312.586,277.167,312.586,288.333,312.586,293.917L312.586,299.5"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngDoCheck_ngAfterContentInit_0" d="M252.271,357.5L238.309,363.75C224.347,370,196.424,382.5,182.462,394.333C168.5,406.167,168.5,417.333,168.5,422.917L168.5,428.5"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngDoCheck_ngAfterViewInit_0" d="M372.901,357.5L386.863,363.75C400.825,370,428.748,382.5,442.71,394.333C456.672,406.167,456.672,417.333,456.672,422.917L456.672,428.5"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngAfterContentInit_ngAfterContentChecked_0" d="M168.5,486.5L168.5,492.75C168.5,499,168.5,511.5,168.5,523.333C168.5,535.167,168.5,546.333,168.5,551.917L168.5,557.5"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngAfterViewInit_ngAfterViewChecked_0" d="M456.672,486.5L456.672,492.75C456.672,499,456.672,511.5,456.672,523.333C456.672,535.167,456.672,546.333,456.672,551.917L456.672,557.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(312.5859375, 72.5)" id="flowchart-ngOnChanges-2" class="node default"><rect height="54" width="172.625" y="-27" x="-86.3125" style="" class="basic label-container"></rect><g transform="translate(-56.3125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="112.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngOnChanges</p></span></div></foreignObject></g></g><g transform="translate(312.5859375, 201.5)" id="flowchart-ngOnInit-3" class="node default"><rect height="54" width="128.609375" y="-27" x="-64.3046875" style="" class="basic label-container"></rect><g transform="translate(-34.3046875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="68.609375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngOnInit</p></span></div></foreignObject></g></g><g transform="translate(312.5859375, 330.5)" id="flowchart-ngDoCheck-5" class="node default"><rect height="54" width="151.625" y="-27" x="-75.8125" style="" class="basic label-container"></rect><g transform="translate(-45.8125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="91.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngDoCheck</p></span></div></foreignObject></g></g><g transform="translate(168.5, 459.5)" id="flowchart-ngAfterContentInit-7" class="node default"><rect height="54" width="207.9375" y="-27" x="-103.96875" style="" class="basic label-container"></rect><g transform="translate(-73.96875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="147.9375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngAfterContentInit</p></span></div></foreignObject></g></g><g transform="translate(456.671875, 459.5)" id="flowchart-ngAfterViewInit-9" class="node default"><rect height="54" width="182.265625" y="-27" x="-91.1328125" style="" class="basic label-container"></rect><g transform="translate(-61.1328125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="122.265625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngAfterViewInit</p></span></div></foreignObject></g></g><g transform="translate(168.5, 588.5)" id="flowchart-ngAfterContentChecked-11" class="node default"><rect height="54" width="251" y="-27" x="-125.5" style="" class="basic label-container"></rect><g transform="translate(-95.5, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="191"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngAfterContentChecked</p></span></div></foreignObject></g></g><g transform="translate(456.671875, 588.5)" id="flowchart-ngAfterViewChecked-13" class="node default"><rect height="54" width="225.34375" y="-27" x="-112.671875" style="" class="basic label-container"></rect><g transform="translate(-82.671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="165.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngAfterViewChecked</p></span></div></foreignObject></g></g></g></g><g transform="translate(306.171875, 35)" id="flowchart-id-0" class="node default"><rect height="54" width="151.5" y="-27" x="-75.75" style="" class="basic label-container"></rect><g transform="translate(-45.75, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="91.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>constructor</p></span></div></foreignObject></g></g><g transform="translate(306.171875, 858)" id="flowchart-afterRender-15" class="node default"><rect height="54" width="154.8125" y="-27" x="-77.40625" style="" class="basic label-container"></rect><g transform="translate(-47.40625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="94.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>afterRender</p></span></div></foreignObject></g></g></g></g></g></svg>
  <h3 id="subsequent-updates">
    <a href="#subsequent-updates" class="docs-anchor" tabindex="-1" aria-label="Link to Subsequent updates">後續更新</a>
  </h3>
  <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 612.34375 531" style="max-width: 612.34375px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_CHANGE_afterRender_0" d="M306.172,395L306.172,401.167C306.172,407.333,306.172,419.667,306.172,431.333C306.172,443,306.172,454,306.172,459.5L306.172,465"></path></g><g class="edgeLabels"><g transform="translate(306.171875, 432)" class="edgeLabel"><g transform="translate(-40.8515625, -12)" class="label"><foreignObject height="24" width="81.703125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"><p>Rendering</p></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="CHANGE" class="cluster"><rect height="387" width="596.34375" y="8" x="8" style=""></rect><g transform="translate(235.21875, 8)" class="cluster-label"><foreignObject height="24" width="141.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Change detection</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngOnChanges_ngDoCheck_0" d="M312.586,99.5L312.586,105.75C312.586,112,312.586,124.5,312.586,136.333C312.586,148.167,312.586,159.333,312.586,164.917L312.586,170.5"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngDoCheck_ngAfterContentChecked_0" d="M252.271,228.5L238.309,234.75C224.347,241,196.424,253.5,182.462,265.333C168.5,277.167,168.5,288.333,168.5,293.917L168.5,299.5"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ngDoCheck_ngAfterViewChecked_0" d="M372.901,228.5L386.863,234.75C400.825,241,428.748,253.5,442.71,265.333C456.672,277.167,456.672,288.333,456.672,293.917L456.672,299.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(312.5859375, 72.5)" id="flowchart-ngOnChanges-0" class="node default"><rect height="54" width="172.625" y="-27" x="-86.3125" style="" class="basic label-container"></rect><g transform="translate(-56.3125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="112.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngOnChanges</p></span></div></foreignObject></g></g><g transform="translate(312.5859375, 201.5)" id="flowchart-ngDoCheck-1" class="node default"><rect height="54" width="151.625" y="-27" x="-75.8125" style="" class="basic label-container"></rect><g transform="translate(-45.8125, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="91.625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngDoCheck</p></span></div></foreignObject></g></g><g transform="translate(168.5, 330.5)" id="flowchart-ngAfterContentChecked-3" class="node default"><rect height="54" width="251" y="-27" x="-125.5" style="" class="basic label-container"></rect><g transform="translate(-95.5, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="191"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngAfterContentChecked</p></span></div></foreignObject></g></g><g transform="translate(456.671875, 330.5)" id="flowchart-ngAfterViewChecked-5" class="node default"><rect height="54" width="225.34375" y="-27" x="-112.671875" style="" class="basic label-container"></rect><g transform="translate(-82.671875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="165.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>ngAfterViewChecked</p></span></div></foreignObject></g></g></g></g><g transform="translate(306.171875, 496)" id="flowchart-afterRender-7" class="node default"><rect height="54" width="154.8125" y="-27" x="-77.40625" style="" class="basic label-container"></rect><g transform="translate(-47.40625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="94.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>afterRender</p></span></div></foreignObject></g></g></g></g></g></svg>
  <h3 id="ordering-with-directives">
    <a href="#ordering-with-directives" class="docs-anchor" tabindex="-1" aria-label="Link to Ordering with directives">指令的順序</a>
  </h3>
  <p>當你在樣板中或使用 <code>hostDirectives</code> 屬性將一個或多個指令與元件放在同一元素上時，框架不保證元件和單個元素上的指令之間給定生命週期鉤子的任何順序。永遠不要依賴觀察到的順序，因為這可能會在 Angular 的後續版本中發生變化。</p>
