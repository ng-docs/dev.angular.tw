<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1" data-ng_translator_product="100" data-ng_translator_ref_id="3hzd02firm35xdilovlna70jn">高级组件配置</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/components/advanced-configuration.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    
    <div class="docs-alert docs-alert-tip">
    <p data-ng_translator_product="100" data-ng_translator_ref_id="dgm70qgb782h0hajisr0uqi7a"><strong>提示：</strong>本指南假定你已经阅读了
<a href="essentials">基本指南</a>。如果你是 Angular 的新手，请先阅读该指南。</p>

    </div>
    
  <h2 id="changedetectionstrategy">
    <a href="#changedetectionstrategy" class="docs-anchor" tabindex="-1" aria-label="Link to ChangeDetectionStrategy">ChangeDetectionStrategy</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="esp7aesowujt78t6rxqn7nb78"><code>@Component</code> 装饰器接受一个 
<code>changeDetection</code> 选项，用于控制组件的
<strong>变更检测模式</strong>。有两种变更检测模式选项。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="6q8i06tc69o85yqdfegfimbxq"><strong><code>ChangeDetectionStrategy.Default</code></strong> 是默认策略。在这种模式下，Angular 会在可能发生应用程序范围的任何活动时检查组件的 DOM 是否需要更新。触发此检查的活动包括用户交互、网络响应、定时器等。</p>
<p data-ng_translator_product="100" data-ng_translator_ref_id="8fwtruihxlb1vccq53zlpaklr"><strong><code>ChangeDetectionStrategy.OnPush</code></strong> 是一个可选模式，可减少 Angular 需要执行的检查量。在这种模式下，框架只在以下情况下检查组件的 DOM 是否需要更新：</p>

  <ul class="docs-list">
    <li data-ng_translator_product="100" data-ng_translator_ref_id="6wca7sm3ibqr3b0313ca1dmf6">组件输入由模板中的绑定导致的更改，或</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="3r4sbt9x5niu4wo9viucd3vx9">此组件中的事件侦听器运行</li>
<li data-ng_translator_product="100" data-ng_translator_ref_id="brt75basyefbb97sp7e1c6q5x">通过 
<code>ChangeDetectorRef.markForCheck</code> 或类似 
<code>AsyncPipe</code> 包装它的方式显式标记检查组件。</li>

  </ul>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="50a0f1wr8s14xhw3k0blsngmd">此外，当一个 OnPush 组件被检查时，Angular 
<em>还</em>会检查其所有祖先组件，向上遍历整个应用树。</p>

  <h2 id="preservewhitespace">
    <a href="#preservewhitespace" class="docs-anchor" tabindex="-1" aria-label="Link to PreserveWhitespace">PreserveWhitespace</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="870qvk9xji0y4plb7xpq2u2gk">默认情况下，Angular 会从模板中移除和折叠多余的空白，主要来自换行和缩进。你可以通过在组件元数据中显式设置 
<code>preserveWhitespace</code> 为 false 来更改此设置。</p>

  <h2 id="custom-element-schemas">
    <a href="#custom-element-schemas" class="docs-anchor" tabindex="-1" aria-label="Link to Custom element schemas" data-ng_translator_product="100" data-ng_translator_ref_id="b5ikav0c225o8dmi44a01sf1c">自定义元素模式</a>
  </h2>
  <p data-ng_translator_product="100" data-ng_translator_ref_id="di6ghbg5y55s2l3qrictpxwy6">默认情况下，当 Angular 遇到未知的 HTML 元素时会抛出错误。你可以通过在组件元数据中的 
<code>schemas</code> 属性中包含 
<code>CUSTOM_ELEMENTS_SCHEMA</code> 来禁用此行为。</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <code><div class="hljs-ln-line"><span class="hljs-keyword">import</span> {<span class="hljs-title class_">Component</span>, <span class="hljs-variable constant_">CUSTOM_ELEMENTS_SCHEMA</span>} <span class="hljs-keyword">from</span> <span class="hljs-string">'@angular/core'</span>;</div><div class="hljs-ln-line"></div><div class="hljs-ln-line"><span class="hljs-meta">@Component</span>({</div><div class="hljs-ln-line">  ...,</div><div class="hljs-ln-line">  <span class="hljs-attr">schemas</span>: [<span class="hljs-variable constant_">CUSTOM_ELEMENTS_SCHEMA</span>],</div><div class="hljs-ln-line">  <span class="hljs-attr">template</span>: <span class="hljs-string">'&lt;some-unknown-component&gt;&lt;/some-unknown-component&gt;'</span></div><div class="hljs-ln-line">})</div><div class="hljs-ln-line"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentWithCustomElements</span> { }</div></code>
    </pre>
  </div><p data-ng_translator_product="100" data-ng_translator_ref_id="cx79isyy1d59bgdbebwp74e0f">Angular 目前不支持其他模式。</p>
