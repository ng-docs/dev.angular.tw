<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">元件樣式</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/components/styling.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    
    <div class="docs-alert docs-alert-tip">
    <p><strong>提示：</strong> 本指南假定你已閱讀過<a href="essentials">《要點指南》</a>。 如果你是 Angular 新手，請先閱讀它。</p>

    </div>
    <p>元件可以選擇包含應用於該組件 DOM 的 CSS 樣式：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'profile-photo'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  template: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"profile-photo.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> alt</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"Your profile photo"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styles: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D"> img</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">border-radius</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">50</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; } </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ProfilePhoto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { }</span></span></code></pre>
    </pre>
  </div><p>你也可以選擇在單獨的檔案中編寫樣式：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'profile-photo'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'profile-photo.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'profile-photo.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ProfilePhoto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { }</span></span></code></pre>
    </pre>
  </div><p>當 Angular 編譯你的元件時，這些樣式會隨元件的 JavaScript 輸出一起發出。 這意味著元件樣式參與 JavaScript 模組系統。 當你渲染 Angular 元件時，即使在延遲載入元件時，該框架也會自動包含其關聯的樣式。</p>
<p>Angular 可以與任何輸出 CSS 的工具一起使用，包括 <a href="https://sass-lang.com" target="_blank">Sass</a>、<a href="https://lesscss.org" target="_blank">less</a> 和 <a href="https://stylus-lang.com" target="_blank">stylus</a>。</p>

  <h2 id="style-scoping">
    <a href="#style-scoping" class="docs-anchor" tabindex="-1" aria-label="Link to Style scoping">樣式作用域</a>
  </h2>
  <p>每個元件都有一個<strong>檢視封裝</strong>設定，用於確定框架如何限定元件樣式的作用域。 有三種檢視封裝模式：<code>Emulated</code>、<code>ShadowDom</code> 和 <code>None</code>。 你可以在 <code>@Component</code> 裝飾器中指定模式：</p>
<div class="docs-code">
    
    <pre class="docs-mini-scroll-track">      <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  encapsulation: ViewEncapsulation.None,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ProfilePhoto</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { }</span></span></code></pre>
    </pre>
  </div>
  <h3 id="viewencapsulationemulated">
    <a href="#viewencapsulationemulated" class="docs-anchor" tabindex="-1" aria-label="Link to ViewEncapsulation.Emulated">ViewEncapsulation.Emulated</a>
  </h3>
  <p>預設情況下，Angular 使用模擬封裝，以便元件的樣式僅應用於在該組件範本中定義的元素。 在此模式下，框架為每個元件實例生成唯一的 HTML Attribute，將該 Attribute 新增到元件範本中的元素，並將該 Attribute 插入到元件樣式中定義的 CSS 選擇器中。</p>
<p>此模式確保元件的樣式不會洩漏出去並影響其他元件。 但是，在元件外部定義的全域樣式仍然可能會影響具有模擬封裝的元件內部的元素。</p>
<p>在模擬模式下，Angular 支援 <a href="https://developer.mozilla.org/docs/Web/CSS/:host" target="_blank"><code>:host</code></a> 和 <a href="https://developer.mozilla.org/docs/Web/CSS/:host-context" target="_blank"><code>:host-context()</code></a> 偽類別，而無需使用 <a href="https://developer.mozilla.org/docs/Web/Web_Components/Using_shadow_DOM" target="_blank">Shadow DOM</a>。 在編譯期間，框架會將這些偽類別轉換為 Attribute，因此它在執行時不符合這些原生偽類別的規則（例如，瀏覽器相容性、特異性）。 Angular 的模擬封裝模式不支援任何其他與 Shadow DOM 相關的偽類別，例如 <code>::shadow</code> 或 <code>::part</code>。</p>

  <h4 id="ng-deep">
    <a href="#ng-deep" class="docs-anchor" tabindex="-1" aria-label="Link to <code>::ng-deep</code>"><code>::ng-deep</code></a>
  </h4>
  <p>Angular 的模擬封裝模式支援自定義偽類別 <code>::ng-deep</code>。 將此偽類別應用於 CSS 規則會停用該規則的封裝，從而有效地將其轉換為全域樣式。 <strong>Angular 團隊強烈建議不要再使用 <code>::ng-deep</code></strong>。 這些 API 仍然完全是為了向後相容。</p>

  <h3 id="viewencapsulationshadowdom">
    <a href="#viewencapsulationshadowdom" class="docs-anchor" tabindex="-1" aria-label="Link to ViewEncapsulation.ShadowDom">ViewEncapsulation.ShadowDom</a>
  </h3>
  <p>此模式透過使用 <a href="https://developer.mozilla.org/docs/Web/Web_Components/Using_shadow_DOM" target="_blank">Web 標準 Shadow DOM API</a> 在元件內限定樣式的作用域。 啟用此模式後，Angular 會將陰影根附著到元件的宿主元素，並將元件的範本和樣式渲染到相應的陰影樹中。</p>
<p>此模式嚴格保證<em>只有</em>該組件的樣式才應用於元件範本中的元素。 全域樣式不能影響陰影樹中的元素，陰影樹內的樣式也不能影響該陰影樹之外的元素。</p>
<p>但是，啟用 <code>ShadowDom</code> 封裝的影響不僅僅是樣式作用域。 在陰影樹中渲染元件會影響事件傳播、與 <a href="https://developer.mozilla.org/docs/Web/Web_Components/Using_templates_and_slots" target="_blank"><code>&lt;slot&gt;</code> API</a> 的互動以及瀏覽器開發者工具顯示元素的方式。 在你的應用中啟用此選項之前，請務必瞭解使用 Shadow DOM 的全部含義。</p>

  <h3 id="viewencapsulationnone">
    <a href="#viewencapsulationnone" class="docs-anchor" tabindex="-1" aria-label="Link to ViewEncapsulation.None">ViewEncapsulation.None</a>
  </h3>
  <p>此模式停用元件的所有樣式封裝。 與元件關聯的任何樣式都表現為全域樣式。</p>

    <div class="docs-alert docs-alert-note">
    <p><strong>注意：</strong> 在 <code>Emulated</code> 和 <code>ShadowDom</code> 模式下，Angular 不能 100% 保證你的元件樣式始終會覆蓋來自外部的樣式。 假設在發生衝突時，這些樣式與你的元件樣式具有相同的特異性。</p>

    </div>
    
  <h2 id="defining-styles-in-templates">
    <a href="#defining-styles-in-templates" class="docs-anchor" tabindex="-1" aria-label="Link to Defining styles in templates">在範本中定義樣式</a>
  </h2>
  <p>你可以在元件的範本中使用 <code>&lt;style&gt;</code> 元素來定義其他樣式。 元件的檢視封裝模式適用於以這種方式定義的樣式。</p>
<p>Angular 不支援樣式元素內部的繫結。</p>

  <h2 id="referencing-external-style-files">
    <a href="#referencing-external-style-files" class="docs-anchor" tabindex="-1" aria-label="Link to Referencing external style files">引用外部樣式檔案</a>
  </h2>
  <p>元件範本可以 使用 <a href="https://developer.mozilla.org/docs/Web/HTML/Element/link" target="_blank"><code>&lt;link&gt;</code> 元素</a> 來引用 CSS 檔案。 此外，你的 CSS 可能會使用 <a href="https://developer.mozilla.org/docs/Web/CSS/@import" target="_blank"><code>@import</code> at-rule</a> 來引用 CSS 檔案。 Angular 將這些引用視為<em>外部</em>樣式。 外部樣式不受模擬檢視封裝的影響。</p>
